import{$ as Rn,A as kw,B as qt,C as Bi,D as $c,E as fa,F as Fw,G as Lw,H as L,I as St,J as Ue,K as Np,L as Vw,M as pa,N as _t,O as ii,P as Wc,Q as Rp,R as Bw,S as Eo,T as ga,U as Op,V as jw,W as Uw,X as Io,Y as ma,Z as nt,_ as xp,a as C,b as Y,c as Vc,d as _,e as Bc,f as Dw,g as jc,h as Ew,i as Iw,j as Tw,k as b,l as Do,m as Uc,n as Sw,o as Aw,p as Mw,q as Ye,r as Nw,s as Mp,t as Rw,u as Nn,v as Ow,w as xw,x as Hc,y as Ve,z as Pw}from"./chunk-2L3K2QDY.js";function Hw(e,t){return Object.is(e,t)}var He=null,Gc=!1,zc=1,ri=Symbol("SIGNAL");function oe(e){let t=He;return He=e,t}function $w(){return He}var va={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Fp(e){if(Gc)throw new Error("");if(He===null)return;He.consumerOnSignalRead(e);let t=He.nextProducerIndex++;if(Qc(He),t<He.producerNode.length&&He.producerNode[t]!==e&&_a(He)){let n=He.producerNode[t];Kc(n,He.producerIndexOfThis[t])}He.producerNode[t]!==e&&(He.producerNode[t]=e,He.producerIndexOfThis[t]=_a(He)?qw(e,He,t):0),He.producerLastReadVersion[t]=e.version}function oR(){zc++}function Ww(e){if(!(_a(e)&&!e.dirty)&&!(!e.dirty&&e.lastCleanEpoch===zc)){if(!e.producerMustRecompute(e)&&!Vp(e)){e.dirty=!1,e.lastCleanEpoch=zc;return}e.producerRecomputeValue(e),e.dirty=!1,e.lastCleanEpoch=zc}}function Gw(e){if(e.liveConsumerNode===void 0)return;let t=Gc;Gc=!0;try{for(let n of e.liveConsumerNode)n.dirty||sR(n)}finally{Gc=t}}function zw(){return He?.consumerAllowSignalWrites!==!1}function sR(e){e.dirty=!0,Gw(e),e.consumerMarkedDirty?.(e)}function Yc(e){return e&&(e.nextProducerIndex=0),oe(e)}function Lp(e,t){if(oe(t),!(!e||e.producerNode===void 0||e.producerIndexOfThis===void 0||e.producerLastReadVersion===void 0)){if(_a(e))for(let n=e.nextProducerIndex;n<e.producerNode.length;n++)Kc(e.producerNode[n],e.producerIndexOfThis[n]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function Vp(e){Qc(e);for(let t=0;t<e.producerNode.length;t++){let n=e.producerNode[t],i=e.producerLastReadVersion[t];if(i!==n.version||(Ww(n),i!==n.version))return!0}return!1}function Bp(e){if(Qc(e),_a(e))for(let t=0;t<e.producerNode.length;t++)Kc(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function qw(e,t,n){if(Yw(e),e.liveConsumerNode.length===0&&Kw(e))for(let i=0;i<e.producerNode.length;i++)e.producerIndexOfThis[i]=qw(e.producerNode[i],e,i);return e.liveConsumerIndexOfThis.push(n),e.liveConsumerNode.push(t)-1}function Kc(e,t){if(Yw(e),e.liveConsumerNode.length===1&&Kw(e))for(let i=0;i<e.producerNode.length;i++)Kc(e.producerNode[i],e.producerIndexOfThis[i]);let n=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[n],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[n],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){let i=e.liveConsumerIndexOfThis[t],r=e.liveConsumerNode[t];Qc(r),r.producerIndexOfThis[i]=t}}function _a(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function Qc(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function Yw(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}function Kw(e){return e.producerNode!==void 0}function Qw(e){let t=Object.create(aR);t.computation=e;let n=()=>{if(Ww(t),Fp(t),t.value===qc)throw t.error;return t.value};return n[ri]=t,n}var Pp=Symbol("UNSET"),kp=Symbol("COMPUTING"),qc=Symbol("ERRORED"),aR=Y(C({},va),{value:Pp,dirty:!0,error:null,equal:Hw,producerMustRecompute(e){return e.value===Pp||e.value===kp},producerRecomputeValue(e){if(e.value===kp)throw new Error("Detected cycle in computations.");let t=e.value;e.value=kp;let n=Yc(e),i;try{i=e.computation()}catch(r){i=qc,e.error=r}finally{Lp(e,n)}if(t!==Pp&&t!==qc&&i!==qc&&e.equal(t,i)){e.value=t;return}e.value=i,e.version++}});function lR(){throw new Error}var Zw=lR;function Jw(){Zw()}function Xw(e){Zw=e}var cR=null;function eC(e){let t=Object.create(nC);t.value=e;let n=()=>(Fp(t),t.value);return n[ri]=t,n}function jp(e,t){zw()||Jw(),e.equal(e.value,t)||(e.value=t,uR(e))}function tC(e,t){zw()||Jw(),jp(e,t(e.value))}var nC=Y(C({},va),{equal:Hw,value:void 0});function uR(e){e.version++,oR(),Gw(e),cR?.()}function P(e){return typeof e=="function"}function To(e){let n=e(i=>{Error.call(i),i.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Zc=To(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((i,r)=>`${r+1}) ${i.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Ar(e,t){if(e){let n=e.indexOf(t);0<=n&&e.splice(n,1)}}var Re=class e{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:i}=this;if(P(i))try{i()}catch(o){t=o instanceof Zc?o.errors:[o]}let{_finalizers:r}=this;if(r){this._finalizers=null;for(let o of r)try{iC(o)}catch(s){t=t??[],s instanceof Zc?t=[...t,...s.errors]:t.push(s)}}if(t)throw new Zc(t)}}add(t){var n;if(t&&t!==this)if(this.closed)iC(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}}_hasParent(t){let{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){let{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&Ar(n,t)}remove(t){let{_finalizers:n}=this;n&&Ar(n,t),t instanceof e&&t._removeParent(this)}};Re.EMPTY=(()=>{let e=new Re;return e.closed=!0,e})();var Up=Re.EMPTY;function Jc(e){return e instanceof Re||e&&"closed"in e&&P(e.remove)&&P(e.add)&&P(e.unsubscribe)}function iC(e){P(e)?e():e.unsubscribe()}var un={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var So={setTimeout(e,t,...n){let{delegate:i}=So;return i?.setTimeout?i.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){let{delegate:t}=So;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function Xc(e){So.setTimeout(()=>{let{onUnhandledError:t}=un;if(t)t(e);else throw e})}function oi(){}var rC=Hp("C",void 0,void 0);function oC(e){return Hp("E",void 0,e)}function sC(e){return Hp("N",e,void 0)}function Hp(e,t,n){return{kind:e,value:t,error:n}}var Mr=null;function Ao(e){if(un.useDeprecatedSynchronousErrorHandling){let t=!Mr;if(t&&(Mr={errorThrown:!1,error:null}),e(),t){let{errorThrown:n,error:i}=Mr;if(Mr=null,n)throw i}}else e()}function aC(e){un.useDeprecatedSynchronousErrorHandling&&Mr&&(Mr.errorThrown=!0,Mr.error=e)}var Nr=class extends Re{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,Jc(t)&&t.add(this)):this.destination=fR}static create(t,n,i){return new si(t,n,i)}next(t){this.isStopped?Wp(sC(t),this):this._next(t)}error(t){this.isStopped?Wp(oC(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?Wp(rC,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},dR=Function.prototype.bind;function $p(e,t){return dR.call(e,t)}var Gp=class{constructor(t){this.partialObserver=t}next(t){let{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(i){eu(i)}}error(t){let{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(i){eu(i)}else eu(t)}complete(){let{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){eu(n)}}},si=class extends Nr{constructor(t,n,i){super();let r;if(P(t)||!t)r={next:t??void 0,error:n??void 0,complete:i??void 0};else{let o;this&&un.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),r={next:t.next&&$p(t.next,o),error:t.error&&$p(t.error,o),complete:t.complete&&$p(t.complete,o)}):r=t}this.destination=new Gp(r)}};function eu(e){un.useDeprecatedSynchronousErrorHandling?aC(e):Xc(e)}function hR(e){throw e}function Wp(e,t){let{onStoppedNotification:n}=un;n&&So.setTimeout(()=>n(e,t))}var fR={closed:!0,next:oi,error:hR,complete:oi};var Mo=typeof Symbol=="function"&&Symbol.observable||"@@observable";function it(e){return e}function zp(...e){return qp(e)}function qp(e){return e.length===0?it:e.length===1?e[0]:function(n){return e.reduce((i,r)=>r(i),n)}}var F=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){let i=new e;return i.source=this,i.operator=n,i}subscribe(n,i,r){let o=gR(n)?n:new si(n,i,r);return Ao(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(i){n.error(i)}}forEach(n,i){return i=lC(i),new i((r,o)=>{let s=new si({next:a=>{try{n(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:r});this.subscribe(s)})}_subscribe(n){var i;return(i=this.source)===null||i===void 0?void 0:i.subscribe(n)}[Mo](){return this}pipe(...n){return qp(n)(this)}toPromise(n){return n=lC(n),new n((i,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>i(o))})}}return e.create=t=>new e(t),e})();function lC(e){var t;return(t=e??un.Promise)!==null&&t!==void 0?t:Promise}function pR(e){return e&&P(e.next)&&P(e.error)&&P(e.complete)}function gR(e){return e&&e instanceof Nr||pR(e)&&Jc(e)}function Yp(e){return P(e?.lift)}function $(e){return t=>{if(Yp(t))return t.lift(function(n){try{return e(n,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function B(e,t,n,i,r){return new Kp(e,t,n,i,r)}var Kp=class extends Nr{constructor(t,n,i,r,o,s){super(t),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(l){t.error(l)}}:super._next,this._error=r?function(a){try{r(a)}catch(l){t.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((t=this.onFinalize)===null||t===void 0||t.call(this))}}};function No(){return $((e,t)=>{let n=null;e._refCount++;let i=B(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount){n=null;return}let r=e._connection,o=n;n=null,r&&(!o||r===o)&&r.unsubscribe(),t.unsubscribe()});e.subscribe(i),i.closed||(n=e.connect())})}var Ro=class extends F{constructor(t,n){super(),this.source=t,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Yp(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){let t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Re;let n=this.getSubject();t.add(this.source.subscribe(B(n,void 0,()=>{this._teardown(),n.complete()},i=>{this._teardown(),n.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Re.EMPTY)}return t}refCount(){return No()(this)}};var cC=To(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var re=(()=>{class e extends F{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let i=new tu(this,this);return i.operator=n,i}_throwIfClosed(){if(this.closed)throw new cC}next(n){Ao(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let i of this.currentObservers)i.next(n)}})}error(n){Ao(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:i}=this;for(;i.length;)i.shift().error(n)}})}complete(){Ao(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:i,isStopped:r,observers:o}=this;return i||r?Up:(this.currentObservers=null,o.push(n),new Re(()=>{this.currentObservers=null,Ar(o,n)}))}_checkFinalizedStatuses(n){let{hasError:i,thrownError:r,isStopped:o}=this;i?n.error(r):o&&n.complete()}asObservable(){let n=new F;return n.source=this,n}}return e.create=(t,n)=>new tu(t,n),e})(),tu=class extends re{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.next)===null||i===void 0||i.call(n,t)}error(t){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.error)===null||i===void 0||i.call(n,t)}complete(){var t,n;(n=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||n===void 0||n.call(t)}_subscribe(t){var n,i;return(i=(n=this.source)===null||n===void 0?void 0:n.subscribe(t))!==null&&i!==void 0?i:Up}};var Ke=class extends re{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){let n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){let{hasError:t,thrownError:n,_value:i}=this;if(t)throw n;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}};var ya={now(){return(ya.delegate||Date).now()},delegate:void 0};var nu=class extends re{constructor(t=1/0,n=1/0,i=ya){super(),this._bufferSize=t,this._windowTime=n,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,n)}next(t){let{isStopped:n,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:o,_windowTime:s}=this;n||(i.push(t),!r&&i.push(o.now()+s)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();let n=this._innerSubscribe(t),{_infiniteTimeWindow:i,_buffer:r}=this,o=r.slice();for(let s=0;s<o.length&&!t.closed;s+=i?1:2)t.next(o[s]);return this._checkFinalizedStatuses(t),n}_trimBuffer(){let{_bufferSize:t,_timestampProvider:n,_buffer:i,_infiniteTimeWindow:r}=this,o=(r?1:2)*t;if(t<1/0&&o<i.length&&i.splice(0,i.length-o),!r){let s=n.now(),a=0;for(let l=1;l<i.length&&i[l]<=s;l+=2)a=l;a&&i.splice(0,a+1)}}};var iu=class extends Re{constructor(t,n){super()}schedule(t,n=0){return this}};var ba={setInterval(e,t,...n){let{delegate:i}=ba;return i?.setInterval?i.setInterval(e,t,...n):setInterval(e,t,...n)},clearInterval(e){let{delegate:t}=ba;return(t?.clearInterval||clearInterval)(e)},delegate:void 0};var Oo=class extends iu{constructor(t,n){super(t,n),this.scheduler=t,this.work=n,this.pending=!1}schedule(t,n=0){var i;if(this.closed)return this;this.state=t;let r=this.id,o=this.scheduler;return r!=null&&(this.id=this.recycleAsyncId(o,r,n)),this.pending=!0,this.delay=n,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(o,this.id,n),this}requestAsyncId(t,n,i=0){return ba.setInterval(t.flush.bind(t,this),i)}recycleAsyncId(t,n,i=0){if(i!=null&&this.delay===i&&this.pending===!1)return n;n!=null&&ba.clearInterval(n)}execute(t,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let i=this._execute(t,n);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,n){let i=!1,r;try{this.work(t)}catch(o){i=!0,r=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){let{id:t,scheduler:n}=this,{actions:i}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Ar(i,this),t!=null&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null,super.unsubscribe()}}};var xo=class e{constructor(t,n=e.now){this.schedulerActionCtor=t,this.now=n}schedule(t,n=0,i){return new this.schedulerActionCtor(this,t).schedule(i,n)}};xo.now=ya.now;var Po=class extends xo{constructor(t,n=xo.now){super(t,n),this.actions=[],this._active=!1}flush(t){let{actions:n}=this;if(this._active){n.push(t);return}let i;this._active=!0;do if(i=t.execute(t.state,t.delay))break;while(t=n.shift());if(this._active=!1,i){for(;t=n.shift();)t.unsubscribe();throw i}}};var ji=new Po(Oo),Qp=ji;var ru=class extends Oo{constructor(t,n){super(t,n),this.scheduler=t,this.work=n}schedule(t,n=0){return n>0?super.schedule(t,n):(this.delay=n,this.state=t,this.scheduler.flush(this),this)}execute(t,n){return n>0||this.closed?super.execute(t,n):this._execute(t,n)}requestAsyncId(t,n,i=0){return i!=null&&i>0||i==null&&this.delay>0?super.requestAsyncId(t,n,i):(t.flush(this),0)}};var ou=class extends Po{};var Zp=new ou(ru);var $e=new F(e=>e.complete());function su(e){return e&&P(e.schedule)}function Jp(e){return e[e.length-1]}function Ui(e){return P(Jp(e))?e.pop():void 0}function On(e){return su(Jp(e))?e.pop():void 0}function uC(e,t){return typeof Jp(e)=="number"?e.pop():t}var ko=e=>e&&typeof e.length=="number"&&typeof e!="function";function au(e){return P(e?.then)}function lu(e){return P(e[Mo])}function cu(e){return Symbol.asyncIterator&&P(e?.[Symbol.asyncIterator])}function uu(e){return new TypeError(`You provided ${e!==null&&typeof e=="object"?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function mR(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var du=mR();function hu(e){return P(e?.[du])}function fu(e){return Ew(this,arguments,function*(){let n=e.getReader();try{for(;;){let{value:i,done:r}=yield jc(n.read());if(r)return yield jc(void 0);yield yield jc(i)}}finally{n.releaseLock()}})}function pu(e){return P(e?.getReader)}function te(e){if(e instanceof F)return e;if(e!=null){if(lu(e))return _R(e);if(ko(e))return vR(e);if(au(e))return yR(e);if(cu(e))return dC(e);if(hu(e))return bR(e);if(pu(e))return wR(e)}throw uu(e)}function _R(e){return new F(t=>{let n=e[Mo]();if(P(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function vR(e){return new F(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}function yR(e){return new F(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,Xc)})}function bR(e){return new F(t=>{for(let n of e)if(t.next(n),t.closed)return;t.complete()})}function dC(e){return new F(t=>{CR(e,t).catch(n=>t.error(n))})}function wR(e){return dC(fu(e))}function CR(e,t){var n,i,r,o;return Dw(this,void 0,void 0,function*(){try{for(n=Iw(e);i=yield n.next(),!i.done;){let s=i.value;if(t.next(s),t.closed)return}}catch(s){r={error:s}}finally{try{i&&!i.done&&(o=n.return)&&(yield o.call(n))}finally{if(r)throw r.error}}t.complete()})}function At(e,t,n,i=0,r=!1){let o=t.schedule(function(){n(),r?e.add(this.schedule(null,i)):this.unsubscribe()},i);if(e.add(o),!r)return o}function Ft(e,t=0){return $((n,i)=>{n.subscribe(B(i,r=>At(i,e,()=>i.next(r),t),()=>At(i,e,()=>i.complete(),t),r=>At(i,e,()=>i.error(r),t)))})}function Yt(e,t=0){return $((n,i)=>{i.add(e.schedule(()=>n.subscribe(i),t))})}function hC(e,t){return te(e).pipe(Yt(t),Ft(t))}function fC(e,t){return te(e).pipe(Yt(t),Ft(t))}function pC(e,t){return new F(n=>{let i=0;return t.schedule(function(){i===e.length?n.complete():(n.next(e[i++]),n.closed||this.schedule())})})}function gC(e,t){return new F(n=>{let i;return At(n,t,()=>{i=e[du](),At(n,t,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(s){n.error(s);return}o?n.complete():n.next(r)},0,!0)}),()=>P(i?.return)&&i.return()})}function gu(e,t){if(!e)throw new Error("Iterable cannot be null");return new F(n=>{At(n,t,()=>{let i=e[Symbol.asyncIterator]();At(n,t,()=>{i.next().then(r=>{r.done?n.complete():n.next(r.value)})},0,!0)})})}function mC(e,t){return gu(fu(e),t)}function _C(e,t){if(e!=null){if(lu(e))return hC(e,t);if(ko(e))return pC(e,t);if(au(e))return fC(e,t);if(cu(e))return gu(e,t);if(hu(e))return gC(e,t);if(pu(e))return mC(e,t)}throw uu(e)}function ue(e,t){return t?_C(e,t):te(e)}function R(...e){let t=On(e);return ue(e,t)}function Fo(e,t){let n=P(e)?e:()=>e,i=r=>r.error(n());return new F(t?r=>t.schedule(i,0,r):i)}function Xp(e){return!!e&&(e instanceof F||P(e.lift)&&P(e.subscribe))}var ai=To(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function vC(e){return e instanceof Date&&!isNaN(e)}function S(e,t){return $((n,i)=>{let r=0;n.subscribe(B(i,o=>{i.next(e.call(t,o,r++))}))})}var{isArray:DR}=Array;function ER(e,t){return DR(t)?e(...t):e(t)}function Lo(e){return S(t=>ER(e,t))}var{isArray:IR}=Array,{getPrototypeOf:TR,prototype:SR,keys:AR}=Object;function mu(e){if(e.length===1){let t=e[0];if(IR(t))return{args:t,keys:null};if(MR(t)){let n=AR(t);return{args:n.map(i=>t[i]),keys:n}}}return{args:e,keys:null}}function MR(e){return e&&typeof e=="object"&&TR(e)===SR}function _u(e,t){return e.reduce((n,i,r)=>(n[i]=t[r],n),{})}function Vo(...e){let t=On(e),n=Ui(e),{args:i,keys:r}=mu(e);if(i.length===0)return ue([],t);let o=new F(NR(i,t,r?s=>_u(r,s):it));return n?o.pipe(Lo(n)):o}function NR(e,t,n=it){return i=>{yC(t,()=>{let{length:r}=e,o=new Array(r),s=r,a=r;for(let l=0;l<r;l++)yC(t,()=>{let c=ue(e[l],t),u=!1;c.subscribe(B(i,d=>{o[l]=d,u||(u=!0,a--),a||i.next(n(o.slice()))},()=>{--s||i.complete()}))},i)},i)}}function yC(e,t,n){e?At(n,e,t):t()}function bC(e,t,n,i,r,o,s,a){let l=[],c=0,u=0,d=!1,h=()=>{d&&!l.length&&!c&&t.complete()},f=g=>c<i?p(g):l.push(g),p=g=>{o&&t.next(g),c++;let v=!1;te(n(g,u++)).subscribe(B(t,w=>{r?.(w),o?f(w):t.next(w)},()=>{v=!0},void 0,()=>{if(v)try{for(c--;l.length&&c<i;){let w=l.shift();s?At(t,s,()=>p(w)):p(w)}h()}catch(w){t.error(w)}}))};return e.subscribe(B(t,f,()=>{d=!0,h()})),()=>{a?.()}}function we(e,t,n=1/0){return P(t)?we((i,r)=>S((o,s)=>t(i,o,r,s))(te(e(i,r))),n):(typeof t=="number"&&(n=t),$((i,r)=>bC(i,r,e,n)))}function Hi(e=1/0){return we(it,e)}function wC(){return Hi(1)}function xn(...e){return wC()(ue(e,On(e)))}function vu(e){return new F(t=>{te(e()).subscribe(t)})}function eg(...e){let t=Ui(e),{args:n,keys:i}=mu(e),r=new F(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),l=s,c=s;for(let u=0;u<s;u++){let d=!1;te(n[u]).subscribe(B(o,h=>{d||(d=!0,c--),a[u]=h},()=>l--,void 0,()=>{(!l||!d)&&(c||o.next(i?_u(i,a):a),o.complete())}))}});return t?r.pipe(Lo(t)):r}var RR=["addListener","removeListener"],OR=["addEventListener","removeEventListener"],xR=["on","off"];function rt(e,t,n,i){if(P(n)&&(i=n,n=void 0),i)return rt(e,t,n).pipe(Lo(i));let[r,o]=FR(e)?OR.map(s=>a=>e[s](t,a,n)):PR(e)?RR.map(CC(e,t)):kR(e)?xR.map(CC(e,t)):[];if(!r&&ko(e))return we(s=>rt(s,t,n))(te(e));if(!r)throw new TypeError("Invalid event target");return new F(s=>{let a=(...l)=>s.next(1<l.length?l:l[0]);return r(a),()=>o(a)})}function CC(e,t){return n=>i=>e[n](t,i)}function PR(e){return P(e.addListener)&&P(e.removeListener)}function kR(e){return P(e.on)&&P(e.off)}function FR(e){return P(e.addEventListener)&&P(e.removeEventListener)}function wa(e=0,t,n=Qp){let i=-1;return t!=null&&(su(t)?n=t:i=t),new F(r=>{let o=vC(e)?+e-n.now():e;o<0&&(o=0);let s=0;return n.schedule(function(){r.closed||(r.next(s++),0<=i?this.schedule(void 0,i):r.complete())},o)})}function $i(...e){let t=On(e),n=uC(e,1/0),i=e;return i.length?i.length===1?te(i[0]):Hi(n)(ue(i,t)):$e}var{isArray:LR}=Array;function yu(e){return e.length===1&&LR(e[0])?e[0]:e}function Le(e,t){return $((n,i)=>{let r=0;n.subscribe(B(i,o=>e.call(t,o,r++)&&i.next(o)))})}function bu(...e){return e=yu(e),e.length===1?te(e[0]):new F(VR(e))}function VR(e){return t=>{let n=[];for(let i=0;n&&!t.closed&&i<e.length;i++)n.push(te(e[i]).subscribe(B(t,r=>{if(n){for(let o=0;o<n.length;o++)o!==i&&n[o].unsubscribe();n=null}t.next(r)})))}}function Ca(...e){let t=Ui(e),n=yu(e);return n.length?new F(i=>{let r=n.map(()=>[]),o=n.map(()=>!1);i.add(()=>{r=o=null});for(let s=0;!i.closed&&s<n.length;s++)te(n[s]).subscribe(B(i,a=>{if(r[s].push(a),r.every(l=>l.length)){let l=r.map(c=>c.shift());i.next(t?t(...l):l),r.some((c,u)=>!c.length&&o[u])&&i.complete()}},()=>{o[s]=!0,!r[s].length&&i.complete()}));return()=>{r=o=null}}):$e}function Wi(e){return $((t,n)=>{let i=null,r=!1,o;i=t.subscribe(B(n,void 0,void 0,s=>{o=te(e(s,Wi(e)(t))),i?(i.unsubscribe(),i=null,o.subscribe(n)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(n))})}function DC(e,t,n,i,r){return(o,s)=>{let a=n,l=t,c=0;o.subscribe(B(s,u=>{let d=c++;l=a?e(l,u,d):(a=!0,u),i&&s.next(l)},r&&(()=>{a&&s.next(l),s.complete()})))}}function Rr(e,t){return P(t)?we(e,t,1):we(e,1)}function Gi(e){return $((t,n)=>{let i=!1;t.subscribe(B(n,r=>{i=!0,n.next(r)},()=>{i||n.next(e),n.complete()}))})}function Te(e){return e<=0?()=>$e:$((t,n)=>{let i=0;t.subscribe(B(n,r=>{++i<=e&&(n.next(r),e<=i&&n.complete())}))})}function EC(){return $((e,t)=>{e.subscribe(B(t,oi))})}function Da(e){return S(()=>e)}function tg(e,t){return t?n=>xn(t.pipe(Te(1),EC()),n.pipe(tg(e))):we((n,i)=>te(e(n,i)).pipe(Te(1),Da(n)))}function ng(e,t=ji){let n=wa(e,t);return tg(()=>n)}function wu(e,t=it){return e=e??BR,$((n,i)=>{let r,o=!0;n.subscribe(B(i,s=>{let a=t(s);(o||!e(r,a))&&(o=!1,r=a,i.next(s))}))})}function BR(e,t){return e===t}function Cu(e=jR){return $((t,n)=>{let i=!1;t.subscribe(B(n,r=>{i=!0,n.next(r)},()=>i?n.complete():n.error(e())))})}function jR(){return new ai}function ig(...e){return t=>xn(t,R(...e))}function Bo(e){return $((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}function Kt(e,t){let n=arguments.length>=2;return i=>i.pipe(e?Le((r,o)=>e(r,o,i)):it,Te(1),n?Gi(t):Cu(()=>new ai))}function jo(e){return e<=0?()=>$e:$((t,n)=>{let i=[];t.subscribe(B(n,r=>{i.push(r),e<i.length&&i.shift()},()=>{for(let r of i)n.next(r);n.complete()},void 0,()=>{i=null}))})}function rg(e,t){let n=arguments.length>=2;return i=>i.pipe(e?Le((r,o)=>e(r,o,i)):it,jo(1),n?Gi(t):Cu(()=>new ai))}function Or(e,t){return $(DC(e,t,arguments.length>=2,!0))}function Ea(e={}){let{connector:t=()=>new re,resetOnError:n=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=e;return o=>{let s,a,l,c=0,u=!1,d=!1,h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),s=l=void 0,u=d=!1},p=()=>{let g=s;f(),g?.unsubscribe()};return $((g,v)=>{c++,!d&&!u&&h();let w=l=l??t();v.add(()=>{c--,c===0&&!d&&!u&&(a=og(p,r))}),w.subscribe(v),!s&&c>0&&(s=new si({next:N=>w.next(N),error:N=>{d=!0,h(),a=og(f,n,N),w.error(N)},complete:()=>{u=!0,h(),a=og(f,i),w.complete()}}),te(g).subscribe(s))})(o)}}function og(e,t,...n){if(t===!0){e();return}if(t===!1)return;let i=new si({next:()=>{i.unsubscribe(),e()}});return te(t(...n)).subscribe(i)}function Du(e,t,n){let i,r=!1;return e&&typeof e=="object"?{bufferSize:i=1/0,windowTime:t=1/0,refCount:r=!1,scheduler:n}=e:i=e??1/0,Ea({connector:()=>new nu(i,t,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function sg(e){return $((t,n)=>{let i=!1,r=0;t.subscribe(B(n,o=>(i||(i=!e(o,r++)))&&n.next(o)))})}function Eu(...e){let t=On(e);return $((n,i)=>{(t?xn(e,n,t):xn(e,n)).subscribe(i)})}function he(e,t){return $((n,i)=>{let r=null,o=0,s=!1,a=()=>s&&!r&&i.complete();n.subscribe(B(i,l=>{r?.unsubscribe();let c=0,u=o++;te(e(l,u)).subscribe(r=B(i,d=>i.next(t?t(l,d,u,c++):d),()=>{r=null,a()}))},()=>{s=!0,a()}))})}function Iu(e,t){return P(t)?he(()=>e,t):he(()=>e)}function We(e){return $((t,n)=>{te(e).subscribe(B(n,()=>n.complete(),oi)),!n.closed&&t.subscribe(n)})}function Oe(e,t,n){let i=P(e)||t||n?{next:e,error:t,complete:n}:e;return i?$((r,o)=>{var s;(s=i.subscribe)===null||s===void 0||s.call(i);let a=!0;r.subscribe(B(o,l=>{var c;(c=i.next)===null||c===void 0||c.call(i,l),o.next(l)},()=>{var l;a=!1,(l=i.complete)===null||l===void 0||l.call(i),o.complete()},l=>{var c;a=!1,(c=i.error)===null||c===void 0||c.call(i,l),o.error(l)},()=>{var l,c;a&&((l=i.unsubscribe)===null||l===void 0||l.call(i)),(c=i.finalize)===null||c===void 0||c.call(i)}))}):it}function xr(...e){let t=Ui(e);return $((n,i)=>{let r=e.length,o=new Array(r),s=e.map(()=>!1),a=!1;for(let l=0;l<r;l++)te(e[l]).subscribe(B(i,c=>{o[l]=c,!a&&!s[l]&&(s[l]=!0,(a=s.every(it))&&(s=null))},oi));n.subscribe(B(i,l=>{if(a){let c=[l,...o];i.next(t?t(...c):c)}}))})}var aD="https://g.co/ng/security#xss",x=class extends Error{constructor(t,n){super(_m(t,n)),this.code=t}};function _m(e,t){return`${`NG0${Math.abs(e)}`}${t?": "+t:""}`}function ka(e){return{toString:e}.toString()}var Tu="__parameters__";function UR(e){return function(...n){if(e){let i=e(...n);for(let r in i)this[r]=i[r]}}}function lD(e,t,n){return ka(()=>{let i=UR(t);function r(...o){if(this instanceof r)return i.apply(this,o),this;let s=new r(...o);return a.annotation=s,a;function a(l,c,u){let d=l.hasOwnProperty(Tu)?l[Tu]:Object.defineProperty(l,Tu,{value:[]})[Tu];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),l}}return n&&(r.prototype=Object.create(n.prototype)),r.prototype.ngMetadataName=e,r.annotationCls=r,r})}var vt=globalThis;function _e(e){for(let t in e)if(e[t]===_e)return t;throw Error("Could not find renamed property on target object.")}function HR(e,t){for(let n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function bt(e){if(typeof e=="string")return e;if(Array.isArray(e))return"["+e.map(bt).join(", ")+"]";if(e==null)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;let t=e.toString();if(t==null)return""+t;let n=t.indexOf(`
`);return n===-1?t:t.substring(0,n)}function wg(e,t){return e==null||e===""?t===null?"":t:t==null||t===""?e:e+" "+t}var $R=_e({__forward_ref__:_e});function Rt(e){return e.__forward_ref__=Rt,e.toString=function(){return bt(this())},e}function yt(e){return cD(e)?e():e}function cD(e){return typeof e=="function"&&e.hasOwnProperty($R)&&e.__forward_ref__===Rt}function D(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function ne(e){return{providers:e.providers||[],imports:e.imports||[]}}function dd(e){return IC(e,dD)||IC(e,hD)}function uD(e){return dd(e)!==null}function IC(e,t){return e.hasOwnProperty(t)?e[t]:null}function WR(e){let t=e&&(e[dD]||e[hD]);return t||null}function TC(e){return e&&(e.hasOwnProperty(SC)||e.hasOwnProperty(GR))?e[SC]:null}var dD=_e({\u0275prov:_e}),SC=_e({\u0275inj:_e}),hD=_e({ngInjectableDef:_e}),GR=_e({ngInjectorDef:_e}),E=class{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=D({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function fD(e){return e&&!!e.\u0275providers}var zR=_e({\u0275cmp:_e}),qR=_e({\u0275dir:_e}),YR=_e({\u0275pipe:_e}),KR=_e({\u0275mod:_e}),Lu=_e({\u0275fac:_e}),Ta=_e({__NG_ELEMENT_ID__:_e}),AC=_e({__NG_ENV_ID__:_e});function hd(e){return typeof e=="string"?e:e==null?"":String(e)}function QR(e){return typeof e=="function"?e.name||e.toString():typeof e=="object"&&e!=null&&typeof e.type=="function"?e.type.name||e.type.toString():hd(e)}function ZR(e,t){let n=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new x(-200,e)}function vm(e,t){throw new x(-201,!1)}var K=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(K||{}),Cg;function pD(){return Cg}function Mt(e){let t=Cg;return Cg=e,t}function gD(e,t,n){let i=dd(e);if(i&&i.providedIn=="root")return i.value===void 0?i.value=i.factory():i.value;if(n&K.Optional)return null;if(t!==void 0)return t;vm(e,"Injector")}var JR={},Aa=JR,Dg="__NG_DI_FLAG__",Vu="ngTempTokenPath",XR="ngTokenPath",eO=/\n/gm,tO="\u0275",MC="__source",Go;function nO(){return Go}function zi(e){let t=Go;return Go=e,t}function iO(e,t=K.Default){if(Go===void 0)throw new x(-203,!1);return Go===null?gD(e,void 0,t):Go.get(e,t&K.Optional?null:void 0,t)}function y(e,t=K.Default){return(pD()||iO)(yt(e),t)}function m(e,t=K.Default){return y(e,fd(t))}function fd(e){return typeof e>"u"||typeof e=="number"?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Eg(e){let t=[];for(let n=0;n<e.length;n++){let i=yt(e[n]);if(Array.isArray(i)){if(i.length===0)throw new x(900,!1);let r,o=K.Default;for(let s=0;s<i.length;s++){let a=i[s],l=rO(a);typeof l=="number"?l===-1?r=a.token:o|=l:r=a}t.push(y(r,o))}else t.push(y(i))}return t}function mD(e,t){return e[Dg]=t,e.prototype[Dg]=t,e}function rO(e){return e[Dg]}function oO(e,t,n,i){let r=e[Vu];throw t[MC]&&r.unshift(t[MC]),e.message=sO(`
`+e.message,r,n,i),e[XR]=r,e[Vu]=null,e}function sO(e,t,n,i=null){e=e&&e.charAt(0)===`
`&&e.charAt(1)==tO?e.slice(2):e;let r=bt(t);if(Array.isArray(t))r=t.map(bt).join(" -> ");else if(typeof t=="object"){let o=[];for(let s in t)if(t.hasOwnProperty(s)){let a=t[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):bt(a)))}r=`{${o.join(", ")}}`}return`${n}${i?"("+i+")":""}[${r}]: ${e.replace(eO,`
  `)}`}var ot=mD(lD("Optional"),8);var ym=mD(lD("SkipSelf"),4);function Fr(e,t){let n=e.hasOwnProperty(Lu);return n?e[Lu]:null}function aO(e,t,n){if(e.length!==t.length)return!1;for(let i=0;i<e.length;i++){let r=e[i],o=t[i];if(n&&(r=n(r),o=n(o)),o!==r)return!1}return!0}function lO(e){return e.flat(Number.POSITIVE_INFINITY)}function bm(e,t){e.forEach(n=>Array.isArray(n)?bm(n,t):t(n))}function _D(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function Bu(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function cO(e,t){let n=[];for(let i=0;i<e;i++)n.push(t);return n}function uO(e,t,n,i){let r=e.length;if(r==t)e.push(n,i);else if(r===1)e.push(i,e[0]),e[0]=n;else{for(r--,e.push(e[r-1],e[r]);r>t;){let o=r-2;e[r]=e[o],r--}e[t]=n,e[t+1]=i}}function wm(e,t,n){let i=Fa(e,t);return i>=0?e[i|1]=n:(i=~i,uO(e,i,t,n)),i}function ag(e,t){let n=Fa(e,t);if(n>=0)return e[n|1]}function Fa(e,t){return dO(e,t,1)}function dO(e,t,n){let i=0,r=e.length>>n;for(;r!==i;){let o=i+(r-i>>1),s=e[o<<n];if(t===s)return o<<n;s>t?r=o:i=o+1}return~(r<<n)}var qo={},Nt=[],Yo=new E(""),vD=new E("",-1),yD=new E(""),ju=class{get(t,n=Aa){if(n===Aa){let i=new Error(`NullInjectorError: No provider for ${bt(t)}!`);throw i.name="NullInjectorError",i}return n}},bD=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(bD||{}),Fn=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(Fn||{}),Ki=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(Ki||{});function hO(e,t,n){let i=e.length;for(;;){let r=e.indexOf(t,n);if(r===-1)return r;if(r===0||e.charCodeAt(r-1)<=32){let o=t.length;if(r+o===i||e.charCodeAt(r+o)<=32)return r}n=r+1}}function Ig(e,t,n){let i=0;for(;i<n.length;){let r=n[i];if(typeof r=="number"){if(r!==0)break;i++;let o=n[i++],s=n[i++],a=n[i++];e.setAttribute(t,s,a,o)}else{let o=r,s=n[++i];fO(o)?e.setProperty(t,o,s):e.setAttribute(t,o,s),i++}}return i}function wD(e){return e===3||e===4||e===6}function fO(e){return e.charCodeAt(0)===64}function Ma(e,t){if(!(t===null||t.length===0))if(e===null||e.length===0)e=t.slice();else{let n=-1;for(let i=0;i<t.length;i++){let r=t[i];typeof r=="number"?n=r:n===0||(n===-1||n===2?NC(e,n,r,null,t[++i]):NC(e,n,r,null,null))}}return e}function NC(e,t,n,i,r){let o=0,s=e.length;if(t===-1)s=-1;else for(;o<e.length;){let a=e[o++];if(typeof a=="number"){if(a===t){s=-1;break}else if(a>t){s=o-1;break}}}for(;o<e.length;){let a=e[o];if(typeof a=="number")break;if(a===n){if(i===null){r!==null&&(e[o+1]=r);return}else if(i===e[o+1]){e[o+2]=r;return}}o++,i!==null&&o++,r!==null&&o++}s!==-1&&(e.splice(s,0,t),o=s+1),e.splice(o++,0,n),i!==null&&e.splice(o++,0,i),r!==null&&e.splice(o++,0,r)}var CD="ng-template";function pO(e,t,n,i){let r=0;if(i){for(;r<t.length&&typeof t[r]=="string";r+=2)if(t[r]==="class"&&hO(t[r+1].toLowerCase(),n,0)!==-1)return!0}else if(Cm(e))return!1;if(r=t.indexOf(1,r),r>-1){let o;for(;++r<t.length&&typeof(o=t[r])=="string";)if(o.toLowerCase()===n)return!0}return!1}function Cm(e){return e.type===4&&e.value!==CD}function gO(e,t,n){let i=e.type===4&&!n?CD:e.value;return t===i}function mO(e,t,n){let i=4,r=e.attrs,o=r!==null?yO(r):0,s=!1;for(let a=0;a<t.length;a++){let l=t[a];if(typeof l=="number"){if(!s&&!dn(i)&&!dn(l))return!1;if(s&&dn(l))continue;s=!1,i=l|i&1;continue}if(!s)if(i&4){if(i=2|i&1,l!==""&&!gO(e,l,n)||l===""&&t.length===1){if(dn(i))return!1;s=!0}}else if(i&8){if(r===null||!pO(e,r,l,n)){if(dn(i))return!1;s=!0}}else{let c=t[++a],u=_O(l,r,Cm(e),n);if(u===-1){if(dn(i))return!1;s=!0;continue}if(c!==""){let d;if(u>o?d="":d=r[u+1].toLowerCase(),i&2&&c!==d){if(dn(i))return!1;s=!0}}}}return dn(i)||s}function dn(e){return(e&1)===0}function _O(e,t,n,i){if(t===null)return-1;let r=0;if(i||!n){let o=!1;for(;r<t.length;){let s=t[r];if(s===e)return r;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=t[++r];for(;typeof a=="string";)a=t[++r];continue}else{if(s===4)break;if(s===0){r+=4;continue}}r+=o?1:2}return-1}else return bO(t,e)}function DD(e,t,n=!1){for(let i=0;i<t.length;i++)if(mO(e,t[i],n))return!0;return!1}function vO(e){let t=e.attrs;if(t!=null){let n=t.indexOf(5);if(!(n&1))return t[n+1]}return null}function yO(e){for(let t=0;t<e.length;t++){let n=e[t];if(wD(n))return t}return e.length}function bO(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){let i=e[n];if(typeof i=="number")return-1;if(i===t)return n;n++}return-1}function wO(e,t){e:for(let n=0;n<t.length;n++){let i=t[n];if(e.length===i.length){for(let r=0;r<e.length;r++)if(e[r]!==i[r])continue e;return!0}}return!1}function RC(e,t){return e?":not("+t.trim()+")":t}function CO(e){let t=e[0],n=1,i=2,r="",o=!1;for(;n<e.length;){let s=e[n];if(typeof s=="string")if(i&2){let a=e[++n];r+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else i&8?r+="."+s:i&4&&(r+=" "+s);else r!==""&&!dn(s)&&(t+=RC(o,r),r=""),i=s,o=o||!dn(i);n++}return r!==""&&(t+=RC(o,r)),t}function DO(e){return e.map(CO).join(",")}function EO(e){let t=[],n=[],i=1,r=2;for(;i<e.length;){let o=e[i];if(typeof o=="string")r===2?o!==""&&t.push(o,e[++i]):r===8&&n.push(o);else{if(!dn(r))break;r=o}i++}return{attrs:t,classes:n}}function fe(e){return ka(()=>{let t=AD(e),n=Y(C({},t),{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===bD.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||Fn.Emulated,styles:e.styles||Nt,_:null,schemas:e.schemas||null,tView:null,id:""});MD(n);let i=e.dependencies;return n.directiveDefs=xC(i,!1),n.pipeDefs=xC(i,!0),n.id=SO(n),n})}function IO(e){return li(e)||ED(e)}function TO(e){return e!==null}function ie(e){return ka(()=>({type:e.type,bootstrap:e.bootstrap||Nt,declarations:e.declarations||Nt,imports:e.imports||Nt,exports:e.exports||Nt,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function OC(e,t){if(e==null)return qo;let n={};for(let i in e)if(e.hasOwnProperty(i)){let r=e[i],o,s,a=Ki.None;Array.isArray(r)?(a=r[0],o=r[1],s=r[2]??o):(o=r,s=r),t?(n[o]=a!==Ki.None?[i,a]:i,t[o]=s):n[o]=i}return n}function ae(e){return ka(()=>{let t=AD(e);return MD(t),t})}function Dm(e){return{type:e.type,name:e.name,factory:null,pure:e.pure!==!1,standalone:e.standalone===!0,onDestroy:e.type.prototype.ngOnDestroy||null}}function li(e){return e[zR]||null}function ED(e){return e[qR]||null}function ID(e){return e[YR]||null}function TD(e){let t=li(e)||ED(e)||ID(e);return t!==null?t.standalone:!1}function SD(e,t){let n=e[KR]||null;if(!n&&t===!0)throw new Error(`Type ${bt(e)} does not have '\u0275mod' property.`);return n}function AD(e){let t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:e.inputs||qo,exportAs:e.exportAs||null,standalone:e.standalone===!0,signals:e.signals===!0,selectors:e.selectors||Nt,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:OC(e.inputs,t),outputs:OC(e.outputs),debugInfo:null}}function MD(e){e.features?.forEach(t=>t(e))}function xC(e,t){if(!e)return null;let n=t?ID:IO;return()=>(typeof e=="function"?e():e).map(i=>n(i)).filter(TO)}function SO(e){let t=0,n=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(let r of n)t=Math.imul(31,t)+r.charCodeAt(0)<<0;return t+=2147483648,"c"+t}function Xi(e){return{\u0275providers:e}}function AO(...e){return{\u0275providers:ND(!0,e),\u0275fromNgModule:!0}}function ND(e,...t){let n=[],i=new Set,r,o=s=>{n.push(s)};return bm(t,s=>{let a=s;Tg(a,o,[],i)&&(r||=[],r.push(a))}),r!==void 0&&RD(r,o),n}function RD(e,t){for(let n=0;n<e.length;n++){let{ngModule:i,providers:r}=e[n];Em(r,o=>{t(o,i)})}}function Tg(e,t,n,i){if(e=yt(e),!e)return!1;let r=null,o=TC(e),s=!o&&li(e);if(!o&&!s){let l=e.ngModule;if(o=TC(l),o)r=l;else return!1}else{if(s&&!s.standalone)return!1;r=e}let a=i.has(r);if(s){if(a)return!1;if(i.add(r),s.dependencies){let l=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let c of l)Tg(c,t,n,i)}}else if(o){if(o.imports!=null&&!a){i.add(r);let c;try{bm(o.imports,u=>{Tg(u,t,n,i)&&(c||=[],c.push(u))})}finally{}c!==void 0&&RD(c,t)}if(!a){let c=Fr(r)||(()=>new r);t({provide:r,useFactory:c,deps:Nt},r),t({provide:yD,useValue:r,multi:!0},r),t({provide:Yo,useValue:()=>y(r),multi:!0},r)}let l=o.providers;if(l!=null&&!a){let c=e;Em(l,u=>{t(u,c)})}}else return!1;return r!==e&&e.providers!==void 0}function Em(e,t){for(let n of e)fD(n)&&(n=n.\u0275providers),Array.isArray(n)?Em(n,t):t(n)}var MO=_e({provide:String,useValue:_e});function OD(e){return e!==null&&typeof e=="object"&&MO in e}function NO(e){return!!(e&&e.useExisting)}function RO(e){return!!(e&&e.useFactory)}function Ko(e){return typeof e=="function"}function OO(e){return!!e.useClass}var pd=new E(""),Ou={},xO={},lg;function gd(){return lg===void 0&&(lg=new ju),lg}var dt=class{},Na=class extends dt{get destroyed(){return this._destroyed}constructor(t,n,i,r){super(),this.parent=n,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Ag(t,s=>this.processProvider(s)),this.records.set(vD,Uo(void 0,this)),r.has("environment")&&this.records.set(dt,Uo(void 0,this));let o=this.records.get(pd);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(yD,Nt,K.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let t=oe(null);try{for(let i of this._ngOnDestroyHooks)i.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let i of n)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),oe(t)}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();let n=zi(this),i=Mt(void 0),r;try{return t()}finally{zi(n),Mt(i)}}get(t,n=Aa,i=K.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(AC))return t[AC](this);i=fd(i);let r,o=zi(this),s=Mt(void 0);try{if(!(i&K.SkipSelf)){let l=this.records.get(t);if(l===void 0){let c=VO(t)&&dd(t);c&&this.injectableDefInScope(c)?l=Uo(Sg(t),Ou):l=null,this.records.set(t,l)}if(l!=null)return this.hydrate(t,l)}let a=i&K.Self?gd():this.parent;return n=i&K.Optional&&n===Aa?null:n,a.get(t,n)}catch(a){if(a.name==="NullInjectorError"){if((a[Vu]=a[Vu]||[]).unshift(bt(t)),o)throw a;return oO(a,t,"R3InjectorError",this.source)}else throw a}finally{Mt(s),zi(o)}}resolveInjectorInitializers(){let t=oe(null),n=zi(this),i=Mt(void 0),r;try{let o=this.get(Yo,Nt,K.Self);for(let s of o)s()}finally{zi(n),Mt(i),oe(t)}}toString(){let t=[],n=this.records;for(let i of n.keys())t.push(bt(i));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new x(205,!1)}processProvider(t){t=yt(t);let n=Ko(t)?t:yt(t&&t.provide),i=kO(t);if(!Ko(t)&&t.multi===!0){let r=this.records.get(n);r||(r=Uo(void 0,Ou,!0),r.factory=()=>Eg(r.multi),this.records.set(n,r)),n=t,r.multi.push(t)}this.records.set(n,i)}hydrate(t,n){let i=oe(null);try{return n.value===Ou&&(n.value=xO,n.value=n.factory()),typeof n.value=="object"&&n.value&&LO(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{oe(i)}}injectableDefInScope(t){if(!t.providedIn)return!1;let n=yt(t.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){let n=this._onDestroyHooks.indexOf(t);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Sg(e){let t=dd(e),n=t!==null?t.factory:Fr(e);if(n!==null)return n;if(e instanceof E)throw new x(204,!1);if(e instanceof Function)return PO(e);throw new x(204,!1)}function PO(e){if(e.length>0)throw new x(204,!1);let n=WR(e);return n!==null?()=>n.factory(e):()=>new e}function kO(e){if(OD(e))return Uo(void 0,e.useValue);{let t=xD(e);return Uo(t,Ou)}}function xD(e,t,n){let i;if(Ko(e)){let r=yt(e);return Fr(r)||Sg(r)}else if(OD(e))i=()=>yt(e.useValue);else if(RO(e))i=()=>e.useFactory(...Eg(e.deps||[]));else if(NO(e))i=()=>y(yt(e.useExisting));else{let r=yt(e&&(e.useClass||e.provide));if(FO(e))i=()=>new r(...Eg(e.deps));else return Fr(r)||Sg(r)}return i}function Uo(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function FO(e){return!!e.deps}function LO(e){return e!==null&&typeof e=="object"&&typeof e.ngOnDestroy=="function"}function VO(e){return typeof e=="function"||typeof e=="object"&&e instanceof E}function Ag(e,t){for(let n of e)Array.isArray(n)?Ag(n,t):n&&fD(n)?Ag(n.\u0275providers,t):t(n)}function Bn(e,t){e instanceof Na&&e.assertNotDestroyed();let n,i=zi(e),r=Mt(void 0);try{return t()}finally{zi(i),Mt(r)}}function PD(){return pD()!==void 0||nO()!=null}function BO(e){if(!PD())throw new x(-203,!1)}function jO(e){let t=vt.ng;if(t&&t.\u0275compilerFacade)return t.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}function UO(e){return typeof e=="function"}var pi=0,z=1,U=2,ht=3,fn=4,Ot=5,Ra=6,Uu=7,pn=8,Qo=9,Ln=10,Se=11,Oa=12,PC=13,is=14,Zt=15,Lr=16,Ho=17,ci=18,md=19,kD=20,qi=21,cg=22,Qt=23,wt=25,FD=1;var Vr=7,Hu=8,Zo=9,Lt=10,$u=function(e){return e[e.None=0]="None",e[e.HasTransplantedViews=2]="HasTransplantedViews",e}($u||{});function Yi(e){return Array.isArray(e)&&typeof e[FD]=="object"}function gi(e){return Array.isArray(e)&&e[FD]===!0}function Im(e){return(e.flags&4)!==0}function _d(e){return e.componentOffset>-1}function vd(e){return(e.flags&1)===1}function Qi(e){return!!e.template}function Mg(e){return(e[U]&512)!==0}var Ng=class{constructor(t,n,i){this.previousValue=t,this.currentValue=n,this.firstChange=i}isFirstChange(){return this.firstChange}};function LD(e,t,n,i){t!==null?t.applyValueToInputSignal(t,i):e[n]=i}function jn(){return VD}function VD(e){return e.type.prototype.ngOnChanges&&(e.setInput=$O),HO}jn.ngInherit=!0;function HO(){let e=jD(this),t=e?.current;if(t){let n=e.previous;if(n===qo)e.previous=t;else for(let i in t)n[i]=t[i];e.current=null,this.ngOnChanges(t)}}function $O(e,t,n,i,r){let o=this.declaredInputs[i],s=jD(e)||WO(e,{previous:qo,current:null}),a=s.current||(s.current={}),l=s.previous,c=l[o];a[o]=new Ng(c&&c.currentValue,n,l===qo),LD(e,t,r,n)}var BD="__ngSimpleChanges__";function jD(e){return e[BD]||null}function WO(e,t){return e[BD]=t}var kC=null;var Pn=function(e,t,n){kC?.(e,t,n)},GO="svg",zO="math";function Vn(e){for(;Array.isArray(e);)e=e[pi];return e}function UD(e,t){return Vn(t[e])}function Jt(e,t){return Vn(t[e.index])}function HD(e,t){return e.data[t]}function Tm(e,t){return e[t]}function er(e,t){let n=t[e];return Yi(n)?n:n[pi]}function qO(e){return(e[U]&4)===4}function Sm(e){return(e[U]&128)===128}function YO(e){return gi(e[ht])}function Jo(e,t){return t==null?null:e[t]}function $D(e){e[Ho]=0}function WD(e){e[U]&1024||(e[U]|=1024,Sm(e)&&bd(e))}function KO(e,t){for(;e>0;)t=t[is],e--;return t}function yd(e){return!!(e[U]&9216||e[Qt]?.dirty)}function Rg(e){e[Ln].changeDetectionScheduler?.notify(8),e[U]&64&&(e[U]|=1024),yd(e)&&bd(e)}function bd(e){e[Ln].changeDetectionScheduler?.notify(0);let t=Br(e);for(;t!==null&&!(t[U]&8192||(t[U]|=8192,!Sm(t)));)t=Br(t)}function GD(e,t){if((e[U]&256)===256)throw new x(911,!1);e[qi]===null&&(e[qi]=[]),e[qi].push(t)}function QO(e,t){if(e[qi]===null)return;let n=e[qi].indexOf(t);n!==-1&&e[qi].splice(n,1)}function Br(e){let t=e[ht];return gi(t)?t[ht]:t}var Q={lFrame:tE(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var zD=!1;function ZO(){return Q.lFrame.elementDepthCount}function JO(){Q.lFrame.elementDepthCount++}function XO(){Q.lFrame.elementDepthCount--}function qD(){return Q.bindingsEnabled}function YD(){return Q.skipHydrationRootTNode!==null}function ex(e){return Q.skipHydrationRootTNode===e}function tx(){Q.skipHydrationRootTNode=null}function X(){return Q.lFrame.lView}function xe(){return Q.lFrame.tView}function Un(e){return Q.lFrame.contextLView=e,e[pn]}function Hn(e){return Q.lFrame.contextLView=null,e}function st(){let e=KD();for(;e!==null&&e.type===64;)e=e.parent;return e}function KD(){return Q.lFrame.currentTNode}function nx(){let e=Q.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}function zr(e,t){let n=Q.lFrame;n.currentTNode=e,n.isParent=t}function Am(){return Q.lFrame.isParent}function Mm(){Q.lFrame.isParent=!1}function ix(){return Q.lFrame.contextLView}function QD(){return zD}function FC(e){zD=e}function Nm(){let e=Q.lFrame,t=e.bindingRootIndex;return t===-1&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function rx(e){return Q.lFrame.bindingIndex=e}function La(){return Q.lFrame.bindingIndex++}function ZD(e){let t=Q.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function ox(){return Q.lFrame.inI18n}function sx(e,t){let n=Q.lFrame;n.bindingIndex=n.bindingRootIndex=e,Og(t)}function ax(){return Q.lFrame.currentDirectiveIndex}function Og(e){Q.lFrame.currentDirectiveIndex=e}function lx(e){let t=Q.lFrame.currentDirectiveIndex;return t===-1?null:e[t]}function JD(){return Q.lFrame.currentQueryIndex}function Rm(e){Q.lFrame.currentQueryIndex=e}function cx(e){let t=e[z];return t.type===2?t.declTNode:t.type===1?e[Ot]:null}function XD(e,t,n){if(n&K.SkipSelf){let r=t,o=e;for(;r=r.parent,r===null&&!(n&K.Host);)if(r=cx(o),r===null||(o=o[is],r.type&10))break;if(r===null)return!1;t=r,e=o}let i=Q.lFrame=eE();return i.currentTNode=t,i.lView=e,!0}function Om(e){let t=eE(),n=e[z];Q.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function eE(){let e=Q.lFrame,t=e===null?null:e.child;return t===null?tE(e):t}function tE(e){let t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return e!==null&&(e.child=t),t}function nE(){let e=Q.lFrame;return Q.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var iE=nE;function xm(){let e=nE();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function ux(e){return(Q.lFrame.contextLView=KO(e,Q.lFrame.contextLView))[pn]}function qr(){return Q.lFrame.selectedIndex}function jr(e){Q.lFrame.selectedIndex=e}function wd(){let e=Q.lFrame;return HD(e.tView,e.selectedIndex)}function dx(){return Q.lFrame.currentNamespace}var rE=!0;function Cd(){return rE}function Dd(e){rE=e}function hx(e,t,n){let{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=t.type.prototype;if(i){let s=VD(t);(n.preOrderHooks??=[]).push(e,s),(n.preOrderCheckHooks??=[]).push(e,s)}r&&(n.preOrderHooks??=[]).push(0-e,r),o&&((n.preOrderHooks??=[]).push(e,o),(n.preOrderCheckHooks??=[]).push(e,o))}function Ed(e,t){for(let n=t.directiveStart,i=t.directiveEnd;n<i;n++){let o=e.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=o;s&&(e.contentHooks??=[]).push(-n,s),a&&((e.contentHooks??=[]).push(n,a),(e.contentCheckHooks??=[]).push(n,a)),l&&(e.viewHooks??=[]).push(-n,l),c&&((e.viewHooks??=[]).push(n,c),(e.viewCheckHooks??=[]).push(n,c)),u!=null&&(e.destroyHooks??=[]).push(n,u)}}function xu(e,t,n){oE(e,t,3,n)}function Pu(e,t,n,i){(e[U]&3)===n&&oE(e,t,n,i)}function ug(e,t){let n=e[U];(n&3)===t&&(n&=16383,n+=1,e[U]=n)}function oE(e,t,n,i){let r=i!==void 0?e[Ho]&65535:0,o=i??-1,s=t.length-1,a=0;for(let l=r;l<s;l++)if(typeof t[l+1]=="number"){if(a=t[l],i!=null&&a>=i)break}else t[l]<0&&(e[Ho]+=65536),(a<o||o==-1)&&(fx(e,n,t,l),e[Ho]=(e[Ho]&4294901760)+l+2),l++}function LC(e,t){Pn(4,e,t);let n=oe(null);try{t.call(e)}finally{oe(n),Pn(5,e,t)}}function fx(e,t,n,i){let r=n[i]<0,o=n[i+1],s=r?-n[i]:n[i],a=e[s];r?e[U]>>14<e[Ho]>>16&&(e[U]&3)===t&&(e[U]+=16384,LC(a,o)):LC(a,o)}var zo=-1,Ur=class{constructor(t,n,i){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=i}};function px(e){return e instanceof Ur}function gx(e){return(e.flags&8)!==0}function mx(e){return(e.flags&16)!==0}var dg={},xg=class{constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,i){i=fd(i);let r=this.injector.get(t,dg,i);return r!==dg||n===dg?r:this.parentInjector.get(t,n,i)}};function sE(e){return e!==zo}function Wu(e){return e&32767}function _x(e){return e>>16}function Gu(e,t){let n=_x(e),i=t;for(;n>0;)i=i[is],n--;return i}var Pg=!0;function zu(e){let t=Pg;return Pg=e,t}var vx=256,aE=vx-1,lE=5,yx=0,kn={};function bx(e,t,n){let i;typeof n=="string"?i=n.charCodeAt(0)||0:n.hasOwnProperty(Ta)&&(i=n[Ta]),i==null&&(i=n[Ta]=yx++);let r=i&aE,o=1<<r;t.data[e+(r>>lE)]|=o}function qu(e,t){let n=cE(e,t);if(n!==-1)return n;let i=t[z];i.firstCreatePass&&(e.injectorIndex=t.length,hg(i.data,e),hg(t,null),hg(i.blueprint,null));let r=Pm(e,t),o=e.injectorIndex;if(sE(r)){let s=Wu(r),a=Gu(r,t),l=a[z].data;for(let c=0;c<8;c++)t[o+c]=a[s+c]|l[s+c]}return t[o+8]=r,o}function hg(e,t){e.push(0,0,0,0,0,0,0,0,t)}function cE(e,t){return e.injectorIndex===-1||e.parent&&e.parent.injectorIndex===e.injectorIndex||t[e.injectorIndex+8]===null?-1:e.injectorIndex}function Pm(e,t){if(e.parent&&e.parent.injectorIndex!==-1)return e.parent.injectorIndex;let n=0,i=null,r=t;for(;r!==null;){if(i=pE(r),i===null)return zo;if(n++,r=r[is],i.injectorIndex!==-1)return i.injectorIndex|n<<16}return zo}function kg(e,t,n){bx(e,t,n)}function wx(e,t){if(t==="class")return e.classes;if(t==="style")return e.styles;let n=e.attrs;if(n){let i=n.length,r=0;for(;r<i;){let o=n[r];if(wD(o))break;if(o===0)r=r+2;else if(typeof o=="number")for(r++;r<i&&typeof n[r]=="string";)r++;else{if(o===t)return n[r+1];r=r+2}}}return null}function uE(e,t,n){if(n&K.Optional||e!==void 0)return e;vm(t,"NodeInjector")}function dE(e,t,n,i){if(n&K.Optional&&i===void 0&&(i=null),!(n&(K.Self|K.Host))){let r=e[Qo],o=Mt(void 0);try{return r?r.get(t,i,n&K.Optional):gD(t,i,n&K.Optional)}finally{Mt(o)}}return uE(i,t,n)}function hE(e,t,n,i=K.Default,r){if(e!==null){if(t[U]&2048&&!(i&K.Self)){let s=Ix(e,t,n,i,kn);if(s!==kn)return s}let o=fE(e,t,n,i,kn);if(o!==kn)return o}return dE(t,n,i,r)}function fE(e,t,n,i,r){let o=Dx(n);if(typeof o=="function"){if(!XD(t,e,i))return i&K.Host?uE(r,n,i):dE(t,n,i,r);try{let s;if(s=o(i),s==null&&!(i&K.Optional))vm(n);else return s}finally{iE()}}else if(typeof o=="number"){let s=null,a=cE(e,t),l=zo,c=i&K.Host?t[Zt][Ot]:null;for((a===-1||i&K.SkipSelf)&&(l=a===-1?Pm(e,t):t[a+8],l===zo||!BC(i,!1)?a=-1:(s=t[z],a=Wu(l),t=Gu(l,t)));a!==-1;){let u=t[z];if(VC(o,a,u.data)){let d=Cx(a,t,n,s,i,c);if(d!==kn)return d}l=t[a+8],l!==zo&&BC(i,t[z].data[a+8]===c)&&VC(o,a,t)?(s=u,a=Wu(l),t=Gu(l,t)):a=-1}}return r}function Cx(e,t,n,i,r,o){let s=t[z],a=s.data[e+8],l=i==null?_d(a)&&Pg:i!=s&&(a.type&3)!==0,c=r&K.Host&&o===a,u=ku(a,s,n,l,c);return u!==null?Hr(t,s,u,a):kn}function ku(e,t,n,i,r){let o=e.providerIndexes,s=t.data,a=o&1048575,l=e.directiveStart,c=e.directiveEnd,u=o>>20,d=i?a:a+u,h=r?a+u:c;for(let f=d;f<h;f++){let p=s[f];if(f<l&&n===p||f>=l&&p.type===n)return f}if(r){let f=s[l];if(f&&Qi(f)&&f.type===n)return l}return null}function Hr(e,t,n,i){let r=e[n],o=t.data;if(px(r)){let s=r;s.resolving&&ZR(QR(o[n]));let a=zu(s.canSeeViewProviders);s.resolving=!0;let l,c=s.injectImpl?Mt(s.injectImpl):null,u=XD(e,i,K.Default);try{r=e[n]=s.factory(void 0,o,e,i),t.firstCreatePass&&n>=i.directiveStart&&hx(n,o[n],t)}finally{c!==null&&Mt(c),zu(a),s.resolving=!1,iE()}}return r}function Dx(e){if(typeof e=="string")return e.charCodeAt(0)||0;let t=e.hasOwnProperty(Ta)?e[Ta]:void 0;return typeof t=="number"?t>=0?t&aE:Ex:t}function VC(e,t,n){let i=1<<e;return!!(n[t+(e>>lE)]&i)}function BC(e,t){return!(e&K.Self)&&!(e&K.Host&&t)}var kr=class{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,i){return hE(this._tNode,this._lView,t,fd(i),n)}};function Ex(){return new kr(st(),X())}function Vt(e){return ka(()=>{let t=e.prototype.constructor,n=t[Lu]||Fg(t),i=Object.prototype,r=Object.getPrototypeOf(e.prototype).constructor;for(;r&&r!==i;){let o=r[Lu]||Fg(r);if(o&&o!==n)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function Fg(e){return cD(e)?()=>{let t=Fg(yt(e));return t&&t()}:Fr(e)}function Ix(e,t,n,i,r){let o=e,s=t;for(;o!==null&&s!==null&&s[U]&2048&&!(s[U]&512);){let a=fE(o,s,n,i|K.Self,kn);if(a!==kn)return a;let l=o.parent;if(!l){let c=s[kD];if(c){let u=c.get(n,kn,i);if(u!==kn)return u}l=pE(s),s=s[is]}o=l}return r}function pE(e){let t=e[z],n=t.type;return n===2?t.declTNode:n===1?e[Ot]:null}function Id(e){return wx(st(),e)}function jC(e,t=null,n=null,i){let r=gE(e,t,n,i);return r.resolveInjectorInitializers(),r}function gE(e,t=null,n=null,i,r=new Set){let o=[n||Nt,AO(e)];return i=i||(typeof e=="object"?void 0:bt(e)),new Na(o,t||gd(),i||null,r)}var Ae=class e{static{this.THROW_IF_NOT_FOUND=Aa}static{this.NULL=new ju}static create(t,n){if(Array.isArray(t))return jC({name:""},n,t,"");{let i=t.name??"";return jC({name:i},t.parent,t.providers,i)}}static{this.\u0275prov=D({token:e,providedIn:"any",factory:()=>y(vD)})}static{this.__NG_ELEMENT_ID__=-1}};var Tx=new E("");Tx.__NG_ELEMENT_ID__=e=>{let t=st();if(t===null)throw new x(204,!1);if(t.type&2)return t.value;if(e&K.Optional)return null;throw new x(204,!1)};var Sx="ngOriginalError";function fg(e){return e[Sx]}var mE=!0,Td=(()=>{class e{static{this.__NG_ELEMENT_ID__=Ax}static{this.__NG_ENV_ID__=n=>n}}return e})(),Lg=class extends Td{constructor(t){super(),this._lView=t}onDestroy(t){return GD(this._lView,t),()=>QO(this._lView,t)}};function Ax(){return new Lg(X())}var rs=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Ke(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=D({token:e,providedIn:"root",factory:()=>new e})}}return e})();var Vg=class extends re{constructor(t=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=t,PD()&&(this.destroyRef=m(Td,{optional:!0})??void 0,this.pendingTasks=m(rs,{optional:!0})??void 0)}emit(t){let n=oe(null);try{super.next(t)}finally{oe(n)}}subscribe(t,n,i){let r=t,o=n||(()=>null),s=i;if(t&&typeof t=="object"){let l=t;r=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=this.wrapInTimeout(o),r&&(r=this.wrapInTimeout(r)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:r,error:o,complete:s});return t instanceof Re&&t.add(a),a}wrapInTimeout(t){return n=>{let i=this.pendingTasks?.add();setTimeout(()=>{t(n),i!==void 0&&this.pendingTasks?.remove(i)})}}},ge=Vg;function Yu(...e){}function _E(e){let t,n;function i(){e=Yu;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),t!==void 0&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{e(),i()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{e(),i()})),()=>i()}function UC(e){return queueMicrotask(()=>e()),()=>{e=Yu}}var km="isAngularZone",Ku=km+"_ID",Mx=0,H=class e{constructor(t){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ge(!1),this.onMicrotaskEmpty=new ge(!1),this.onStable=new ge(!1),this.onError=new ge(!1);let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:r=!1,scheduleInRootZone:o=mE}=t;if(typeof Zone>"u")throw new x(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!r&&i,s.shouldCoalesceRunChangeDetection=r,s.callbackScheduled=!1,s.scheduleInRootZone=o,Ox(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(km)===!0}static assertInAngularZone(){if(!e.isInAngularZone())throw new x(909,!1)}static assertNotInAngularZone(){if(e.isInAngularZone())throw new x(909,!1)}run(t,n,i){return this._inner.run(t,n,i)}runTask(t,n,i,r){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,t,Nx,Yu,Yu);try{return o.runTask(s,n,i)}finally{o.cancelTask(s)}}runGuarded(t,n,i){return this._inner.runGuarded(t,n,i)}runOutsideAngular(t){return this._outer.run(t)}},Nx={};function Fm(e){if(e._nesting==0&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Rx(e){if(e.isCheckStableRunning||e.callbackScheduled)return;e.callbackScheduled=!0;function t(){_E(()=>{e.callbackScheduled=!1,Bg(e),e.isCheckStableRunning=!0,Fm(e),e.isCheckStableRunning=!1})}e.scheduleInRootZone?Zone.root.run(()=>{t()}):e._outer.run(()=>{t()}),Bg(e)}function Ox(e){let t=()=>{Rx(e)},n=Mx++;e._inner=e._inner.fork({name:"angular",properties:{[km]:!0,[Ku]:n,[Ku+n]:!0},onInvokeTask:(i,r,o,s,a,l)=>{if(xx(l))return i.invokeTask(o,s,a,l);try{return HC(e),i.invokeTask(o,s,a,l)}finally{(e.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||e.shouldCoalesceRunChangeDetection)&&t(),$C(e)}},onInvoke:(i,r,o,s,a,l,c)=>{try{return HC(e),i.invoke(o,s,a,l,c)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!Px(l)&&t(),$C(e)}},onHasTask:(i,r,o,s)=>{i.hasTask(o,s),r===o&&(s.change=="microTask"?(e._hasPendingMicrotasks=s.microTask,Bg(e),Fm(e)):s.change=="macroTask"&&(e.hasPendingMacrotasks=s.macroTask))},onHandleError:(i,r,o,s)=>(i.handleError(o,s),e.runOutsideAngular(()=>e.onError.emit(s)),!1)})}function Bg(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&e.callbackScheduled===!0?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function HC(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function $C(e){e._nesting--,Fm(e)}var Qu=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ge,this.onMicrotaskEmpty=new ge,this.onStable=new ge,this.onError=new ge}run(t,n,i){return t.apply(n,i)}runGuarded(t,n,i){return t.apply(n,i)}runOutsideAngular(t){return t()}runTask(t,n,i,r){return t.apply(n,i)}};function xx(e){return vE(e,"__ignore_ng_zone__")}function Px(e){return vE(e,"__scheduler_tick__")}function vE(e,t){return!Array.isArray(e)||e.length!==1?!1:e[0]?.data?.[t]===!0}function kx(e="zone.js",t){return e==="noop"?new Qu:e==="zone.js"?new H(t):e}var ui=class{constructor(){this._console=console}handleError(t){let n=this._findOriginalError(t);this._console.error("ERROR",t),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&fg(t);for(;n&&fg(n);)n=fg(n);return n||null}},Fx=new E("",{providedIn:"root",factory:()=>{let e=m(H),t=m(ui);return n=>e.runOutsideAngular(()=>t.handleError(n))}});function Lx(){return os(st(),X())}function os(e,t){return new Pe(Jt(e,t))}var Pe=(()=>{class e{constructor(n){this.nativeElement=n}static{this.__NG_ELEMENT_ID__=Lx}}return e})();function Vx(e){return e instanceof Pe?e.nativeElement:e}function Bx(){return this._results[Symbol.iterator]()}var jg=class e{get changes(){return this._changes??=new ge}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let n=e.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=Bx)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){this.dirty=!1;let i=lO(t);(this._changesDetected=!aO(this._results,i,n))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(t){this._onDirty=t}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function yE(e){return(e.flags&128)===128}var bE=new Map,jx=0;function Ux(){return jx++}function Hx(e){bE.set(e[md],e)}function Ug(e){bE.delete(e[md])}var WC="__ngContext__";function Zi(e,t){Yi(t)?(e[WC]=t[md],Hx(t)):e[WC]=t}function wE(e){return DE(e[Oa])}function CE(e){return DE(e[fn])}function DE(e){for(;e!==null&&!gi(e);)e=e[fn];return e}var Hg;function EE(e){Hg=e}function $x(){if(Hg!==void 0)return Hg;if(typeof document<"u")return document;throw new x(210,!1)}var Sd=new E("",{providedIn:"root",factory:()=>Wx}),Wx="ng",Lm=new E(""),ft=new E("",{providedIn:"platform",factory:()=>"unknown"});var Vm=new E("",{providedIn:"root",factory:()=>$x().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var Gx="h",zx="b";var qx=()=>null;function Bm(e,t,n=!1){return qx(e,t,n)}var IE=!1,Yx=new E("",{providedIn:"root",factory:()=>IE});var Su;function Kx(){if(Su===void 0&&(Su=null,vt.trustedTypes))try{Su=vt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Su}function GC(e){return Kx()?.createScriptURL(e)||e}var Zu=class{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${aD})`}};function ss(e){return e instanceof Zu?e.changingThisBreaksApplicationSecurity:e}function jm(e,t){let n=Qx(e);if(n!=null&&n!==t){if(n==="ResourceURL"&&t==="URL")return!0;throw new Error(`Required a safe ${t}, got a ${n} (see ${aD})`)}return n===t}function Qx(e){return e instanceof Zu&&e.getTypeName()||null}var Zx=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function TE(e){return e=String(e),e.match(Zx)?e:"unsafe:"+e}var Ad=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(Ad||{});function Um(e){let t=AE();return t?t.sanitize(Ad.URL,e)||"":jm(e,"URL")?ss(e):TE(hd(e))}function Jx(e){let t=AE();if(t)return GC(t.sanitize(Ad.RESOURCE_URL,e)||"");if(jm(e,"ResourceURL"))return GC(ss(e));throw new x(904,!1)}function Xx(e,t){return t==="src"&&(e==="embed"||e==="frame"||e==="iframe"||e==="media"||e==="script")||t==="href"&&(e==="base"||e==="link")?Jx:Um}function SE(e,t,n){return Xx(t,n)(e)}function AE(){let e=X();return e&&e[Ln].sanitizer}var eP=/^>|^->|<!--|-->|--!>|<!-$/g,tP=/(<|>)/g,nP="\u200B$1\u200B";function iP(e){return e.replace(eP,t=>t.replace(tP,nP))}function ME(e){return e instanceof Function?e():e}function rP(e){return(e??m(Ae)).get(ft)==="browser"}var di=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(di||{}),oP;function Hm(e,t){return oP(e,t)}function $o(e,t,n,i,r){if(i!=null){let o,s=!1;gi(i)?o=i:Yi(i)&&(s=!0,i=i[pi]);let a=Vn(i);e===0&&n!==null?r==null?kE(t,n,a):Ju(t,n,a,r||null,!0):e===1&&n!==null?Ju(t,n,a,r||null,!0):e===2?yP(t,a,s):e===3&&t.destroyNode(a),o!=null&&wP(t,e,o,n,r)}}function sP(e,t){return e.createText(t)}function aP(e,t,n){e.setValue(t,n)}function lP(e,t){return e.createComment(iP(t))}function NE(e,t,n){return e.createElement(t,n)}function cP(e,t){RE(e,t),t[pi]=null,t[Ot]=null}function uP(e,t,n,i,r,o){i[pi]=r,i[Ot]=t,Nd(e,i,n,1,r,o)}function RE(e,t){t[Ln].changeDetectionScheduler?.notify(9),Nd(e,t,t[Se],2,null,null)}function dP(e){let t=e[Oa];if(!t)return pg(e[z],e);for(;t;){let n=null;if(Yi(t))n=t[Oa];else{let i=t[Lt];i&&(n=i)}if(!n){for(;t&&!t[fn]&&t!==e;)Yi(t)&&pg(t[z],t),t=t[ht];t===null&&(t=e),Yi(t)&&pg(t[z],t),n=t&&t[fn]}t=n}}function hP(e,t,n,i){let r=Lt+i,o=n.length;i>0&&(n[r-1][fn]=t),i<o-Lt?(t[fn]=n[r],_D(n,Lt+i,t)):(n.push(t),t[fn]=null),t[ht]=n;let s=t[Lr];s!==null&&n!==s&&OE(s,t);let a=t[ci];a!==null&&a.insertView(e),Rg(t),t[U]|=128}function OE(e,t){let n=e[Zo],i=t[ht];if(Yi(i))e[U]|=$u.HasTransplantedViews;else{let r=i[ht][Zt];t[Zt]!==r&&(e[U]|=$u.HasTransplantedViews)}n===null?e[Zo]=[t]:n.push(t)}function $m(e,t){let n=e[Zo],i=n.indexOf(t);n.splice(i,1)}function $g(e,t){if(e.length<=Lt)return;let n=Lt+t,i=e[n];if(i){let r=i[Lr];r!==null&&r!==e&&$m(r,i),t>0&&(e[n-1][fn]=i[fn]);let o=Bu(e,Lt+t);cP(i[z],i);let s=o[ci];s!==null&&s.detachView(o[z]),i[ht]=null,i[fn]=null,i[U]&=-129}return i}function xE(e,t){if(!(t[U]&256)){let n=t[Se];n.destroyNode&&Nd(e,t,n,3,null,null),dP(t)}}function pg(e,t){if(t[U]&256)return;let n=oe(null);try{t[U]&=-129,t[U]|=256,t[Qt]&&Bp(t[Qt]),pP(e,t),fP(e,t),t[z].type===1&&t[Se].destroy();let i=t[Lr];if(i!==null&&gi(t[ht])){i!==t[ht]&&$m(i,t);let r=t[ci];r!==null&&r.detachView(e)}Ug(t)}finally{oe(n)}}function fP(e,t){let n=e.cleanup,i=t[Uu];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let s=n[o+3];s>=0?i[s]():i[-s].unsubscribe(),o+=2}else{let s=i[n[o+1]];n[o].call(s)}i!==null&&(t[Uu]=null);let r=t[qi];if(r!==null){t[qi]=null;for(let o=0;o<r.length;o++){let s=r[o];s()}}}function pP(e,t){let n;if(e!=null&&(n=e.destroyHooks)!=null)for(let i=0;i<n.length;i+=2){let r=t[n[i]];if(!(r instanceof Ur)){let o=n[i+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=r[o[s]],l=o[s+1];Pn(4,a,l);try{l.call(a)}finally{Pn(5,a,l)}}else{Pn(4,r,o);try{o.call(r)}finally{Pn(5,r,o)}}}}}function PE(e,t,n){return gP(e,t.parent,n)}function gP(e,t,n){let i=t;for(;i!==null&&i.type&168;)t=i,i=t.parent;if(i===null)return n[pi];{let{componentOffset:r}=i;if(r>-1){let{encapsulation:o}=e.data[i.directiveStart+r];if(o===Fn.None||o===Fn.Emulated)return null}return Jt(i,n)}}function Ju(e,t,n,i,r){e.insertBefore(t,n,i,r)}function kE(e,t,n){e.appendChild(t,n)}function zC(e,t,n,i,r){i!==null?Ju(e,t,n,i,r):kE(e,t,n)}function FE(e,t){return e.parentNode(t)}function mP(e,t){return e.nextSibling(t)}function LE(e,t,n){return vP(e,t,n)}function _P(e,t,n){return e.type&40?Jt(e,n):null}var vP=_P,qC;function Md(e,t,n,i){let r=PE(e,i,t),o=t[Se],s=i.parent||t[Ot],a=LE(s,i,t);if(r!=null)if(Array.isArray(n))for(let l=0;l<n.length;l++)zC(o,r,n[l],a,!1);else zC(o,r,n,a,!1);qC!==void 0&&qC(o,i,t,n,r)}function Ia(e,t){if(t!==null){let n=t.type;if(n&3)return Jt(t,e);if(n&4)return Wg(-1,e[t.index]);if(n&8){let i=t.child;if(i!==null)return Ia(e,i);{let r=e[t.index];return gi(r)?Wg(-1,r):Vn(r)}}else{if(n&128)return Ia(e,t.next);if(n&32)return Hm(t,e)()||Vn(e[t.index]);{let i=VE(e,t);if(i!==null){if(Array.isArray(i))return i[0];let r=Br(e[Zt]);return Ia(r,i)}else return Ia(e,t.next)}}}return null}function VE(e,t){if(t!==null){let i=e[Zt][Ot],r=t.projection;return i.projection[r]}return null}function Wg(e,t){let n=Lt+e+1;if(n<t.length){let i=t[n],r=i[z].firstChild;if(r!==null)return Ia(i,r)}return t[Vr]}function yP(e,t,n){e.removeChild(null,t,n)}function Wm(e,t,n,i,r,o,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=i[n.index],l=n.type;if(s&&t===0&&(a&&Zi(Vn(a),i),n.flags|=2),(n.flags&32)!==32)if(l&8)Wm(e,t,n.child,i,r,o,!1),$o(t,e,r,a,o);else if(l&32){let c=Hm(n,i),u;for(;u=c();)$o(t,e,r,u,o);$o(t,e,r,a,o)}else l&16?BE(e,t,i,n,r,o):$o(t,e,r,a,o);n=s?n.projectionNext:n.next}}function Nd(e,t,n,i,r,o){Wm(n,i,e.firstChild,t,r,o,!1)}function bP(e,t,n){let i=t[Se],r=PE(e,n,t),o=n.parent||t[Ot],s=LE(o,n,t);BE(i,0,t,n,r,s)}function BE(e,t,n,i,r,o){let s=n[Zt],l=s[Ot].projection[i.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++){let u=l[c];$o(t,e,r,u,o)}else{let c=l,u=s[ht];yE(i)&&(c.flags|=128),Wm(e,t,c,u,r,o,!0)}}function wP(e,t,n,i,r){let o=n[Vr],s=Vn(n);o!==s&&$o(t,e,i,o,r);for(let a=Lt;a<n.length;a++){let l=n[a];Nd(l[z],l,e,t,i,o)}}function CP(e,t,n,i,r){if(t)r?e.addClass(n,i):e.removeClass(n,i);else{let o=i.indexOf("-")===-1?void 0:di.DashCase;r==null?e.removeStyle(n,i,o):(typeof r=="string"&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=di.Important),e.setStyle(n,i,r,o))}}function DP(e,t,n){e.setAttribute(t,"style",n)}function jE(e,t,n){n===""?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function UE(e,t,n){let{mergedAttrs:i,classes:r,styles:o}=n;i!==null&&Ig(e,t,i),r!==null&&jE(e,t,r),o!==null&&DP(e,t,o)}var mi={};function pe(e=1){HE(xe(),X(),qr()+e,!1)}function HE(e,t,n,i){if(!i)if((t[U]&3)===3){let o=e.preOrderCheckHooks;o!==null&&xu(t,o,n)}else{let o=e.preOrderHooks;o!==null&&Pu(t,o,0,n)}jr(n)}function O(e,t=K.Default){let n=X();if(n===null)return y(e,t);let i=st();return hE(i,n,yt(e),t)}function $E(){let e="invalid";throw new Error(e)}function WE(e,t,n,i,r,o){let s=oe(null);try{let a=null;r&Ki.SignalBased&&(a=t[i][ri]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),r&Ki.HasDecoratorInputTransform&&(o=e.inputTransforms[i].call(t,o)),e.setInput!==null?e.setInput(t,a,o,n,i):LD(t,a,i,o)}finally{oe(s)}}function EP(e,t){let n=e.hostBindingOpCodes;if(n!==null)try{for(let i=0;i<n.length;i++){let r=n[i];if(r<0)jr(~r);else{let o=r,s=n[++i],a=n[++i];sx(s,o);let l=t[o];a(2,l)}}}finally{jr(-1)}}function Rd(e,t,n,i,r,o,s,a,l,c,u){let d=t.blueprint.slice();return d[pi]=r,d[U]=i|4|128|8|64,(c!==null||e&&e[U]&2048)&&(d[U]|=2048),$D(d),d[ht]=d[is]=e,d[pn]=n,d[Ln]=s||e&&e[Ln],d[Se]=a||e&&e[Se],d[Qo]=l||e&&e[Qo]||null,d[Ot]=o,d[md]=Ux(),d[Ra]=u,d[kD]=c,d[Zt]=t.type==2?e[Zt]:d,d}function as(e,t,n,i,r){let o=e.data[t];if(o===null)o=IP(e,t,n,i,r),ox()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=i,o.attrs=r;let s=nx();o.injectorIndex=s===null?-1:s.injectorIndex}return zr(o,!0),o}function IP(e,t,n,i,r){let o=KD(),s=Am(),a=s?o:o&&o.parent,l=e.data[t]=RP(e,a,n,t,i,r);return e.firstChild===null&&(e.firstChild=l),o!==null&&(s?o.child==null&&l.parent!==null&&(o.child=l):o.next===null&&(o.next=l,l.prev=o)),l}function GE(e,t,n,i){if(n===0)return-1;let r=t.length;for(let o=0;o<n;o++)t.push(i),e.blueprint.push(i),e.data.push(null);return r}function zE(e,t,n,i,r){let o=qr(),s=i&2;try{jr(-1),s&&t.length>wt&&HE(e,t,wt,!1),Pn(s?2:0,r),n(i,r)}finally{jr(o),Pn(s?3:1,r)}}function Gm(e,t,n){if(Im(t)){let i=oe(null);try{let r=t.directiveStart,o=t.directiveEnd;for(let s=r;s<o;s++){let a=e.data[s];if(a.contentQueries){let l=n[s];a.contentQueries(1,l,s)}}}finally{oe(i)}}}function zm(e,t,n){qD()&&(LP(e,t,n,Jt(n,t)),(n.flags&64)===64&&KE(e,t,n))}function qm(e,t,n=Jt){let i=t.localNames;if(i!==null){let r=t.index+1;for(let o=0;o<i.length;o+=2){let s=i[o+1],a=s===-1?n(t,e):e[s];e[r++]=a}}}function qE(e){let t=e.tView;return t===null||t.incompleteFirstPass?e.tView=Ym(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function Ym(e,t,n,i,r,o,s,a,l,c,u){let d=wt+i,h=d+r,f=TP(d,h),p=typeof c=="function"?c():c;return f[z]={type:e,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:t,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:l,consts:p,incompleteFirstPass:!1,ssrId:u}}function TP(e,t){let n=[];for(let i=0;i<t;i++)n.push(i<e?null:mi);return n}function SP(e,t,n,i){let o=i.get(Yx,IE)||n===Fn.ShadowDom,s=e.selectRootElement(t,o);return AP(s),s}function AP(e){MP(e)}var MP=()=>null;function NP(e,t,n,i){let r=JE(t);r.push(n),e.firstCreatePass&&XE(e).push(i,r.length-1)}function RP(e,t,n,i,r,o){let s=t?t.injectorIndex:-1,a=0;return YD()&&(a|=128),{type:n,index:i,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function YC(e,t,n,i,r){for(let o in t){if(!t.hasOwnProperty(o))continue;let s=t[o];if(s===void 0)continue;i??={};let a,l=Ki.None;Array.isArray(s)?(a=s[0],l=s[1]):a=s;let c=o;if(r!==null){if(!r.hasOwnProperty(o))continue;c=r[o]}e===0?KC(i,n,c,a,l):KC(i,n,c,a)}return i}function KC(e,t,n,i,r){let o;e.hasOwnProperty(n)?(o=e[n]).push(t,i):o=e[n]=[t,i],r!==void 0&&o.push(r)}function OP(e,t,n){let i=t.directiveStart,r=t.directiveEnd,o=e.data,s=t.attrs,a=[],l=null,c=null;for(let u=i;u<r;u++){let d=o[u],h=n?n.get(d):null,f=h?h.inputs:null,p=h?h.outputs:null;l=YC(0,d.inputs,u,l,f),c=YC(1,d.outputs,u,c,p);let g=l!==null&&s!==null&&!Cm(t)?YP(l,u,s):null;a.push(g)}l!==null&&(l.hasOwnProperty("class")&&(t.flags|=8),l.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=a,t.inputs=l,t.outputs=c}function xP(e){return e==="class"?"className":e==="for"?"htmlFor":e==="formaction"?"formAction":e==="innerHtml"?"innerHTML":e==="readonly"?"readOnly":e==="tabindex"?"tabIndex":e}function Km(e,t,n,i,r,o,s,a){let l=Jt(t,n),c=t.inputs,u;!a&&c!=null&&(u=c[i])?(Zm(e,n,u,i,r),_d(t)&&PP(n,t.index)):t.type&3?(i=xP(i),r=s!=null?s(r,t.value||"",i):r,o.setProperty(l,i,r)):t.type&12}function PP(e,t){let n=er(t,e);n[U]&16||(n[U]|=64)}function Qm(e,t,n,i){if(qD()){let r=i===null?null:{"":-1},o=BP(e,n),s,a;o===null?s=a=null:[s,a]=o,s!==null&&YE(e,t,n,s,r,a),r&&jP(n,i,r)}n.mergedAttrs=Ma(n.mergedAttrs,n.attrs)}function YE(e,t,n,i,r,o){for(let c=0;c<i.length;c++)kg(qu(n,t),e,i[c].type);HP(n,e.data.length,i.length);for(let c=0;c<i.length;c++){let u=i[c];u.providersResolver&&u.providersResolver(u)}let s=!1,a=!1,l=GE(e,t,i.length,null);for(let c=0;c<i.length;c++){let u=i[c];n.mergedAttrs=Ma(n.mergedAttrs,u.hostAttrs),$P(e,n,t,l,u),UP(l,u,r),u.contentQueries!==null&&(n.flags|=4),(u.hostBindings!==null||u.hostAttrs!==null||u.hostVars!==0)&&(n.flags|=64);let d=u.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),a=!0),l++}OP(e,n,o)}function kP(e,t,n,i,r){let o=r.hostBindings;if(o){let s=e.hostBindingOpCodes;s===null&&(s=e.hostBindingOpCodes=[]);let a=~t.index;FP(s)!=a&&s.push(a),s.push(n,i,o)}}function FP(e){let t=e.length;for(;t>0;){let n=e[--t];if(typeof n=="number"&&n<0)return n}return 0}function LP(e,t,n,i){let r=n.directiveStart,o=n.directiveEnd;_d(n)&&WP(t,n,e.data[r+n.componentOffset]),e.firstCreatePass||qu(n,t),Zi(i,t);let s=n.initialInputs;for(let a=r;a<o;a++){let l=e.data[a],c=Hr(t,e,a,n);if(Zi(c,t),s!==null&&qP(t,a-r,c,l,n,s),Qi(l)){let u=er(n.index,t);u[pn]=Hr(t,e,a,n)}}}function KE(e,t,n){let i=n.directiveStart,r=n.directiveEnd,o=n.index,s=ax();try{jr(o);for(let a=i;a<r;a++){let l=e.data[a],c=t[a];Og(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&VP(l,c)}}finally{jr(-1),Og(s)}}function VP(e,t){e.hostBindings!==null&&e.hostBindings(1,t)}function BP(e,t){let n=e.directiveRegistry,i=null,r=null;if(n)for(let o=0;o<n.length;o++){let s=n[o];if(DD(t,s.selectors,!1))if(i||(i=[]),Qi(s))if(s.findHostDirectiveDefs!==null){let a=[];r=r||new Map,s.findHostDirectiveDefs(s,a,r),i.unshift(...a,s);let l=a.length;Gg(e,t,l)}else i.unshift(s),Gg(e,t,0);else r=r||new Map,s.findHostDirectiveDefs?.(s,i,r),i.push(s)}return i===null?null:[i,r]}function Gg(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function jP(e,t,n){if(t){let i=e.localNames=[];for(let r=0;r<t.length;r+=2){let o=n[t[r+1]];if(o==null)throw new x(-301,!1);i.push(t[r],o)}}}function UP(e,t,n){if(n){if(t.exportAs)for(let i=0;i<t.exportAs.length;i++)n[t.exportAs[i]]=e;Qi(t)&&(n[""]=e)}}function HP(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function $P(e,t,n,i,r){e.data[i]=r;let o=r.factory||(r.factory=Fr(r.type,!0)),s=new Ur(o,Qi(r),O);e.blueprint[i]=s,n[i]=s,kP(e,t,i,GE(e,n,r.hostVars,mi),r)}function WP(e,t,n){let i=Jt(t,e),r=qE(n),o=e[Ln].rendererFactory,s=16;n.signals?s=4096:n.onPush&&(s=64);let a=Od(e,Rd(e,r,null,s,i,t,null,o.createRenderer(i,n),null,null,null));e[t.index]=a}function GP(e,t,n,i,r,o){let s=Jt(e,t);zP(t[Se],s,o,e.value,n,i,r)}function zP(e,t,n,i,r,o,s){if(o==null)e.removeAttribute(t,r,n);else{let a=s==null?hd(o):s(o,i||"",r);e.setAttribute(t,r,a,n)}}function qP(e,t,n,i,r,o){let s=o[t];if(s!==null)for(let a=0;a<s.length;){let l=s[a++],c=s[a++],u=s[a++],d=s[a++];WE(i,n,l,c,u,d)}}function YP(e,t,n){let i=null,r=0;for(;r<n.length;){let o=n[r];if(o===0){r+=4;continue}else if(o===5){r+=2;continue}if(typeof o=="number")break;if(e.hasOwnProperty(o)){i===null&&(i=[]);let s=e[o];for(let a=0;a<s.length;a+=3)if(s[a]===t){i.push(o,s[a+1],s[a+2],n[r+1]);break}}r+=2}return i}function QE(e,t,n,i){return[e,!0,0,t,null,i,null,n,null,null]}function ZE(e,t){let n=e.contentQueries;if(n!==null){let i=oe(null);try{for(let r=0;r<n.length;r+=2){let o=n[r],s=n[r+1];if(s!==-1){let a=e.data[s];Rm(o),a.contentQueries(2,t[s],s)}}}finally{oe(i)}}}function Od(e,t){return e[Oa]?e[PC][fn]=t:e[Oa]=t,e[PC]=t,t}function zg(e,t,n){Rm(0);let i=oe(null);try{t(e,n)}finally{oe(i)}}function JE(e){return e[Uu]??=[]}function XE(e){return e.cleanup??=[]}function eI(e,t){let n=e[Qo],i=n?n.get(ui,null):null;i&&i.handleError(t)}function Zm(e,t,n,i,r){for(let o=0;o<n.length;){let s=n[o++],a=n[o++],l=n[o++],c=t[s],u=e.data[s];WE(u,c,i,a,l,r)}}function KP(e,t,n){let i=UD(t,e);aP(e[Se],i,n)}function QP(e,t){let n=er(t,e),i=n[z];ZP(i,n);let r=n[pi];r!==null&&n[Ra]===null&&(n[Ra]=Bm(r,n[Qo])),Jm(i,n,n[pn])}function ZP(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}function Jm(e,t,n){Om(t);try{let i=e.viewQuery;i!==null&&zg(1,i,n);let r=e.template;r!==null&&zE(e,t,r,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),t[ci]?.finishViewCreation(e),e.staticContentQueries&&ZE(e,t),e.staticViewQueries&&zg(2,e.viewQuery,n);let o=e.components;o!==null&&JP(t,o)}catch(i){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),i}finally{t[U]&=-5,xm()}}function JP(e,t){for(let n=0;n<t.length;n++)QP(e,t[n])}function tI(e,t,n,i){let r=oe(null);try{let o=t.tView,a=e[U]&4096?4096:16,l=Rd(e,o,n,a,null,t,null,null,i?.injector??null,i?.embeddedViewInjector??null,i?.dehydratedView??null),c=e[t.index];l[Lr]=c;let u=e[ci];return u!==null&&(l[ci]=u.createEmbeddedView(o)),Jm(o,l,n),l}finally{oe(r)}}function qg(e,t){return!t||t.firstChild===null||yE(e)}function nI(e,t,n,i=!0){let r=t[z];if(hP(r,t,e,n),i){let s=Wg(n,e),a=t[Se],l=FE(a,e[Vr]);l!==null&&uP(r,e[Ot],a,t,l,s)}let o=t[Ra];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Xu(e,t,n,i,r=!1){for(;n!==null;){if(n.type===128){n=r?n.projectionNext:n.next;continue}let o=t[n.index];o!==null&&i.push(Vn(o)),gi(o)&&XP(o,i);let s=n.type;if(s&8)Xu(e,t,n.child,i);else if(s&32){let a=Hm(n,t),l;for(;l=a();)i.push(l)}else if(s&16){let a=VE(t,n);if(Array.isArray(a))i.push(...a);else{let l=Br(t[Zt]);Xu(l[z],l,a,i,!0)}}n=r?n.projectionNext:n.next}return i}function XP(e,t){for(let n=Lt;n<e.length;n++){let i=e[n],r=i[z].firstChild;r!==null&&Xu(i[z],i,r,t)}e[Vr]!==e[pi]&&t.push(e[Vr])}var iI=[];function ek(e){return e[Qt]??tk(e)}function tk(e){let t=iI.pop()??Object.create(ik);return t.lView=e,t}function nk(e){e.lView[Qt]!==e&&(e.lView=null,iI.push(e))}var ik=Y(C({},va),{consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{bd(e.lView)},consumerOnSignalRead(){this.lView[Qt]=this}});function rk(e){let t=e[Qt]??Object.create(ok);return t.lView=e,t}var ok=Y(C({},va),{consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{let t=Br(e.lView);for(;t&&!rI(t[z]);)t=Br(t);t&&WD(t)},consumerOnSignalRead(){this.lView[Qt]=this}});function rI(e){return e.type!==2}var sk=100;function oI(e,t=!0,n=0){let i=e[Ln],r=i.rendererFactory,o=!1;o||r.begin?.();try{ak(e,n)}catch(s){throw t&&eI(e,s),s}finally{o||(r.end?.(),i.inlineEffectRunner?.flush())}}function ak(e,t){let n=QD();try{FC(!0),Yg(e,t);let i=0;for(;yd(e);){if(i===sk)throw new x(103,!1);i++,Yg(e,1)}}finally{FC(n)}}function lk(e,t,n,i){let r=t[U];if((r&256)===256)return;let o=!1,s=!1;!o&&t[Ln].inlineEffectRunner?.flush(),Om(t);let a=!0,l=null,c=null;o||(rI(e)?(c=ek(t),l=Yc(c)):$w()===null?(a=!1,c=rk(t),l=Yc(c)):t[Qt]&&(Bp(t[Qt]),t[Qt]=null));try{$D(t),rx(e.bindingStartIndex),n!==null&&zE(e,t,n,2,i);let u=(r&3)===3;if(!o)if(u){let f=e.preOrderCheckHooks;f!==null&&xu(t,f,null)}else{let f=e.preOrderHooks;f!==null&&Pu(t,f,0,null),ug(t,0)}if(s||ck(t),sI(t,0),e.contentQueries!==null&&ZE(e,t),!o)if(u){let f=e.contentCheckHooks;f!==null&&xu(t,f)}else{let f=e.contentHooks;f!==null&&Pu(t,f,1),ug(t,1)}EP(e,t);let d=e.components;d!==null&&lI(t,d,0);let h=e.viewQuery;if(h!==null&&zg(2,h,i),!o)if(u){let f=e.viewCheckHooks;f!==null&&xu(t,f)}else{let f=e.viewHooks;f!==null&&Pu(t,f,2),ug(t,2)}if(e.firstUpdatePass===!0&&(e.firstUpdatePass=!1),t[cg]){for(let f of t[cg])f();t[cg]=null}o||(t[U]&=-73)}catch(u){throw o||bd(t),u}finally{c!==null&&(Lp(c,l),a&&nk(c)),xm()}}function sI(e,t){for(let n=wE(e);n!==null;n=CE(n))for(let i=Lt;i<n.length;i++){let r=n[i];aI(r,t)}}function ck(e){for(let t=wE(e);t!==null;t=CE(t)){if(!(t[U]&$u.HasTransplantedViews))continue;let n=t[Zo];for(let i=0;i<n.length;i++){let r=n[i];WD(r)}}}function uk(e,t,n){let i=er(t,e);aI(i,n)}function aI(e,t){Sm(e)&&Yg(e,t)}function Yg(e,t){let i=e[z],r=e[U],o=e[Qt],s=!!(t===0&&r&16);if(s||=!!(r&64&&t===0),s||=!!(r&1024),s||=!!(o?.dirty&&Vp(o)),s||=!1,o&&(o.dirty=!1),e[U]&=-9217,s)lk(i,e,i.template,e[pn]);else if(r&8192){sI(e,1);let a=i.components;a!==null&&lI(e,a,1)}}function lI(e,t,n){for(let i=0;i<t.length;i++)uk(e,t[i],n)}function Xm(e,t){let n=QD()?64:1088;for(e[Ln].changeDetectionScheduler?.notify(t);e;){e[U]|=n;let i=Br(e);if(Mg(e)&&!i)return e;e=i}return null}var $r=class{get rootNodes(){let t=this._lView,n=t[z];return Xu(n,t,n.firstChild,[])}constructor(t,n,i=!0){this._lView=t,this._cdRefInjectingView=n,this.notifyErrorHandler=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[pn]}set context(t){this._lView[pn]=t}get destroyed(){return(this._lView[U]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let t=this._lView[ht];if(gi(t)){let n=t[Hu],i=n?n.indexOf(this):-1;i>-1&&($g(t,i),Bu(n,i))}this._attachedToViewContainer=!1}xE(this._lView[z],this._lView)}onDestroy(t){GD(this._lView,t)}markForCheck(){Xm(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[U]&=-129}reattach(){Rg(this._lView),this._lView[U]|=128}detectChanges(){this._lView[U]|=1024,oI(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new x(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let t=Mg(this._lView),n=this._lView[Lr];n!==null&&!t&&$m(n,this._lView),RE(this._lView[z],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new x(902,!1);this._appRef=t;let n=Mg(this._lView),i=this._lView[Lr];i!==null&&!n&&OE(i,this._lView),Rg(this._lView)}},hi=(()=>{class e{static{this.__NG_ELEMENT_ID__=fk}}return e})(),dk=hi,hk=class extends dk{constructor(t,n,i){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,n){return this.createEmbeddedViewImpl(t,n)}createEmbeddedViewImpl(t,n,i){let r=tI(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:n,dehydratedView:i});return new $r(r)}};function fk(){return xd(st(),X())}function xd(e,t){return e.type&4?new hk(t,e,os(e,t)):null}var fQ=new RegExp(`^(\\d+)*(${zx}|${Gx})*(.*)`);var pk=()=>null;function Kg(e,t){return pk(e,t)}var Xo=class{},e_=new E("",{providedIn:"root",factory:()=>!1});var cI=new E(""),uI=new E(""),Qg=class{},ed=class{};function gk(e){let t=Error(`No component factory found for ${bt(e)}.`);return t[mk]=e,t}var mk="ngComponent";var Zg=class{resolveComponentFactory(t){throw gk(t)}},es=class{static{this.NULL=new Zg}},ts=class{},$n=(()=>{class e{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>_k()}}return e})();function _k(){let e=X(),t=st(),n=er(t.index,e);return(Yi(n)?n:e)[Se]}var vk=(()=>{class e{static{this.\u0275prov=D({token:e,providedIn:"root",factory:()=>null})}}return e})();function td(e,t,n){let i=n?e.styles:null,r=n?e.classes:null,o=0;if(t!==null)for(let s=0;s<t.length;s++){let a=t[s];if(typeof a=="number")o=a;else if(o==1)r=wg(r,a);else if(o==2){let l=a,c=t[++s];i=wg(i,l+": "+c+";")}}n?e.styles=i:e.stylesWithoutHost=i,n?e.classes=r:e.classesWithoutHost=r}var nd=class extends es{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){let n=li(t);return new Wr(n,this.ngModule)}};function QC(e,t){let n=[];for(let i in e){if(!e.hasOwnProperty(i))continue;let r=e[i];if(r===void 0)continue;let o=Array.isArray(r),s=o?r[0]:r,a=o?r[1]:Ki.None;t?n.push({propName:s,templateName:i,isSignal:(a&Ki.SignalBased)!==0}):n.push({propName:s,templateName:i})}return n}function yk(e){let t=e.toLowerCase();return t==="svg"?GO:t==="math"?zO:null}var Wr=class extends ed{get inputs(){let t=this.componentDef,n=t.inputTransforms,i=QC(t.inputs,!0);if(n!==null)for(let r of i)n.hasOwnProperty(r.propName)&&(r.transform=n[r.propName]);return i}get outputs(){return QC(this.componentDef.outputs,!1)}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=DO(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}create(t,n,i,r){let o=oe(null);try{r=r||this.ngModule;let s=r instanceof dt?r:r?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new xg(t,s):t,l=a.get(ts,null);if(l===null)throw new x(407,!1);let c=a.get(vk,null),u=a.get(Xo,null),d={rendererFactory:l,sanitizer:c,inlineEffectRunner:null,changeDetectionScheduler:u},h=l.createRenderer(null,this.componentDef),f=this.componentDef.selectors[0][0]||"div",p=i?SP(h,i,this.componentDef.encapsulation,a):NE(h,f,yk(f)),g=512;this.componentDef.signals?g|=4096:this.componentDef.onPush||(g|=16);let v=null;p!==null&&(v=Bm(p,a,!0));let w=Ym(0,null,null,1,0,null,null,null,null,null,null),N=Rd(null,w,null,g,null,null,d,h,a,null,v);Om(N);let T,A,V=null;try{let j=this.componentDef,se,Ie=null;j.findHostDirectiveDefs?(se=[],Ie=new Map,j.findHostDirectiveDefs(j,se,Ie),se.push(j)):se=[j];let Ce=bk(N,p);V=wk(Ce,p,j,se,N,d,h),A=HD(w,wt),p&&Ek(h,j,p,i),n!==void 0&&Ik(A,this.ngContentSelectors,n),T=Dk(V,j,se,Ie,N,[Tk]),Jm(w,N,null)}catch(j){throw V!==null&&Ug(V),Ug(N),j}finally{xm()}return new Jg(this.componentType,T,os(A,N),N,A)}finally{oe(o)}}},Jg=class extends Qg{constructor(t,n,i,r,o){super(),this.location=i,this._rootLView=r,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new $r(r,void 0,!1),this.componentType=t}setInput(t,n){let i=this._tNode.inputs,r;if(i!==null&&(r=i[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;let o=this._rootLView;Zm(o[z],o,r,t,n),this.previousInputValues.set(t,n);let s=er(this._tNode.index,o);Xm(s,1)}}get injector(){return new kr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}};function bk(e,t){let n=e[z],i=wt;return e[i]=t,as(n,i,2,"#host",null)}function wk(e,t,n,i,r,o,s){let a=r[z];Ck(i,e,t,s);let l=null;t!==null&&(l=Bm(t,r[Qo]));let c=o.rendererFactory.createRenderer(t,n),u=16;n.signals?u=4096:n.onPush&&(u=64);let d=Rd(r,qE(n),null,u,r[e.index],e,o,c,null,null,l);return a.firstCreatePass&&Gg(a,e,i.length-1),Od(r,d),r[e.index]=d}function Ck(e,t,n,i){for(let r of e)t.mergedAttrs=Ma(t.mergedAttrs,r.hostAttrs);t.mergedAttrs!==null&&(td(t,t.mergedAttrs,!0),n!==null&&UE(i,n,t))}function Dk(e,t,n,i,r,o){let s=st(),a=r[z],l=Jt(s,r);YE(a,r,s,n,null,i);for(let u=0;u<n.length;u++){let d=s.directiveStart+u,h=Hr(r,a,d,s);Zi(h,r)}KE(a,r,s),l&&Zi(l,r);let c=Hr(r,a,s.directiveStart+s.componentOffset,s);if(e[pn]=r[pn]=c,o!==null)for(let u of o)u(c,t);return Gm(a,s,r),c}function Ek(e,t,n,i){if(i)Ig(e,n,["ng-version","18.2.13"]);else{let{attrs:r,classes:o}=EO(t.selectors[0]);r&&Ig(e,n,r),o&&o.length>0&&jE(e,n,o.join(" "))}}function Ik(e,t,n){let i=e.projection=[];for(let r=0;r<t.length;r++){let o=n[r];i.push(o!=null?Array.from(o):null)}}function Tk(){let e=st();Ed(X()[z],e)}var _i=(()=>{class e{static{this.__NG_ELEMENT_ID__=Sk}}return e})();function Sk(){let e=st();return hI(e,X())}var Ak=_i,dI=class extends Ak{constructor(t,n,i){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=i}get element(){return os(this._hostTNode,this._hostLView)}get injector(){return new kr(this._hostTNode,this._hostLView)}get parentInjector(){let t=Pm(this._hostTNode,this._hostLView);if(sE(t)){let n=Gu(t,this._hostLView),i=Wu(t),r=n[z].data[i+8];return new kr(r,n)}else return new kr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){let n=ZC(this._lContainer);return n!==null&&n[t]||null}get length(){return this._lContainer.length-Lt}createEmbeddedView(t,n,i){let r,o;typeof i=="number"?r=i:i!=null&&(r=i.index,o=i.injector);let s=Kg(this._lContainer,t.ssrId),a=t.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,r,qg(this._hostTNode,s)),a}createComponent(t,n,i,r,o){let s=t&&!UO(t),a;if(s)a=n;else{let p=n||{};a=p.index,i=p.injector,r=p.projectableNodes,o=p.environmentInjector||p.ngModuleRef}let l=s?t:new Wr(li(t)),c=i||this.parentInjector;if(!o&&l.ngModule==null){let g=(s?c:this.parentInjector).get(dt,null);g&&(o=g)}let u=li(l.componentType??{}),d=Kg(this._lContainer,u?.id??null),h=d?.firstChild??null,f=l.create(c,r,h,o);return this.insertImpl(f.hostView,a,qg(this._hostTNode,d)),f}insert(t,n){return this.insertImpl(t,n,!0)}insertImpl(t,n,i){let r=t._lView;if(YO(r)){let a=this.indexOf(t);if(a!==-1)this.detach(a);else{let l=r[ht],c=new dI(l,l[Ot],l[ht]);c.detach(c.indexOf(t))}}let o=this._adjustIndex(n),s=this._lContainer;return nI(s,r,o,i),t.attachToViewContainerRef(),_D(gg(s),o,t),t}move(t,n){return this.insert(t,n)}indexOf(t){let n=ZC(this._lContainer);return n!==null?n.indexOf(t):-1}remove(t){let n=this._adjustIndex(t,-1),i=$g(this._lContainer,n);i&&(Bu(gg(this._lContainer),n),xE(i[z],i))}detach(t){let n=this._adjustIndex(t,-1),i=$g(this._lContainer,n);return i&&Bu(gg(this._lContainer),n)!=null?new $r(i):null}_adjustIndex(t,n=0){return t??this.length+n}};function ZC(e){return e[Hu]}function gg(e){return e[Hu]||(e[Hu]=[])}function hI(e,t){let n,i=t[e.index];return gi(i)?n=i:(n=QE(i,t,null,e),t[e.index]=n,Od(t,n)),Nk(n,t,e,i),new dI(n,e,t)}function Mk(e,t){let n=e[Se],i=n.createComment(""),r=Jt(t,e),o=FE(n,r);return Ju(n,o,i,mP(n,r),!1),i}var Nk=xk,Rk=()=>!1;function Ok(e,t,n){return Rk(e,t,n)}function xk(e,t,n,i){if(e[Vr])return;let r;n.type&8?r=Vn(i):r=Mk(t,n),e[Vr]=r}var Xg=class e{constructor(t){this.queryList=t,this.matches=null}clone(){return new e(this.queryList)}setDirty(){this.queryList.setDirty()}},em=class e{constructor(t=[]){this.queries=t}createEmbeddedView(t){let n=t.queries;if(n!==null){let i=t.contentQueries!==null?t.contentQueries[0]:n.length,r=[];for(let o=0;o<i;o++){let s=n.getByIndex(o),a=this.queries[s.indexInDeclarationView];r.push(a.clone())}return new e(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}finishViewCreation(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)t_(t,n).matches!==null&&this.queries[n].setDirty()}},id=class{constructor(t,n,i=null){this.flags=n,this.read=i,typeof t=="string"?this.predicate=Uk(t):this.predicate=t}},tm=class e{constructor(t=[]){this.queries=t}elementStart(t,n){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let i=0;i<this.length;i++){let r=n!==null?n.length:0,o=this.getByIndex(i).embeddedTView(t,r);o&&(o.indexInDeclarationView=i,n!==null?n.push(o):n=[o])}return n!==null?new e(n):null}template(t,n){for(let i=0;i<this.queries.length;i++)this.queries[i].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}},nm=class e{constructor(t,n=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new e(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,i=t.parent;for(;i!==null&&i.type&8&&i.index!==n;)i=i.parent;return n===(i!==null?i.index:-1)}return this._appliesToNextNode}matchTNode(t,n){let i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){let o=i[r];this.matchTNodeWithReadOption(t,n,Pk(n,o)),this.matchTNodeWithReadOption(t,n,ku(n,t,o,!1,!1))}else i===hi?n.type&4&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,ku(n,t,i,!1,!1))}matchTNodeWithReadOption(t,n,i){if(i!==null){let r=this.metadata.read;if(r!==null)if(r===Pe||r===_i||r===hi&&n.type&4)this.addMatch(n.index,-2);else{let o=ku(n,t,r,!1,!1);o!==null&&this.addMatch(n.index,o)}else this.addMatch(n.index,i)}}addMatch(t,n){this.matches===null?this.matches=[t,n]:this.matches.push(t,n)}};function Pk(e,t){let n=e.localNames;if(n!==null){for(let i=0;i<n.length;i+=2)if(n[i]===t)return n[i+1]}return null}function kk(e,t){return e.type&11?os(e,t):e.type&4?xd(e,t):null}function Fk(e,t,n,i){return n===-1?kk(t,e):n===-2?Lk(e,t,i):Hr(e,e[z],n,t)}function Lk(e,t,n){if(n===Pe)return os(t,e);if(n===hi)return xd(t,e);if(n===_i)return hI(t,e)}function fI(e,t,n,i){let r=t[ci].queries[i];if(r.matches===null){let o=e.data,s=n.matches,a=[];for(let l=0;s!==null&&l<s.length;l+=2){let c=s[l];if(c<0)a.push(null);else{let u=o[c];a.push(Fk(t,u,s[l+1],n.metadata.read))}}r.matches=a}return r.matches}function im(e,t,n,i){let r=e.queries.getByIndex(n),o=r.matches;if(o!==null){let s=fI(e,t,r,n);for(let a=0;a<o.length;a+=2){let l=o[a];if(l>0)i.push(s[a/2]);else{let c=o[a+1],u=t[-l];for(let d=Lt;d<u.length;d++){let h=u[d];h[Lr]===h[ht]&&im(h[z],h,c,i)}if(u[Zo]!==null){let d=u[Zo];for(let h=0;h<d.length;h++){let f=d[h];im(f[z],f,c,i)}}}}}return i}function Vk(e,t){return e[ci].queries[t].queryList}function pI(e,t,n){let i=new jg((n&4)===4);return NP(e,t,i,i.destroy),(t[ci]??=new em).queries.push(new Xg(i))-1}function Bk(e,t,n){let i=xe();return i.firstCreatePass&&(gI(i,new id(e,t,n),-1),(t&2)===2&&(i.staticViewQueries=!0)),pI(i,X(),t)}function jk(e,t,n,i){let r=xe();if(r.firstCreatePass){let o=st();gI(r,new id(t,n,i),o.index),Hk(r,e),(n&2)===2&&(r.staticContentQueries=!0)}return pI(r,X(),n)}function Uk(e){return e.split(",").map(t=>t.trim())}function gI(e,t,n){e.queries===null&&(e.queries=new tm),e.queries.track(new nm(t,n))}function Hk(e,t){let n=e.contentQueries||(e.contentQueries=[]),i=n.length?n[n.length-1]:-1;t!==i&&n.push(e.queries.length-1,t)}function t_(e,t){return e.queries.getByIndex(t)}function $k(e,t){let n=e[z],i=t_(n,t);return i.crossesNgTemplate?im(n,e,t,[]):fI(n,e,i,t)}var JC=new Set;function Va(e){JC.has(e)||(JC.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}function Wk(e){return typeof e=="function"&&e[ri]!==void 0}function Ba(e,t){Va("NgSignals");let n=eC(e),i=n[ri];return t?.equal&&(i.equal=t.equal),n.set=r=>jp(i,r),n.update=r=>tC(i,r),n.asReadonly=Gk.bind(n),n}function Gk(){let e=this[ri];if(e.readonlyFn===void 0){let t=()=>this();t[ri]=e,e.readonlyFn=t}return e.readonlyFn}function mI(e){return Wk(e)&&typeof e.set=="function"}function zk(e){let t=[],n=new Map;function i(r){let o=n.get(r);if(!o){let s=e(r);n.set(r,o=s.then(Qk))}return o}return rd.forEach((r,o)=>{let s=[];r.templateUrl&&s.push(i(r.templateUrl).then(c=>{r.template=c}));let a=typeof r.styles=="string"?[r.styles]:r.styles||[];if(r.styles=a,r.styleUrl&&r.styleUrls?.length)throw new Error("@Component cannot define both `styleUrl` and `styleUrls`. Use `styleUrl` if the component has one stylesheet, or `styleUrls` if it has multiple");if(r.styleUrls?.length){let c=r.styles.length,u=r.styleUrls;r.styleUrls.forEach((d,h)=>{a.push(""),s.push(i(d).then(f=>{a[c+h]=f,u.splice(u.indexOf(d),1),u.length==0&&(r.styleUrls=void 0)}))})}else r.styleUrl&&s.push(i(r.styleUrl).then(c=>{a.push(c),r.styleUrl=void 0}));let l=Promise.all(s).then(()=>Zk(o));t.push(l)}),Yk(),Promise.all(t).then(()=>{})}var rd=new Map,qk=new Set;function Yk(){let e=rd;return rd=new Map,e}function Kk(){return rd.size===0}function Qk(e){return typeof e=="string"?e:e.text()}function Zk(e){qk.delete(e)}function Jk(e){return Object.getPrototypeOf(e.prototype).constructor}function pt(e){let t=Jk(e.type),n=!0,i=[e];for(;t;){let r;if(Qi(e))r=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new x(903,!1);r=t.\u0275dir}if(r){if(n){i.push(r);let s=e;s.inputs=Au(e.inputs),s.inputTransforms=Au(e.inputTransforms),s.declaredInputs=Au(e.declaredInputs),s.outputs=Au(e.outputs);let a=r.hostBindings;a&&iF(e,a);let l=r.viewQuery,c=r.contentQueries;if(l&&tF(e,l),c&&nF(e,c),Xk(e,r),HR(e.outputs,r.outputs),Qi(r)&&r.data.animation){let u=e.data;u.animation=(u.animation||[]).concat(r.data.animation)}}let o=r.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(e),a===pt&&(n=!1)}}t=Object.getPrototypeOf(t)}eF(i)}function Xk(e,t){for(let n in t.inputs){if(!t.inputs.hasOwnProperty(n)||e.inputs.hasOwnProperty(n))continue;let i=t.inputs[n];if(i!==void 0&&(e.inputs[n]=i,e.declaredInputs[n]=t.declaredInputs[n],t.inputTransforms!==null)){let r=Array.isArray(i)?i[0]:i;if(!t.inputTransforms.hasOwnProperty(r))continue;e.inputTransforms??={},e.inputTransforms[r]=t.inputTransforms[r]}}}function eF(e){let t=0,n=null;for(let i=e.length-1;i>=0;i--){let r=e[i];r.hostVars=t+=r.hostVars,r.hostAttrs=Ma(r.hostAttrs,n=Ma(n,r.hostAttrs))}}function Au(e){return e===qo?{}:e===Nt?[]:e}function tF(e,t){let n=e.viewQuery;n?e.viewQuery=(i,r)=>{t(i,r),n(i,r)}:e.viewQuery=t}function nF(e,t){let n=e.contentQueries;n?e.contentQueries=(i,r,o)=>{t(i,r,o),n(i,r,o)}:e.contentQueries=t}function iF(e,t){let n=e.hostBindings;n?e.hostBindings=(i,r)=>{t(i,r),n(i,r)}:e.hostBindings=t}function n_(e){let t=e.inputConfig,n={};for(let i in t)if(t.hasOwnProperty(i)){let r=t[i];Array.isArray(r)&&r[3]&&(n[i]=r[3])}e.inputTransforms=n}var Ji=class{},xa=class{};var od=class extends Ji{constructor(t,n,i,r=!0){super(),this.ngModuleType=t,this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new nd(this);let o=SD(t);this._bootstrapComponents=ME(o.bootstrap),this._r3Injector=gE(t,n,[{provide:Ji,useValue:this},{provide:es,useValue:this.componentFactoryResolver},...i],bt(t),new Set(["environment"])),r&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}},sd=class extends xa{constructor(t){super(),this.moduleType=t}create(t){return new od(this.moduleType,t,[])}};function rF(e,t,n){return new od(e,t,n,!1)}var rm=class extends Ji{constructor(t){super(),this.componentFactoryResolver=new nd(this),this.instance=null;let n=new Na([...t.providers,{provide:Ji,useValue:this},{provide:es,useValue:this.componentFactoryResolver}],t.parent||gd(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}};function Pd(e,t,n=null){return new rm({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}function _I(e){return sF(e)?Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e:!1}function oF(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{let n=e[Symbol.iterator](),i;for(;!(i=n.next()).done;)t(i.value)}}function sF(e){return e!==null&&(typeof e=="function"||typeof e=="object")}function vI(e,t,n){return e[t]=n}function gn(e,t,n){let i=e[t];return Object.is(i,n)?!1:(e[t]=n,!0)}function aF(e,t,n,i){let r=gn(e,t,n);return gn(e,t+1,i)||r}function lF(e,t,n,i,r){let o=aF(e,t,n,i);return gn(e,t+2,r)||o}function cF(e){return(e.flags&32)===32}function uF(e,t,n,i,r,o,s,a,l){let c=t.consts,u=as(t,e,4,s||null,a||null);Qm(t,n,u,Jo(c,l)),Ed(t,u);let d=u.tView=Ym(2,u,i,r,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c,null);return t.queries!==null&&(t.queries.template(t,u),d.queries=t.queries.embeddedTView(u)),u}function yI(e,t,n,i,r,o,s,a,l,c){let u=n+wt,d=t.firstCreatePass?uF(u,t,e,i,r,o,s,a,l):t.data[u];zr(d,!1);let h=dF(t,e,d,n);Cd()&&Md(t,e,h,d),Zi(h,e);let f=QE(h,e,h,d);return e[u]=f,Od(e,f),Ok(f,d,e),vd(d)&&zm(t,e,d),l!=null&&qm(e,d,c),d}function at(e,t,n,i,r,o,s,a){let l=X(),c=xe(),u=Jo(c.consts,o);return yI(l,c,e,t,n,i,r,u,s,a),at}var dF=hF;function hF(e,t,n,i){return Dd(!0),t[Se].createComment("")}var Wo=function(e){return e[e.EarlyRead=0]="EarlyRead",e[e.Write=1]="Write",e[e.MixedReadWrite=2]="MixedReadWrite",e[e.Read=3]="Read",e}(Wo||{}),bI=(()=>{class e{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=D({token:e,providedIn:"root",factory:()=>new e})}}return e})(),om=class e{constructor(){this.ngZone=m(H),this.scheduler=m(Xo),this.errorHandler=m(ui,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[Wo.EarlyRead,Wo.Write,Wo.MixedReadWrite,Wo.Read]}execute(){this.executing=!0;for(let t of e.PHASES)for(let n of this.sequences)if(!(n.erroredOrDestroyed||!n.hooks[t]))try{n.pipelinedValue=this.ngZone.runOutsideAngular(()=>n.hooks[t](n.pipelinedValue))}catch(i){n.erroredOrDestroyed=!0,this.errorHandler?.handleError(i)}this.executing=!1;for(let t of this.sequences)t.afterRun(),t.once&&(this.sequences.delete(t),t.destroy());for(let t of this.deferredRegistrations)this.sequences.add(t);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(t){this.executing?this.deferredRegistrations.add(t):(this.sequences.add(t),this.scheduler.notify(6))}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}static{this.\u0275prov=D({token:e,providedIn:"root",factory:()=>new e})}},sm=class{constructor(t,n,i,r){this.impl=t,this.hooks=n,this.once=i,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=r?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.()}};function i_(e,t){!t?.injector&&BO(i_);let n=t?.injector??m(Ae);return rP(n)?(Va("NgAfterNextRender"),pF(e,n,t,!0)):gF}function fF(e,t){if(e instanceof Function){let n=[void 0,void 0,void 0,void 0];return n[t]=e,n}else return[e.earlyRead,e.write,e.mixedReadWrite,e.read]}function pF(e,t,n,i){let r=t.get(bI);r.impl??=t.get(om);let o=n?.phase??Wo.MixedReadWrite,s=n?.manualCleanup!==!0?t.get(Td):null,a=new sm(r.impl,fF(e,o),i,s);return r.impl.register(a),a}var gF={destroy(){}};function mn(e,t,n,i){let r=X(),o=La();if(gn(r,o,t)){let s=xe(),a=wd();GP(a,r,e,t,n,i)}return mn}function mF(e,t,n,i){return gn(e,La(),n)?t+hd(n)+i:mi}function Mu(e,t){return e<<17|t<<2}function Gr(e){return e>>17&32767}function _F(e){return(e&2)==2}function vF(e,t){return e&131071|t<<17}function am(e){return e|2}function ns(e){return(e&131068)>>2}function mg(e,t){return e&-131069|t<<2}function yF(e){return(e&1)===1}function lm(e){return e|1}function bF(e,t,n,i,r,o){let s=o?t.classBindings:t.styleBindings,a=Gr(s),l=ns(s);e[i]=n;let c=!1,u;if(Array.isArray(n)){let d=n;u=d[1],(u===null||Fa(d,u)>0)&&(c=!0)}else u=n;if(r)if(l!==0){let h=Gr(e[a+1]);e[i+1]=Mu(h,a),h!==0&&(e[h+1]=mg(e[h+1],i)),e[a+1]=vF(e[a+1],i)}else e[i+1]=Mu(a,0),a!==0&&(e[a+1]=mg(e[a+1],i)),a=i;else e[i+1]=Mu(l,0),a===0?a=i:e[l+1]=mg(e[l+1],i),l=i;c&&(e[i+1]=am(e[i+1])),XC(e,u,i,!0),XC(e,u,i,!1),wF(t,u,e,i,o),s=Mu(a,l),o?t.classBindings=s:t.styleBindings=s}function wF(e,t,n,i,r){let o=r?e.residualClasses:e.residualStyles;o!=null&&typeof t=="string"&&Fa(o,t)>=0&&(n[i+1]=lm(n[i+1]))}function XC(e,t,n,i){let r=e[n+1],o=t===null,s=i?Gr(r):ns(r),a=!1;for(;s!==0&&(a===!1||o);){let l=e[s],c=e[s+1];CF(l,t)&&(a=!0,e[s+1]=i?lm(c):am(c)),s=i?Gr(c):ns(c)}a&&(e[n+1]=i?am(r):lm(r))}function CF(e,t){return e===null||t==null||(Array.isArray(e)?e[1]:e)===t?!0:Array.isArray(e)&&typeof t=="string"?Fa(e,t)>=0:!1}var hn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function DF(e){return e.substring(hn.key,hn.keyEnd)}function EF(e){return IF(e),wI(e,CI(e,0,hn.textEnd))}function wI(e,t){let n=hn.textEnd;return n===t?-1:(t=hn.keyEnd=TF(e,hn.key=t,n),CI(e,t,n))}function IF(e){hn.key=0,hn.keyEnd=0,hn.value=0,hn.valueEnd=0,hn.textEnd=e.length}function CI(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function TF(e,t,n){for(;t<n&&e.charCodeAt(t)>32;)t++;return t}function Me(e,t,n){let i=X(),r=La();if(gn(i,r,t)){let o=xe(),s=wd();Km(o,s,i,e,t,i[Se],n,!1)}return Me}function cm(e,t,n,i,r){let o=t.inputs,s=r?"class":"style";Zm(e,n,o[s],s,i)}function Bt(e,t){return AF(e,t,null,!0),Bt}function kd(e){MF(kF,SF,e,!0)}function SF(e,t){for(let n=EF(t);n>=0;n=wI(t,n))wm(e,DF(t),!0)}function AF(e,t,n,i){let r=X(),o=xe(),s=ZD(2);if(o.firstUpdatePass&&EI(o,e,s,i),t!==mi&&gn(r,s,t)){let a=o.data[qr()];II(o,a,r,r[Se],e,r[s+1]=LF(t,n),i,s)}}function MF(e,t,n,i){let r=xe(),o=ZD(2);r.firstUpdatePass&&EI(r,null,o,i);let s=X();if(n!==mi&&gn(s,o,n)){let a=r.data[qr()];if(TI(a,i)&&!DI(r,o)){let l=i?a.classesWithoutHost:a.stylesWithoutHost;l!==null&&(n=wg(l,n||"")),cm(r,a,s,n,i)}else FF(r,a,s,s[Se],s[o+1],s[o+1]=PF(e,t,n),i,o)}}function DI(e,t){return t>=e.expandoStartIndex}function EI(e,t,n,i){let r=e.data;if(r[n+1]===null){let o=r[qr()],s=DI(e,n);TI(o,i)&&t===null&&!s&&(t=!1),t=NF(r,o,t,i),bF(r,o,t,n,s,i)}}function NF(e,t,n,i){let r=lx(e),o=i?t.residualClasses:t.residualStyles;if(r===null)(i?t.classBindings:t.styleBindings)===0&&(n=_g(null,e,t,n,i),n=Pa(n,t.attrs,i),o=null);else{let s=t.directiveStylingLast;if(s===-1||e[s]!==r)if(n=_g(r,e,t,n,i),o===null){let l=RF(e,t,i);l!==void 0&&Array.isArray(l)&&(l=_g(null,e,t,l[1],i),l=Pa(l,t.attrs,i),OF(e,t,i,l))}else o=xF(e,t,i)}return o!==void 0&&(i?t.residualClasses=o:t.residualStyles=o),n}function RF(e,t,n){let i=n?t.classBindings:t.styleBindings;if(ns(i)!==0)return e[Gr(i)]}function OF(e,t,n,i){let r=n?t.classBindings:t.styleBindings;e[Gr(r)]=i}function xF(e,t,n){let i,r=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<r;o++){let s=e[o].hostAttrs;i=Pa(i,s,n)}return Pa(i,t.attrs,n)}function _g(e,t,n,i,r){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=t[a],i=Pa(i,o.hostAttrs,r),o!==e);)a++;return e!==null&&(n.directiveStylingLast=a),i}function Pa(e,t,n){let i=n?1:2,r=-1;if(t!==null)for(let o=0;o<t.length;o++){let s=t[o];typeof s=="number"?r=s:r===i&&(Array.isArray(e)||(e=e===void 0?[]:["",e]),wm(e,s,n?!0:t[++o]))}return e===void 0?null:e}function PF(e,t,n){if(n==null||n==="")return Nt;let i=[],r=ss(n);if(Array.isArray(r))for(let o=0;o<r.length;o++)e(i,r[o],!0);else if(typeof r=="object")for(let o in r)r.hasOwnProperty(o)&&e(i,o,r[o]);else typeof r=="string"&&t(i,r);return i}function kF(e,t,n){let i=String(t);i!==""&&!i.includes(" ")&&wm(e,i,n)}function FF(e,t,n,i,r,o,s,a){r===mi&&(r=Nt);let l=0,c=0,u=0<r.length?r[0]:null,d=0<o.length?o[0]:null;for(;u!==null||d!==null;){let h=l<r.length?r[l+1]:void 0,f=c<o.length?o[c+1]:void 0,p=null,g;u===d?(l+=2,c+=2,h!==f&&(p=d,g=f)):d===null||u!==null&&u<d?(l+=2,p=u):(c+=2,p=d,g=f),p!==null&&II(e,t,n,i,p,g,s,a),u=l<r.length?r[l]:null,d=c<o.length?o[c]:null}}function II(e,t,n,i,r,o,s,a){if(!(t.type&3))return;let l=e.data,c=l[a+1],u=yF(c)?eD(l,t,n,r,ns(c),s):void 0;if(!ad(u)){ad(o)||_F(c)&&(o=eD(l,null,n,r,a,s));let d=UD(qr(),n);CP(i,s,d,r,o)}}function eD(e,t,n,i,r,o){let s=t===null,a;for(;r>0;){let l=e[r],c=Array.isArray(l),u=c?l[1]:l,d=u===null,h=n[r+1];h===mi&&(h=d?Nt:void 0);let f=d?ag(h,i):u===i?h:void 0;if(c&&!ad(f)&&(f=ag(l,i)),ad(f)&&(a=f,s))return a;let p=e[r+1];r=s?Gr(p):ns(p)}if(t!==null){let l=o?t.residualClasses:t.residualStyles;l!=null&&(a=ag(l,i))}return a}function ad(e){return e!==void 0}function LF(e,t){return e==null||e===""||(typeof t=="string"?e=e+t:typeof e=="object"&&(e=bt(ss(e)))),e}function TI(e,t){return(e.flags&(t?8:16))!==0}function VF(e,t,n,i,r,o){let s=t.consts,a=Jo(s,r),l=as(t,e,2,i,a);return Qm(t,n,l,Jo(s,o)),l.attrs!==null&&td(l,l.attrs,!1),l.mergedAttrs!==null&&td(l,l.mergedAttrs,!0),t.queries!==null&&t.queries.elementStart(t,l),l}function M(e,t,n,i){let r=X(),o=xe(),s=wt+e,a=r[Se],l=o.firstCreatePass?VF(s,o,r,t,n,i):o.data[s],c=BF(o,r,l,a,t,e);r[s]=c;let u=vd(l);return zr(l,!0),UE(a,c,l),!cF(l)&&Cd()&&Md(o,r,c,l),ZO()===0&&Zi(c,r),JO(),u&&(zm(o,r,l),Gm(o,l,r)),i!==null&&qm(r,l),M}function I(){let e=st();Am()?Mm():(e=e.parent,zr(e,!1));let t=e;ex(t)&&tx(),XO();let n=xe();return n.firstCreatePass&&(Ed(n,e),Im(e)&&n.queries.elementEnd(e)),t.classesWithoutHost!=null&&gx(t)&&cm(n,t,X(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&mx(t)&&cm(n,t,X(),t.stylesWithoutHost,!1),I}function xt(e,t,n,i){return M(e,t,n,i),I(),xt}var BF=(e,t,n,i,r,o)=>(Dd(!0),NE(i,r,dx()));function jF(e,t,n,i,r){let o=t.consts,s=Jo(o,i),a=as(t,e,8,"ng-container",s);s!==null&&td(a,s,!0);let l=Jo(o,r);return Qm(t,n,a,l),t.queries!==null&&t.queries.elementStart(t,a),a}function ja(e,t,n){let i=X(),r=xe(),o=e+wt,s=r.firstCreatePass?jF(o,r,i,t,n):r.data[o];zr(s,!0);let a=UF(r,i,s,e);return i[o]=a,Cd()&&Md(r,i,a,s),Zi(a,i),vd(s)&&(zm(r,i,s),Gm(r,s,i)),n!=null&&qm(i,s),ja}function Ua(){let e=st(),t=xe();return Am()?Mm():(e=e.parent,zr(e,!1)),t.firstCreatePass&&(Ed(t,e),Im(e)&&t.queries.elementEnd(e)),Ua}var UF=(e,t,n,i)=>(Dd(!0),lP(t[Se],""));function ls(){return X()}function r_(e,t,n){let i=X(),r=La();if(gn(i,r,t)){let o=xe(),s=wd();Km(o,s,i,e,t,i[Se],n,!0)}return r_}var Pr=void 0;function HF(e){let t=e,n=Math.floor(Math.abs(e)),i=e.toString().replace(/^[^.]*\.?/,"").length;return n===1&&i===0?1:5}var $F=["en",[["a","p"],["AM","PM"],Pr],[["AM","PM"],Pr,Pr],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Pr,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Pr,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Pr,"{1} 'at' {0}",Pr],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",HF],vg={};function Fd(e){let t=WF(e),n=tD(t);if(n)return n;let i=t.split("-")[0];if(n=tD(i),n)return n;if(i==="en")return $F;throw new x(701,!1)}function tD(e){return e in vg||(vg[e]=vt.ng&&vt.ng.common&&vt.ng.common.locales&&vt.ng.common.locales[e]),vg[e]}var Yr=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}(Yr||{});function WF(e){return e.toLowerCase().replace(/_/g,"-")}var ld="en-US",GF="USD";var zF=ld;function qF(e){typeof e=="string"&&(zF=e.toLowerCase().replace(/_/g,"-"))}var YF=(e,t,n)=>{};function Ge(e,t,n,i){let r=X(),o=xe(),s=st();return SI(o,r,r[Se],s,e,t,i),Ge}function KF(e,t,n,i){let r=e.cleanup;if(r!=null)for(let o=0;o<r.length-1;o+=2){let s=r[o];if(s===n&&r[o+1]===i){let a=t[Uu],l=r[o+2];return a.length>l?a[l]:null}typeof s=="string"&&(o+=2)}return null}function SI(e,t,n,i,r,o,s){let a=vd(i),c=e.firstCreatePass&&XE(e),u=t[pn],d=JE(t),h=!0;if(i.type&3||s){let g=Jt(i,t),v=s?s(g):g,w=d.length,N=s?A=>s(Vn(A[i.index])):i.index,T=null;if(!s&&a&&(T=KF(e,t,r,i.index)),T!==null){let A=T.__ngLastListenerFn__||T;A.__ngNextListenerFn__=o,T.__ngLastListenerFn__=o,h=!1}else{o=iD(i,t,u,o),YF(g,r,o);let A=n.listen(v,r,o);d.push(o,A),c&&c.push(r,N,w,w+1)}}else o=iD(i,t,u,o);let f=i.outputs,p;if(h&&f!==null&&(p=f[r])){let g=p.length;if(g)for(let v=0;v<g;v+=2){let w=p[v],N=p[v+1],V=t[w][N].subscribe(o),j=d.length;d.push(o,V),c&&c.push(r,i.index,j,-(j+1))}}}function nD(e,t,n,i){let r=oe(null);try{return Pn(6,t,n),n(i)!==!1}catch(o){return eI(e,o),!1}finally{Pn(7,t,n),oe(r)}}function iD(e,t,n,i){return function r(o){if(o===Function)return i;let s=e.componentOffset>-1?er(e.index,t):t;Xm(s,5);let a=nD(t,n,i,o),l=r.__ngNextListenerFn__;for(;l;)a=nD(t,n,l,o)&&a,l=l.__ngNextListenerFn__;return a}}function tr(e=1){return ux(e)}function QF(e,t){let n=null,i=vO(e);for(let r=0;r<t.length;r++){let o=t[r];if(o==="*"){n=r;continue}if(i===null?DD(e,o,!0):wO(i,o))return r}return n}function AI(e){let t=X()[Zt][Ot];if(!t.projection){let n=e?e.length:1,i=t.projection=cO(n,null),r=i.slice(),o=t.child;for(;o!==null;){if(o.type!==128){let s=e?QF(o,e):0;s!==null&&(r[s]?r[s].projectionNext=o:i[s]=o,r[s]=o)}o=o.next}}}function MI(e,t=0,n,i,r,o){let s=X(),a=xe(),l=i?e+1:null;l!==null&&yI(s,a,l,i,r,o,null,n);let c=as(a,wt+e,16,null,n||null);c.projection===null&&(c.projection=t),Mm();let d=!s[Ra]||YD();s[Zt][Ot].projection[c.projection]===null&&l!==null?ZF(s,a,l):d&&(c.flags&32)!==32&&bP(a,s,c)}function ZF(e,t,n){let i=wt+n,r=t.data[i],o=e[i],s=Kg(o,r.tView.ssrId),a=tI(e,r,void 0,{dehydratedView:s});nI(o,a,0,qg(r,s))}function Ha(e,t,n,i){jk(e,t,n,i)}function NI(e,t,n){Bk(e,t,n)}function cs(e){let t=X(),n=xe(),i=JD();Rm(i+1);let r=t_(n,i);if(e.dirty&&qO(t)===((r.metadata.flags&2)===2)){if(r.matches===null)e.reset([]);else{let o=$k(t,i);e.reset(o,Vx),e.notifyOnChanges()}return!0}return!1}function us(){return Vk(X(),JD())}function JF(e,t,n,i){n>=e.data.length&&(e.data[n]=null,e.blueprint[n]=null),t[n]=i}function _n(e){let t=ix();return Tm(t,wt+e)}function k(e,t=""){let n=X(),i=xe(),r=e+wt,o=i.firstCreatePass?as(i,r,1,t,null):i.data[r],s=XF(i,n,o,t,e);n[r]=s,Cd()&&Md(i,n,s,o),zr(o,!1)}var XF=(e,t,n,i,r)=>(Dd(!0),sP(t[Se],i));function $a(e){return Wn("",e,""),$a}function Wn(e,t,n){let i=X(),r=mF(i,e,t,n);return r!==mi&&KP(i,qr(),r),Wn}function ds(e,t,n){mI(t)&&(t=t());let i=X(),r=La();if(gn(i,r,t)){let o=xe(),s=wd();Km(o,s,i,e,t,i[Se],n,!1)}return ds}function Wa(e,t){let n=mI(e);return n&&e.set(t),n}function hs(e,t){let n=X(),i=xe(),r=st();return SI(i,n,n[Se],r,e,t),hs}function eL(e,t,n){let i=xe();if(i.firstCreatePass){let r=Qi(e);um(n,i.data,i.blueprint,r,!0),um(t,i.data,i.blueprint,r,!1)}}function um(e,t,n,i,r){if(e=yt(e),Array.isArray(e))for(let o=0;o<e.length;o++)um(e[o],t,n,i,r);else{let o=xe(),s=X(),a=st(),l=Ko(e)?e:yt(e.provide),c=xD(e),u=a.providerIndexes&1048575,d=a.directiveStart,h=a.providerIndexes>>20;if(Ko(e)||!e.multi){let f=new Ur(c,r,O),p=bg(l,t,r?u:u+h,d);p===-1?(kg(qu(a,s),o,l),yg(o,e,t.length),t.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),n.push(f),s.push(f)):(n[p]=f,s[p]=f)}else{let f=bg(l,t,u+h,d),p=bg(l,t,u,u+h),g=f>=0&&n[f],v=p>=0&&n[p];if(r&&!v||!r&&!g){kg(qu(a,s),o,l);let w=iL(r?nL:tL,n.length,r,i,c);!r&&v&&(n[p].providerFactory=w),yg(o,e,t.length,0),t.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),n.push(w),s.push(w)}else{let w=RI(n[r?p:f],c,!r&&i);yg(o,e,f>-1?f:p,w)}!r&&i&&v&&n[p].componentProviders++}}}function yg(e,t,n,i){let r=Ko(t),o=OO(t);if(r||o){let l=(o?yt(t.useClass):t).prototype.ngOnDestroy;if(l){let c=e.destroyHooks||(e.destroyHooks=[]);if(!r&&t.multi){let u=c.indexOf(n);u===-1?c.push(n,[i,l]):c[u+1].push(i,l)}else c.push(n,l)}}}function RI(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function bg(e,t,n,i){for(let r=n;r<i;r++)if(t[r]===e)return r;return-1}function tL(e,t,n,i){return dm(this.multi,[])}function nL(e,t,n,i){let r=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=Hr(n,n[z],this.providerFactory.index,i);o=a.slice(0,s),dm(r,o);for(let l=s;l<a.length;l++)o.push(a[l])}else o=[],dm(r,o);return o}function dm(e,t){for(let n=0;n<e.length;n++){let i=e[n];t.push(i())}return t}function iL(e,t,n,i,r){let o=new Ur(e,n,O);return o.multi=[],o.index=t,o.componentProviders=0,RI(o,r,i&&!n),o}function Xt(e,t=[]){return n=>{n.providersResolver=(i,r)=>eL(i,r?r(e):e,t)}}var rL=(()=>{class e{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let i=ND(!1,n.type),r=i.length>0?Pd([i],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,r)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=D({token:e,providedIn:"environment",factory:()=>new e(y(dt))})}}return e})();function Ga(e){Va("NgStandalone"),e.getStandaloneInjector=t=>t.get(rL).getOrCreateStandaloneInjector(e)}function za(e,t,n,i){return xI(X(),Nm(),e,t,n,i)}function OI(e,t){let n=e[t];return n===mi?void 0:n}function xI(e,t,n,i,r,o){let s=t+n;return gn(e,s,r)?vI(e,s+1,o?i.call(o,r):i(r)):OI(e,s+1)}function oL(e,t,n,i,r,o,s,a){let l=t+n;return lF(e,l,r,o,s)?vI(e,l+3,a?i.call(a,r,o,s):i(r,o,s)):OI(e,l+3)}function nr(e,t){let n=xe(),i,r=e+wt;n.firstCreatePass?(i=sL(t,n.pipeRegistry),n.data[r]=i,i.onDestroy&&(n.destroyHooks??=[]).push(r,i.onDestroy)):i=n.data[r];let o=i.factory||(i.factory=Fr(i.type,!0)),s,a=Mt(O);try{let l=zu(!1),c=o();return zu(l),JF(n,X(),r,c),c}finally{Mt(a)}}function sL(e,t){if(t)for(let n=t.length-1;n>=0;n--){let i=t[n];if(e===i.name)return i}}function Kr(e,t,n){let i=e+wt,r=X(),o=Tm(r,i);return kI(r,i)?xI(r,Nm(),t,o.transform,n,o):o.transform(n)}function PI(e,t,n,i,r){let o=e+wt,s=X(),a=Tm(s,o);return kI(s,o)?oL(s,Nm(),t,a.transform,n,i,r,a):a.transform(n,i,r)}function kI(e,t){return e[z].data[t].pure}function o_(e,t){return xd(e,t)}var Nu=null;function aL(e){Nu!==null&&(e.defaultEncapsulation!==Nu.defaultEncapsulation||e.preserveWhitespaces!==Nu.preserveWhitespaces)||(Nu=e)}var fi=class{constructor(t){this.full=t;let n=t.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},s_=new fi("18.2.13");var Ld=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})();var a_=new E(""),qa=new E(""),Vd=(()=>{class e{constructor(n,i,r){this._ngZone=n,this.registry=i,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,l_||(lL(r),r.addToWindow(i)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{H.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb()}});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>i.updateCb&&i.updateCb(n)?(clearTimeout(i.timeoutId),!1):!0)}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,i,r){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),n()},i)),this._callbacks.push({doneCb:n,timeoutId:o,updateCb:r})}whenStable(n,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,i,r),this._runCallbacksIfReady()}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,i,r){return[]}static{this.\u0275fac=function(i){return new(i||e)(y(H),y(Bd),y(qa))}}static{this.\u0275prov=D({token:e,factory:e.\u0275fac})}}return e})(),Bd=(()=>{class e{constructor(){this._applications=new Map}registerApplication(n,i){this._applications.set(n,i)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,i=!0){return l_?.findTestabilityInTree(this,n,i)??null}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})();function lL(e){l_=e}var l_;function ir(e){return!!e&&typeof e.then=="function"}function c_(e){return!!e&&typeof e.subscribe=="function"}var jd=new E(""),FI=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,i)=>{this.resolve=n,this.reject=i}),this.appInits=m(jd,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let n=[];for(let r of this.appInits){let o=r();if(ir(o))n.push(o);else if(c_(o)){let s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});n.push(s)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{i()}).catch(r=>{this.reject(r)}),n.length===0&&i(),this.initialized=!0}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),u_=new E("");function cL(){Xw(()=>{throw new x(600,!1)})}function uL(e){return e.isBoundToModule}var dL=10;function hL(e,t,n){try{let i=n();return ir(i)?i.catch(r=>{throw t.runOutsideAngular(()=>e.handleError(r)),r}):i}catch(i){throw t.runOutsideAngular(()=>e.handleError(i)),i}}function LI(e,t){return Array.isArray(t)?t.reduce(LI,e):C(C({},e),t)}var Gn=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=m(Fx),this.afterRenderManager=m(bI),this.zonelessEnabled=m(e_),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new re,this.afterTick=new re,this.componentTypes=[],this.components=[],this.isStable=m(rs).hasPendingTasks.pipe(S(n=>!n)),this._injector=m(dt)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let n;return new Promise(i=>{n=this.isStable.subscribe({next:r=>{r&&i()}})}).finally(()=>{n.unsubscribe()})}get injector(){return this._injector}bootstrap(n,i){let r=n instanceof ed;if(!this._injector.get(FI).done){let h=!r&&TD(n),f=!1;throw new x(405,f)}let s;r?s=n:s=this._injector.get(es).resolveComponentFactory(n),this.componentTypes.push(s.componentType);let a=uL(s)?void 0:this._injector.get(Ji),l=i||s.selector,c=s.create(Ae.NULL,[],l,a),u=c.location.nativeElement,d=c.injector.get(a_,null);return d?.registerApplication(u),c.onDestroy(()=>{this.detachView(c.hostView),Fu(this.components,c),d?.unregisterApplication(u)}),this._loadComponent(c),c}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new x(101,!1);let n=oe(null);try{this._runningTick=!0,this.synchronize()}catch(i){this.internalErrorHandler(i)}finally{this._runningTick=!1,oe(n),this.afterTick.next()}}synchronize(){let n=null;this._injector.destroyed||(n=this._injector.get(ts,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let i=0;for(;this.dirtyFlags!==0&&i++<dL;)this.synchronizeOnce(n)}synchronizeOnce(n){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let i=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(i);for(let{_lView:r,notifyErrorHandler:o}of this._views)fL(r,o,i,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else n?.begin?.(),n?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>yd(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let i=n;this._views.push(i),i.attachToAppRef(this)}detachView(n){let i=n;Fu(this._views,i),i.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);let i=this._injector.get(u_,[]);[...this._bootstrapListeners,...i].forEach(r=>r(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Fu(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new x(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function Fu(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function fL(e,t,n,i){if(!n&&!yd(e))return;oI(e,t,n&&!i?0:1)}var hm=class{constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}},Ud=(()=>{class e{compileModuleSync(n){return new sd(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let i=this.compileModuleSync(n),r=SD(n),o=ME(r.declarations).reduce((s,a)=>{let l=li(a);return l&&s.push(new Wr(l)),s},[]);return new hm(i,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),pL=new E("");function gL(e,t,n){let i=new sd(n);return Promise.resolve(i)}function rD(e){for(let t=e.length-1;t>=0;t--)if(e[t]!==void 0)return e[t]}var mL=(()=>{class e{constructor(){this.zone=m(H),this.changeDetectionScheduler=m(Xo),this.applicationRef=m(Gn)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function _L({ngZoneFactory:e,ignoreChangesOutsideZone:t,scheduleInRootZone:n}){return e??=()=>new H(Y(C({},VI()),{scheduleInRootZone:n})),[{provide:H,useFactory:e},{provide:Yo,multi:!0,useFactory:()=>{let i=m(mL,{optional:!0});return()=>i.initialize()}},{provide:Yo,multi:!0,useFactory:()=>{let i=m(vL);return()=>{i.initialize()}}},t===!0?{provide:cI,useValue:!0}:[],{provide:uI,useValue:n??mE}]}function VI(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}var vL=(()=>{class e{constructor(){this.subscription=new Re,this.initialized=!1,this.zone=m(H),this.pendingTasks=m(rs)}initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{H.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{H.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var yL=(()=>{class e{constructor(){this.appRef=m(Gn),this.taskService=m(rs),this.ngZone=m(H),this.zonelessEnabled=m(e_),this.disableScheduling=m(cI,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Re,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Ku):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(m(uI,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Qu||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let i=this.useMicrotaskScheduler?UC:_E;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Ku+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(i){throw this.taskService.remove(n),i}finally{this.cleanup()}this.useMicrotaskScheduler=!0,UC(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function bL(){return typeof $localize<"u"&&$localize.locale||ld}var Ya=new E("",{providedIn:"root",factory:()=>m(Ya,K.Optional|K.SkipSelf)||bL()}),BI=new E("",{providedIn:"root",factory:()=>GF});var cd=new E("");function Ru(e){return!e.moduleRef}function wL(e){let t=Ru(e)?e.r3Injector:e.moduleRef.injector,n=t.get(H);return n.run(()=>{Ru(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();let i=t.get(ui,null),r;if(n.runOutsideAngular(()=>{r=n.onError.subscribe({next:o=>{i.handleError(o)}})}),Ru(e)){let o=()=>t.destroy(),s=e.platformInjector.get(cd);s.add(o),t.onDestroy(()=>{r.unsubscribe(),s.delete(o)})}else{let o=()=>e.moduleRef.destroy(),s=e.platformInjector.get(cd);s.add(o),e.moduleRef.onDestroy(()=>{Fu(e.allPlatformModules,e.moduleRef),r.unsubscribe(),s.delete(o)})}return hL(i,n,()=>{let o=t.get(FI);return o.runInitializers(),o.donePromise.then(()=>{let s=t.get(Ya,ld);if(qF(s||ld),Ru(e)){let a=t.get(Gn);return e.rootComponent!==void 0&&a.bootstrap(e.rootComponent),a}else return CL(e.moduleRef,e.allPlatformModules),e.moduleRef})})})}function CL(e,t){let n=e.injector.get(Gn);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(i=>n.bootstrap(i));else if(e.instance.ngDoBootstrap)e.instance.ngDoBootstrap(n);else throw new x(-403,!1);t.push(e)}var jI=(()=>{class e{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,i){let r=i?.scheduleInRootZone,o=()=>kx(i?.ngZone,Y(C({},VI({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing})),{scheduleInRootZone:r})),s=i?.ignoreChangesOutsideZone,a=[_L({ngZoneFactory:o,ignoreChangesOutsideZone:s}),{provide:Xo,useExisting:yL}],l=rF(n.moduleType,this.injector,a);return wL({moduleRef:l,allPlatformModules:this._modules,platformInjector:this.injector})}bootstrapModule(n,i=[]){let r=LI({},i);return gL(this.injector,r,n).then(o=>this.bootstrapModuleFactory(o,r))}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new x(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());let n=this._injector.get(cd,null);n&&(n.forEach(i=>i()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static{this.\u0275fac=function(i){return new(i||e)(y(Ae))}}static{this.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})(),Sa=null,UI=new E("");function DL(e){if(Sa&&!Sa.get(UI,!1))throw new x(400,!1);cL(),Sa=e;let t=e.get(jI);return TL(e),t}function d_(e,t,n=[]){let i=`Platform: ${t}`,r=new E(i);return(o=[])=>{let s=HI();if(!s||s.injector.get(UI,!1)){let a=[...n,...o,{provide:r,useValue:!0}];e?e(a):DL(EL(a,i))}return IL(r)}}function EL(e=[],t){return Ae.create({name:t,providers:[{provide:pd,useValue:"platform"},{provide:cd,useValue:new Set([()=>Sa=null])},...e]})}function IL(e){let t=HI();if(!t)throw new x(401,!1);return t}function HI(){return Sa?.get(jI)??null}function TL(e){e.get(Lm,null)?.forEach(n=>n())}function Hd(){return!1}var vn=(()=>{class e{static{this.__NG_ELEMENT_ID__=SL}}return e})();function SL(e){return AL(st(),X(),(e&16)===16)}function AL(e,t,n){if(_d(e)&&!n){let i=er(e.index,t);return new $r(i,i)}else if(e.type&175){let i=t[Zt];return new $r(i,t)}return null}var fm=class{constructor(){}supports(t){return _I(t)}create(t){return new pm(t)}},ML=(e,t)=>t,pm=class{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||ML}forEachItem(t){let n;for(n=this._itHead;n!==null;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,i=this._removalsHead,r=0,o=null;for(;n||i;){let s=!i||n&&n.currentIndex<oD(i,r,o)?n:i,a=oD(s,r,o),l=s.currentIndex;if(s===i)r--,i=i._nextRemoved;else if(n=n._next,s.previousIndex==null)r++;else{o||(o=[]);let c=a-r,u=l-r;if(c!=u){for(let h=0;h<c;h++){let f=h<o.length?o[h]:o[h]=0,p=f+h;u<=p&&p<c&&(o[h]=f+1)}let d=s.previousIndex;o[d]=u-c}}a!==l&&t(s,a,l)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)t(n)}diff(t){if(t==null&&(t=[]),!_I(t))throw new x(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._itHead,i=!1,r,o,s;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)o=t[a],s=this._trackByFn(a,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,a),i=!0):(i&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else r=0,oF(t,a=>{s=this._trackByFn(r,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,r),i=!0):(i&&(n=this._verifyReinsertion(n,a,s,r)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,r++}),this.length=r;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;t!==null;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;t!==null;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;t!==null;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,i,r){let o;return t===null?o=this._itTail:(o=t._prev,this._remove(t)),t=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null),t!==null?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,o,r)):(t=this._linkedRecords===null?null:this._linkedRecords.get(i,r),t!==null?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,o,r)):t=this._addAfter(new gm(n,i),o,r)),t}_verifyReinsertion(t,n,i,r){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null);return o!==null?t=this._reinsertAfter(o,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;t!==null;){let n=t._next;this._addToRemovals(this._unlink(t)),t=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,i){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(t);let r=t._prevRemoved,o=t._nextRemoved;return r===null?this._removalsHead=o:r._nextRemoved=o,o===null?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(t,n,i),this._addToMoves(t,i),t}_moveAfter(t,n,i){return this._unlink(t),this._insertAfter(t,n,i),this._addToMoves(t,i),t}_addAfter(t,n,i){return this._insertAfter(t,n,i),this._additionsTail===null?this._additionsTail=this._additionsHead=t:this._additionsTail=this._additionsTail._nextAdded=t,t}_insertAfter(t,n,i){let r=n===null?this._itHead:n._next;return t._next=r,t._prev=n,r===null?this._itTail=t:r._prev=t,n===null?this._itHead=t:n._next=t,this._linkedRecords===null&&(this._linkedRecords=new ud),this._linkedRecords.put(t),t.currentIndex=i,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){this._linkedRecords!==null&&this._linkedRecords.remove(t);let n=t._prev,i=t._next;return n===null?this._itHead=i:n._next=i,i===null?this._itTail=n:i._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=t:this._movesTail=this._movesTail._nextMoved=t),t}_addToRemovals(t){return this._unlinkedRecords===null&&(this._unlinkedRecords=new ud),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=t:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=t,t}},gm=class{constructor(t,n){this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},mm=class{constructor(){this._head=null,this._tail=null}add(t){this._head===null?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let i;for(i=this._head;i!==null;i=i._nextDup)if((n===null||n<=i.currentIndex)&&Object.is(i.trackById,t))return i;return null}remove(t){let n=t._prevDup,i=t._nextDup;return n===null?this._head=i:n._nextDup=i,i===null?this._tail=n:i._prevDup=n,this._head===null}},ud=class{constructor(){this.map=new Map}put(t){let n=t.trackById,i=this.map.get(n);i||(i=new mm,this.map.set(n,i)),i.add(t)}get(t,n){let i=t,r=this.map.get(i);return r?r.get(t,n):null}remove(t){let n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function oD(e,t,n){let i=e.previousIndex;if(i===null)return i;let r=0;return n&&i<n.length&&(r=n[i]),i+t+r}function sD(){return new h_([new fm])}var h_=(()=>{class e{static{this.\u0275prov=D({token:e,providedIn:"root",factory:sD})}constructor(n){this.factories=n}static create(n,i){if(i!=null){let r=i.factories.slice();n=n.concat(r)}return new e(n)}static extend(n){return{provide:e,useFactory:i=>e.create(n,i||sD()),deps:[[e,new ym,new ot]]}}find(n){let i=this.factories.find(r=>r.supports(n));if(i!=null)return i;throw new x(901,!1)}}return e})();var $I=d_(null,"core",[]),WI=(()=>{class e{constructor(n){}static{this.\u0275fac=function(i){return new(i||e)(y(Gn))}}static{this.\u0275mod=ie({type:e})}static{this.\u0275inj=ne({})}}return e})();function rr(e){return typeof e=="boolean"?e:e!=null&&e!=="false"}function Ka(e,t){Va("NgSignals");let n=Qw(e);return t?.equal&&(n[ri].equal=t.equal),n}function yn(e){let t=oe(null);try{return e()}finally{oe(t)}}function $d(e,t){let n=li(e),i=t.elementInjector||gd();return new Wr(n).create(i,t.projectableNodes,t.hostElement,t.environmentInjector)}function GI(e){let t=li(e);if(!t)return null;let n=new Wr(t);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}var XI=null;function zn(){return XI}function eT(e){XI??=e}var Wd=class{};var Be=new E(""),C_=(()=>{class e{historyGo(n){throw new Error("")}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=D({token:e,factory:()=>m(RL),providedIn:"platform"})}}return e})(),tT=new E(""),RL=(()=>{class e extends C_{constructor(){super(),this._doc=m(Be),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return zn().getBaseHref(this._doc)}onPopState(n){let i=zn().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",n,!1),()=>i.removeEventListener("popstate",n)}onHashChange(n){let i=zn().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",n,!1),()=>i.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,i,r){this._history.pushState(n,i,r)}replaceState(n,i,r){this._history.replaceState(n,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=D({token:e,factory:()=>new e,providedIn:"platform"})}}return e})();function D_(e,t){if(e.length==0)return t;if(t.length==0)return e;let n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,n==2?e+t.substring(1):n==1?e+t:e+"/"+t}function zI(e){let t=e.match(/#|\?|$/),n=t&&t.index||e.length,i=n-(e[n-1]==="/"?1:0);return e.slice(0,i)+e.slice(n)}function vi(e){return e&&e[0]!=="?"?"?"+e:e}var bi=(()=>{class e{historyGo(n){throw new Error("")}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=D({token:e,factory:()=>m(E_),providedIn:"root"})}}return e})(),nT=new E(""),E_=(()=>{class e extends bi{constructor(n,i){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??m(Be).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return D_(this._baseHref,n)}path(n=!1){let i=this._platformLocation.pathname+vi(this._platformLocation.search),r=this._platformLocation.hash;return r&&n?`${i}${r}`:i}pushState(n,i,r,o){let s=this.prepareExternalUrl(r+vi(o));this._platformLocation.pushState(n,i,s)}replaceState(n,i,r,o){let s=this.prepareExternalUrl(r+vi(o));this._platformLocation.replaceState(n,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(i){return new(i||e)(y(C_),y(nT,8))}}static{this.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),iT=(()=>{class e extends bi{constructor(n,i){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(n){let i=D_(this._baseHref,n);return i.length>0?"#"+i:i}pushState(n,i,r,o){let s=this.prepareExternalUrl(r+vi(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.pushState(n,i,s)}replaceState(n,i,r,o){let s=this.prepareExternalUrl(r+vi(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(n,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(i){return new(i||e)(y(C_),y(nT,8))}}static{this.\u0275prov=D({token:e,factory:e.\u0275fac})}}return e})(),fs=(()=>{class e{constructor(n){this._subject=new ge,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;let i=this._locationStrategy.getBaseHref();this._basePath=PL(zI(qI(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,i=""){return this.path()==this.normalize(n+vi(i))}normalize(n){return e.stripTrailingSlash(xL(this._basePath,qI(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,i="",r=null){this._locationStrategy.pushState(r,"",n,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+vi(i)),r)}replaceState(n,i="",r=null){this._locationStrategy.replaceState(r,"",n,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+vi(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",i){this._urlChangeListeners.forEach(r=>r(n,i))}subscribe(n,i,r){return this._subject.subscribe({next:n,error:i,complete:r})}static{this.normalizeQueryParams=vi}static{this.joinWithSlash=D_}static{this.stripTrailingSlash=zI}static{this.\u0275fac=function(i){return new(i||e)(y(bi))}}static{this.\u0275prov=D({token:e,factory:()=>OL(),providedIn:"root"})}}return e})();function OL(){return new fs(y(bi))}function xL(e,t){if(!e||!t.startsWith(e))return t;let n=t.substring(e.length);return n===""||["/",";","?","#"].includes(n[0])?n:t}function qI(e){return e.replace(/\/index.html$/,"")}function PL(e){if(new RegExp("^(https?:)?//").test(e)){let[,n]=e.split(/\/\/[^\/]+/);return n}return e}var rT={ADP:[void 0,void 0,0],AFN:[void 0,"\u060B",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058F",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20BC"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09F3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xA5","\xA5"],COP:[void 0,"$",2],CRC:[void 0,"\u20A1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010D",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xA3"],ESP:[void 0,"\u20A7",0],EUR:["\u20AC"],FJD:[void 0,"$"],FKP:[void 0,"\xA3"],GBP:["\xA3"],GEL:[void 0,"\u20BE"],GHS:[void 0,"GH\u20B5"],GIP:[void 0,"\xA3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20AA"],INR:["\u20B9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xA5",void 0,0],KHR:[void 0,"\u17DB"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20A9",0],KRW:["\u20A9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20B8"],LAK:[void 0,"\u20AD",0],LBP:[void 0,"L\xA3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20AE",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20A6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20B1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20B2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20BD"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xA3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xA3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xA3",0],THB:[void 0,"\u0E3F"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20BA"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20B4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20AB",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202FCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xA4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]},oT=function(e){return e[e.Decimal=0]="Decimal",e[e.Percent=1]="Percent",e[e.Currency=2]="Currency",e[e.Scientific=3]="Scientific",e}(oT||{});var yi={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function Qa(e,t){let n=Fd(e),i=n[Yr.NumberSymbols][t];if(typeof i>"u"){if(t===yi.CurrencyDecimal)return n[Yr.NumberSymbols][yi.Decimal];if(t===yi.CurrencyGroup)return n[Yr.NumberSymbols][yi.Group]}return i}function kL(e,t){return Fd(e)[Yr.NumberFormats][t]}function FL(e){return Fd(e)[Yr.Currencies]}function LL(e,t,n="en"){let i=FL(n)[e]||rT[e]||[],r=i[1];return t==="narrow"&&typeof r=="string"?r:i[0]||e}var VL=2;function BL(e){let t,n=rT[e];return n&&(t=n[2]),typeof t=="number"?t:VL}var jL=/^(\d+)?\.((\d+)(-(\d+))?)?$/,YI=22,Gd=".",Za="0",UL=";",HL=",",f_="#",KI="\xA4";function $L(e,t,n,i,r,o,s=!1){let a="",l=!1;if(!isFinite(e))a=Qa(n,yi.Infinity);else{let c=qL(e);s&&(c=zL(c));let u=t.minInt,d=t.minFrac,h=t.maxFrac;if(o){let N=o.match(jL);if(N===null)throw new Error(`${o} is not a valid digit info`);let T=N[1],A=N[3],V=N[5];T!=null&&(u=p_(T)),A!=null&&(d=p_(A)),V!=null?h=p_(V):A!=null&&d>h&&(h=d)}YL(c,d,h);let f=c.digits,p=c.integerLen,g=c.exponent,v=[];for(l=f.every(N=>!N);p<u;p++)f.unshift(0);for(;p<0;p++)f.unshift(0);p>0?v=f.splice(p,f.length):(v=f,f=[0]);let w=[];for(f.length>=t.lgSize&&w.unshift(f.splice(-t.lgSize,f.length).join(""));f.length>t.gSize;)w.unshift(f.splice(-t.gSize,f.length).join(""));f.length&&w.unshift(f.join("")),a=w.join(Qa(n,i)),v.length&&(a+=Qa(n,r)+v.join("")),g&&(a+=Qa(n,yi.Exponential)+"+"+g)}return e<0&&!l?a=t.negPre+a+t.negSuf:a=t.posPre+a+t.posSuf,a}function WL(e,t,n,i,r){let o=kL(t,oT.Currency),s=GL(o,Qa(t,yi.MinusSign));return s.minFrac=BL(i),s.maxFrac=s.minFrac,$L(e,s,t,yi.CurrencyGroup,yi.CurrencyDecimal,r).replace(KI,n).replace(KI,"").trim()}function GL(e,t="-"){let n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},i=e.split(UL),r=i[0],o=i[1],s=r.indexOf(Gd)!==-1?r.split(Gd):[r.substring(0,r.lastIndexOf(Za)+1),r.substring(r.lastIndexOf(Za)+1)],a=s[0],l=s[1]||"";n.posPre=a.substring(0,a.indexOf(f_));for(let u=0;u<l.length;u++){let d=l.charAt(u);d===Za?n.minFrac=n.maxFrac=u+1:d===f_?n.maxFrac=u+1:n.posSuf+=d}let c=a.split(HL);if(n.gSize=c[1]?c[1].length:0,n.lgSize=c[2]||c[1]?(c[2]||c[1]).length:0,o){let u=r.length-n.posPre.length-n.posSuf.length,d=o.indexOf(f_);n.negPre=o.substring(0,d).replace(/'/g,""),n.negSuf=o.slice(d+u).replace(/'/g,"")}else n.negPre=t+n.posPre,n.negSuf=n.posSuf;return n}function zL(e){if(e.digits[0]===0)return e;let t=e.digits.length-e.integerLen;return e.exponent?e.exponent+=2:(t===0?e.digits.push(0,0):t===1&&e.digits.push(0),e.integerLen+=2),e}function qL(e){let t=Math.abs(e)+"",n=0,i,r,o,s,a;for((r=t.indexOf(Gd))>-1&&(t=t.replace(Gd,"")),(o=t.search(/e/i))>0?(r<0&&(r=o),r+=+t.slice(o+1),t=t.substring(0,o)):r<0&&(r=t.length),o=0;t.charAt(o)===Za;o++);if(o===(a=t.length))i=[0],r=1;else{for(a--;t.charAt(a)===Za;)a--;for(r-=o,i=[],s=0;o<=a;o++,s++)i[s]=Number(t.charAt(o))}return r>YI&&(i=i.splice(0,YI-1),n=r-1,r=1),{digits:i,exponent:n,integerLen:r}}function YL(e,t,n){if(t>n)throw new Error(`The minimum number of digits after fraction (${t}) is higher than the maximum (${n}).`);let i=e.digits,r=i.length-e.integerLen,o=Math.min(Math.max(t,r),n),s=o+e.integerLen,a=i[s];if(s>0){i.splice(Math.max(e.integerLen,s));for(let d=s;d<i.length;d++)i[d]=0}else{r=Math.max(0,r),e.integerLen=1,i.length=Math.max(1,s=o+1),i[0]=0;for(let d=1;d<s;d++)i[d]=0}if(a>=5)if(s-1<0){for(let d=0;d>s;d--)i.unshift(0),e.integerLen++;i.unshift(1),e.integerLen++}else i[s-1]++;for(;r<Math.max(0,o);r++)i.push(0);let l=o!==0,c=t+e.integerLen,u=i.reduceRight(function(d,h,f,p){return h=h+d,p[f]=h<10?h:h-10,l&&(p[f]===0&&f>=c?p.pop():l=!1),h>=10?1:0},0);u&&(i.unshift(u),e.integerLen++)}function p_(e){let t=parseInt(e);if(isNaN(t))throw new Error("Invalid integer literal when parsing "+e);return t}function sT(e,t){t=encodeURIComponent(t);for(let n of e.split(";")){let i=n.indexOf("="),[r,o]=i==-1?[n,""]:[n.slice(0,i),n.slice(i+1)];if(r.trim()===t)return decodeURIComponent(o)}return null}var g_=/\s+/,QI=[],aT=(()=>{class e{constructor(n,i){this._ngEl=n,this._renderer=i,this.initialClasses=QI,this.stateMap=new Map}set klass(n){this.initialClasses=n!=null?n.trim().split(g_):QI}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(g_):n}ngDoCheck(){for(let i of this.initialClasses)this._updateState(i,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let i of n)this._updateState(i,!0);else if(n!=null)for(let i of Object.keys(n))this._updateState(i,!!n[i]);this._applyStateDiff()}_updateState(n,i){let r=this.stateMap.get(n);r!==void 0?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(n,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let i=n[0],r=n[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(n,i){n=n.trim(),n.length>0&&n.split(g_).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}static{this.\u0275fac=function(i){return new(i||e)(O(Pe),O($n))}}static{this.\u0275dir=ae({type:e,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return e})();var m_=class{constructor(t,n,i,r){this.$implicit=t,this.ngForOf=n,this.index=i,this.count=r}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},qd=(()=>{class e{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,i,r){this._viewContainer=n,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;if(!this._differ&&n)if(0)try{}catch{}else this._differ=this._differs.find(n).create(this.ngForTrackBy)}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let i=this._viewContainer;n.forEachOperation((r,o,s)=>{if(r.previousIndex==null)i.createEmbeddedView(this._template,new m_(r.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)i.remove(o===null?void 0:o);else if(o!==null){let a=i.get(o);i.move(a,s),ZI(a,r)}});for(let r=0,o=i.length;r<o;r++){let a=i.get(r).context;a.index=r,a.count=o,a.ngForOf=this._ngForOf}n.forEachIdentityChange(r=>{let o=i.get(r.currentIndex);ZI(o,r)})}static ngTemplateContextGuard(n,i){return!0}static{this.\u0275fac=function(i){return new(i||e)(O(_i),O(hi),O(h_))}}static{this.\u0275dir=ae({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return e})();function ZI(e,t){e.context.$implicit=t.item}var Yd=(()=>{class e{constructor(n,i){this._viewContainer=n,this._context=new __,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){JI("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){JI("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,i){return!0}static{this.\u0275fac=function(i){return new(i||e)(O(_i),O(hi))}}static{this.\u0275dir=ae({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return e})(),__=class{constructor(){this.$implicit=null,this.ngIf=null}};function JI(e,t){if(!!!(!t||t.createEmbeddedView))throw new Error(`${e} must be a TemplateRef, but received '${bt(t)}'.`)}function lT(e,t){return new x(2100,!1)}var v_=class{createSubscription(t,n){return yn(()=>t.subscribe({next:n,error:i=>{throw i}}))}dispose(t){yn(()=>t.unsubscribe())}},y_=class{createSubscription(t,n){return t.then(n,i=>{throw i})}dispose(t){}},KL=new y_,QL=new v_,ps=(()=>{class e{constructor(n){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=n}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(n){if(!this._obj){if(n)try{this.markForCheckOnValueUpdate=!1,this._subscribe(n)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return n!==this._obj?(this._dispose(),this.transform(n)):this._latestValue}_subscribe(n){this._obj=n,this._strategy=this._selectStrategy(n),this._subscription=this._strategy.createSubscription(n,i=>this._updateLatestValue(n,i))}_selectStrategy(n){if(ir(n))return KL;if(c_(n))return QL;throw lT(e,n)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(n,i){n===this._obj&&(this._latestValue=i,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static{this.\u0275fac=function(i){return new(i||e)(O(vn,16))}}static{this.\u0275pipe=Dm({name:"async",type:e,pure:!1,standalone:!0})}}return e})();var cT=(()=>{class e{constructor(n,i="USD"){this._locale=n,this._defaultCurrencyCode=i}transform(n,i=this._defaultCurrencyCode,r="symbol",o,s){if(!ZL(n))return null;s||=this._locale,typeof r=="boolean"&&(r=r?"symbol":"code");let a=i||this._defaultCurrencyCode;r!=="code"&&(r==="symbol"||r==="symbol-narrow"?a=LL(a,r==="symbol"?"wide":"narrow",s):a=r);try{let l=JL(n);return WL(l,s,a,i,o)}catch(l){throw lT(e,l.message)}}static{this.\u0275fac=function(i){return new(i||e)(O(Ya,16),O(BI,16))}}static{this.\u0275pipe=Dm({name:"currency",type:e,pure:!0,standalone:!0})}}return e})();function ZL(e){return!(e==null||e===""||e!==e)}function JL(e){if(typeof e=="string"&&!isNaN(Number(e)-parseFloat(e)))return Number(e);if(typeof e!="number")throw new Error(`${e} is not a number`);return e}var uT=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=ie({type:e})}static{this.\u0275inj=ne({})}}return e})(),I_="browser",XL="server";function dT(e){return e===I_}function Ja(e){return e===XL}var hT=(()=>{class e{static{this.\u0275prov=D({token:e,providedIn:"root",factory:()=>dT(m(ft))?new b_(m(Be),window):new w_})}}return e})(),b_=class{constructor(t,n){this.document=t,this.window=n,this.offset=()=>[0,0]}setOffset(t){Array.isArray(t)?this.offset=()=>t:this.offset=t}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(t){this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){let n=eV(this.document,t);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(t){this.window.history.scrollRestoration=t}scrollToElement(t){let n=t.getBoundingClientRect(),i=n.left+this.window.pageXOffset,r=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}};function eV(e,t){let n=e.getElementById(t)||e.getElementsByName(t)[0];if(n)return n;if(typeof e.createTreeWalker=="function"&&e.body&&typeof e.body.attachShadow=="function"){let i=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT),r=i.currentNode;for(;r;){let o=r.shadowRoot;if(o){let s=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(s)return s}r=i.nextNode()}}return null}var w_=class{setOffset(t){}getScrollPosition(){return[0,0]}scrollToPosition(t){}scrollToAnchor(t){}setHistoryScrollRestoration(t){}},zd=class{};var A_=class extends Wd{constructor(){super(...arguments),this.supportsDOMEvents=!0}},M_=class e extends A_{static makeCurrent(){eT(new e)}onAndCancel(t,n,i){return t.addEventListener(n,i),()=>{t.removeEventListener(n,i)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.remove()}createElement(t,n){return n=n||this.getDefaultDocument(),n.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return n==="window"?window:n==="document"?t:n==="body"?t.body:null}getBaseHref(t){let n=tV();return n==null?null:nV(n)}resetBaseElement(){Xa=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return sT(document.cookie,t)}},Xa=null;function tV(){return Xa=Xa||document.querySelector("base"),Xa?Xa.getAttribute("href"):null}function nV(e){return new URL(e,document.baseURI).pathname}var N_=class{addToWindow(t){vt.getAngularTestability=(i,r=!0)=>{let o=t.findTestabilityInTree(i,r);if(o==null)throw new x(5103,!1);return o},vt.getAllAngularTestabilities=()=>t.getAllTestabilities(),vt.getAllAngularRootElements=()=>t.getAllRootElements();let n=i=>{let r=vt.getAllAngularTestabilities(),o=r.length,s=function(){o--,o==0&&i()};r.forEach(a=>{a.whenStable(s)})};vt.frameworkStabilizers||(vt.frameworkStabilizers=[]),vt.frameworkStabilizers.push(n)}findTestabilityInTree(t,n,i){if(n==null)return null;let r=t.getTestability(n);return r??(i?zn().isShadowRoot(n)?this.findTestabilityInTree(t,n.host,!0):this.findTestabilityInTree(t,n.parentElement,!0):null)}},iV=(()=>{class e{build(){return new XMLHttpRequest}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=D({token:e,factory:e.\u0275fac})}}return e})(),R_=new E(""),mT=(()=>{class e{constructor(n,i){this._zone=i,this._eventNameToPlugin=new Map,n.forEach(r=>{r.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,i,r){return this._findPluginFor(i).addEventListener(n,i,r)}getZone(){return this._zone}_findPluginFor(n){let i=this._eventNameToPlugin.get(n);if(i)return i;if(i=this._plugins.find(o=>o.supports(n)),!i)throw new x(5101,!1);return this._eventNameToPlugin.set(n,i),i}static{this.\u0275fac=function(i){return new(i||e)(y(R_),y(H))}}static{this.\u0275prov=D({token:e,factory:e.\u0275fac})}}return e})(),Qd=class{constructor(t){this._doc=t}},T_="ng-app-id",_T=(()=>{class e{constructor(n,i,r,o={}){this.doc=n,this.appId=i,this.nonce=r,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Ja(o),this.resetHostNodes()}addStyles(n){for(let i of n)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(n){for(let i of n)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let n=this.styleNodesInDOM;n&&(n.forEach(i=>i.remove()),n.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(let i of this.getAllStyles())this.addStyleToHost(n,i)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(let i of this.hostNodes)this.addStyleToHost(i,n)}onStyleRemoved(n){let i=this.styleRef;i.get(n)?.elements?.forEach(r=>r.remove()),i.delete(n)}collectServerRenderedStyles(){let n=this.doc.head?.querySelectorAll(`style[${T_}="${this.appId}"]`);if(n?.length){let i=new Map;return n.forEach(r=>{r.textContent!=null&&i.set(r.textContent,r)}),i}return null}changeUsageCount(n,i){let r=this.styleRef;if(r.has(n)){let o=r.get(n);return o.usage+=i,o.usage}return r.set(n,{usage:i,elements:[]}),i}getStyleElement(n,i){let r=this.styleNodesInDOM,o=r?.get(i);if(o?.parentNode===n)return r.delete(i),o.removeAttribute(T_),o;{let s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=i,this.platformIsServer&&s.setAttribute(T_,this.appId),n.appendChild(s),s}}addStyleToHost(n,i){let r=this.getStyleElement(n,i),o=this.styleRef,s=o.get(i)?.elements;s?s.push(r):o.set(i,{elements:[r],usage:1})}resetHostNodes(){let n=this.hostNodes;n.clear(),n.add(this.doc.head)}static{this.\u0275fac=function(i){return new(i||e)(y(Be),y(Sd),y(Vm,8),y(ft))}}static{this.\u0275prov=D({token:e,factory:e.\u0275fac})}}return e})(),S_={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},x_=/%COMP%/g,vT="%COMP%",rV=`_nghost-${vT}`,oV=`_ngcontent-${vT}`,sV=!0,aV=new E("",{providedIn:"root",factory:()=>sV});function lV(e){return oV.replace(x_,e)}function cV(e){return rV.replace(x_,e)}function yT(e,t){return t.map(n=>n.replace(x_,e))}var fT=(()=>{class e{constructor(n,i,r,o,s,a,l,c=null){this.eventManager=n,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=c,this.rendererByCompId=new Map,this.platformIsServer=Ja(a),this.defaultRenderer=new el(n,s,l,this.platformIsServer)}createRenderer(n,i){if(!n||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Fn.ShadowDom&&(i=Y(C({},i),{encapsulation:Fn.Emulated}));let r=this.getOrCreateRenderer(n,i);return r instanceof Zd?r.applyToHost(n):r instanceof tl&&r.applyStyles(),r}getOrCreateRenderer(n,i){let r=this.rendererByCompId,o=r.get(i.id);if(!o){let s=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(i.encapsulation){case Fn.Emulated:o=new Zd(l,c,i,this.appId,u,s,a,d);break;case Fn.ShadowDom:return new O_(l,c,n,i,s,a,this.nonce,d);default:o=new tl(l,c,i,u,s,a,d);break}r.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(i){return new(i||e)(y(mT),y(_T),y(Sd),y(aV),y(Be),y(ft),y(H),y(Vm))}}static{this.\u0275prov=D({token:e,factory:e.\u0275fac})}}return e})(),el=class{constructor(t,n,i,r){this.eventManager=t,this.doc=n,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(t,n){return n?this.doc.createElementNS(S_[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(pT(t)?t.content:t).appendChild(n)}insertBefore(t,n,i){t&&(pT(t)?t.content:t).insertBefore(n,i)}removeChild(t,n){n.remove()}selectRootElement(t,n){let i=typeof t=="string"?this.doc.querySelector(t):t;if(!i)throw new x(-5104,!1);return n||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,i,r){if(r){n=r+":"+n;let o=S_[r];o?t.setAttributeNS(o,n,i):t.setAttribute(n,i)}else t.setAttribute(n,i)}removeAttribute(t,n,i){if(i){let r=S_[i];r?t.removeAttributeNS(r,n):t.removeAttribute(`${i}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,i,r){r&(di.DashCase|di.Important)?t.style.setProperty(n,i,r&di.Important?"important":""):t.style[n]=i}removeStyle(t,n,i){i&di.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,i){t!=null&&(t[n]=i)}setValue(t,n){t.nodeValue=n}listen(t,n,i){if(typeof t=="string"&&(t=zn().getGlobalEventTarget(this.doc,t),!t))throw new Error(`Unsupported event target ${t} for event ${n}`);return this.eventManager.addEventListener(t,n,this.decoratePreventDefault(i))}decoratePreventDefault(t){return n=>{if(n==="__ngUnwrap__")return t;(this.platformIsServer?this.ngZone.runGuarded(()=>t(n)):t(n))===!1&&n.preventDefault()}}};function pT(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var O_=class extends el{constructor(t,n,i,r,o,s,a,l){super(t,o,s,l),this.sharedStylesHost=n,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let c=yT(r.id,r.styles);for(let u of c){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,i){return super.insertBefore(this.nodeOrShadowRoot(t),n,i)}removeChild(t,n){return super.removeChild(null,n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},tl=class extends el{constructor(t,n,i,r,o,s,a,l){super(t,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=r,this.styles=l?yT(l,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Zd=class extends tl{constructor(t,n,i,r,o,s,a,l){let c=r+"-"+i.id;super(t,n,i,o,s,a,l,c),this.contentAttr=lV(c),this.hostAttr=cV(c)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){let i=super.createElement(t,n);return super.setAttribute(i,this.contentAttr,""),i}},uV=(()=>{class e extends Qd{constructor(n){super(n)}supports(n){return!0}addEventListener(n,i,r){return n.addEventListener(i,r,!1),()=>this.removeEventListener(n,i,r)}removeEventListener(n,i,r){return n.removeEventListener(i,r)}static{this.\u0275fac=function(i){return new(i||e)(y(Be))}}static{this.\u0275prov=D({token:e,factory:e.\u0275fac})}}return e})(),gT=["alt","control","meta","shift"],dV={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},hV={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},fV=(()=>{class e extends Qd{constructor(n){super(n)}supports(n){return e.parseEventName(n)!=null}addEventListener(n,i,r){let o=e.parseEventName(i),s=e.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>zn().onAndCancel(n,o.domEventName,s))}static parseEventName(n){let i=n.toLowerCase().split("."),r=i.shift();if(i.length===0||!(r==="keydown"||r==="keyup"))return null;let o=e._normalizeKey(i.pop()),s="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),s="code."),gT.forEach(c=>{let u=i.indexOf(c);u>-1&&(i.splice(u,1),s+=c+".")}),s+=o,i.length!=0||o.length===0)return null;let l={};return l.domEventName=r,l.fullKey=s,l}static matchEventFullKeyCode(n,i){let r=dV[n.key]||n.key,o="";return i.indexOf("code.")>-1&&(r=n.code,o="code."),r==null||!r?!1:(r=r.toLowerCase(),r===" "?r="space":r==="."&&(r="dot"),gT.forEach(s=>{if(s!==r){let a=hV[s];a(n)&&(o+=s+".")}}),o+=r,o===i)}static eventCallback(n,i,r){return o=>{e.matchEventFullKeyCode(o,n)&&r.runGuarded(()=>i(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static{this.\u0275fac=function(i){return new(i||e)(y(Be))}}static{this.\u0275prov=D({token:e,factory:e.\u0275fac})}}return e})();function pV(){M_.makeCurrent()}function gV(){return new ui}function mV(){return EE(document),document}var _V=[{provide:ft,useValue:I_},{provide:Lm,useValue:pV,multi:!0},{provide:Be,useFactory:mV,deps:[]}],bT=d_($I,"browser",_V),vV=new E(""),yV=[{provide:qa,useClass:N_,deps:[]},{provide:a_,useClass:Vd,deps:[H,Bd,qa]},{provide:Vd,useClass:Vd,deps:[H,Bd,qa]}],bV=[{provide:pd,useValue:"root"},{provide:ui,useFactory:gV,deps:[]},{provide:R_,useClass:uV,multi:!0,deps:[Be,H,ft]},{provide:R_,useClass:fV,multi:!0,deps:[Be]},fT,_T,mT,{provide:ts,useExisting:fT},{provide:zd,useClass:iV,deps:[]},[]],wT=(()=>{class e{constructor(n){}static withServerTransition(n){return{ngModule:e,providers:[{provide:Sd,useValue:n.appId}]}}static{this.\u0275fac=function(i){return new(i||e)(y(vV,12))}}static{this.\u0275mod=ie({type:e})}static{this.\u0275inj=ne({providers:[...bV,...yV],imports:[uT,WI]})}}return e})();var CT=(()=>{class e{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static{this.\u0275fac=function(i){return new(i||e)(y(Be))}}static{this.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var q="primary",gl=Symbol("RouteTitle"),V_=class{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function bs(e){return new V_(e)}function wV(e,t,n){let i=n.path.split("/");if(i.length>e.length||n.pathMatch==="full"&&(t.hasChildren()||i.length<e.length))return null;let r={};for(let o=0;o<i.length;o++){let s=i[o],a=e[o];if(s[0]===":")r[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,i.length),posParams:r}}function CV(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!qn(e[n],t[n]))return!1;return!0}function qn(e,t){let n=e?B_(e):void 0,i=t?B_(t):void 0;if(!n||!i||n.length!=i.length)return!1;let r;for(let o=0;o<n.length;o++)if(r=n[o],!PT(e[r],t[r]))return!1;return!0}function B_(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function PT(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;let n=[...e].sort(),i=[...t].sort();return n.every((r,o)=>i[o]===r)}else return e===t}function kT(e){return e.length>0?e[e.length-1]:null}function sr(e){return Xp(e)?e:ir(e)?ue(Promise.resolve(e)):R(e)}var DV={exact:LT,subset:VT},FT={exact:EV,subset:IV,ignored:()=>!0};function ET(e,t,n){return DV[n.paths](e.root,t.root,n.matrixParams)&&FT[n.queryParams](e.queryParams,t.queryParams)&&!(n.fragment==="exact"&&e.fragment!==t.fragment)}function EV(e,t){return qn(e,t)}function LT(e,t,n){if(!Zr(e.segments,t.segments)||!eh(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(let i in t.children)if(!e.children[i]||!LT(e.children[i],t.children[i],n))return!1;return!0}function IV(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>PT(e[n],t[n]))}function VT(e,t,n){return BT(e,t,t.segments,n)}function BT(e,t,n,i){if(e.segments.length>n.length){let r=e.segments.slice(0,n.length);return!(!Zr(r,n)||t.hasChildren()||!eh(r,n,i))}else if(e.segments.length===n.length){if(!Zr(e.segments,n)||!eh(e.segments,n,i))return!1;for(let r in t.children)if(!e.children[r]||!VT(e.children[r],t.children[r],i))return!1;return!0}else{let r=n.slice(0,e.segments.length),o=n.slice(e.segments.length);return!Zr(e.segments,r)||!eh(e.segments,r,i)||!e.children[q]?!1:BT(e.children[q],t,o,i)}}function eh(e,t,n){return t.every((i,r)=>FT[n](e[r].parameters,i.parameters))}var Ci=class{constructor(t=new de([],{}),n={},i=null){this.root=t,this.queryParams=n,this.fragment=i}get queryParamMap(){return this._queryParamMap??=bs(this.queryParams),this._queryParamMap}toString(){return AV.serialize(this)}},de=class{constructor(t,n){this.segments=t,this.children=n,this.parent=null,Object.values(n).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return th(this)}},Qr=class{constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap??=bs(this.parameters),this._parameterMap}toString(){return UT(this)}};function TV(e,t){return Zr(e,t)&&e.every((n,i)=>qn(n.parameters,t[i].parameters))}function Zr(e,t){return e.length!==t.length?!1:e.every((n,i)=>n.path===t[i].path)}function SV(e,t){let n=[];return Object.entries(e.children).forEach(([i,r])=>{i===q&&(n=n.concat(t(r,i)))}),Object.entries(e.children).forEach(([i,r])=>{i!==q&&(n=n.concat(t(r,i)))}),n}var ml=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=D({token:e,factory:()=>new ws,providedIn:"root"})}}return e})(),ws=class{parse(t){let n=new U_(t);return new Ci(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){let n=`/${nl(t.root,!0)}`,i=RV(t.queryParams),r=typeof t.fragment=="string"?`#${MV(t.fragment)}`:"";return`${n}${i}${r}`}},AV=new ws;function th(e){return e.segments.map(t=>UT(t)).join("/")}function nl(e,t){if(!e.hasChildren())return th(e);if(t){let n=e.children[q]?nl(e.children[q],!1):"",i=[];return Object.entries(e.children).forEach(([r,o])=>{r!==q&&i.push(`${r}:${nl(o,!1)}`)}),i.length>0?`${n}(${i.join("//")})`:n}else{let n=SV(e,(i,r)=>r===q?[nl(e.children[q],!1)]:[`${r}:${nl(i,!1)}`]);return Object.keys(e.children).length===1&&e.children[q]!=null?`${th(e)}/${n[0]}`:`${th(e)}/(${n.join("//")})`}}function jT(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Jd(e){return jT(e).replace(/%3B/gi,";")}function MV(e){return encodeURI(e)}function j_(e){return jT(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function nh(e){return decodeURIComponent(e)}function IT(e){return nh(e.replace(/\+/g,"%20"))}function UT(e){return`${j_(e.path)}${NV(e.parameters)}`}function NV(e){return Object.entries(e).map(([t,n])=>`;${j_(t)}=${j_(n)}`).join("")}function RV(e){let t=Object.entries(e).map(([n,i])=>Array.isArray(i)?i.map(r=>`${Jd(n)}=${Jd(r)}`).join("&"):`${Jd(n)}=${Jd(i)}`).filter(n=>n);return t.length?`?${t.join("&")}`:""}var OV=/^[^\/()?;#]+/;function P_(e){let t=e.match(OV);return t?t[0]:""}var xV=/^[^\/()?;=#]+/;function PV(e){let t=e.match(xV);return t?t[0]:""}var kV=/^[^=?&#]+/;function FV(e){let t=e.match(kV);return t?t[0]:""}var LV=/^[^&#]+/;function VV(e){let t=e.match(LV);return t?t[0]:""}var U_=class{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new de([],{}):new de([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(i[q]=new de(t,n)),i}parseSegment(){let t=P_(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new x(4009,!1);return this.capture(t),new Qr(nh(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let n=PV(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){let r=P_(this.remaining);r&&(i=r,this.capture(i))}t[nh(n)]=nh(i)}parseQueryParam(t){let n=FV(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){let s=VV(this.remaining);s&&(i=s,this.capture(i))}let r=IT(n),o=IT(i);if(t.hasOwnProperty(r)){let s=t[r];Array.isArray(s)||(s=[s],t[r]=s),s.push(o)}else t[r]=o}parseParens(t){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=P_(this.remaining),r=this.remaining[i.length];if(r!=="/"&&r!==")"&&r!==";")throw new x(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=q);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[q]:new de([],s),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new x(4011,!1)}};function HT(e){return e.segments.length>0?new de([],{[q]:e}):e}function $T(e){let t={};for(let[i,r]of Object.entries(e.children)){let o=$T(r);if(i===q&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))t[s]=a;else(o.segments.length>0||o.hasChildren())&&(t[i]=o)}let n=new de(e.segments,t);return BV(n)}function BV(e){if(e.numberOfChildren===1&&e.children[q]){let t=e.children[q];return new de(e.segments.concat(t.segments),t.children)}return e}function Jr(e){return e instanceof Ci}function jV(e,t,n=null,i=null){let r=WT(e);return GT(r,t,n,i)}function WT(e){let t;function n(o){let s={};for(let l of o.children){let c=n(l);s[l.outlet]=c}let a=new de(o.url,s);return o===e&&(t=a),a}let i=n(e.root),r=HT(i);return t??r}function GT(e,t,n,i){let r=e;for(;r.parent;)r=r.parent;if(t.length===0)return k_(r,r,r,n,i);let o=UV(t);if(o.toRoot())return k_(r,r,new de([],{}),n,i);let s=HV(o,r,e),a=s.processChildren?ol(s.segmentGroup,s.index,o.commands):qT(s.segmentGroup,s.index,o.commands);return k_(r,s.segmentGroup,a,n,i)}function ih(e){return typeof e=="object"&&e!=null&&!e.outlets&&!e.segmentPath}function ll(e){return typeof e=="object"&&e!=null&&e.outlets}function k_(e,t,n,i,r){let o={};i&&Object.entries(i).forEach(([l,c])=>{o[l]=Array.isArray(c)?c.map(u=>`${u}`):`${c}`});let s;e===t?s=n:s=zT(e,t,n);let a=HT($T(s));return new Ci(a,o,r)}function zT(e,t,n){let i={};return Object.entries(e.children).forEach(([r,o])=>{o===t?i[r]=n:i[r]=zT(o,t,n)}),new de(e.segments,i)}var rh=class{constructor(t,n,i){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=i,t&&i.length>0&&ih(i[0]))throw new x(4003,!1);let r=i.find(ll);if(r&&r!==kT(i))throw new x(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function UV(e){if(typeof e[0]=="string"&&e.length===1&&e[0]==="/")return new rh(!0,0,e);let t=0,n=!1,i=e.reduce((r,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([l,c])=>{a[l]=typeof c=="string"?c.split("/"):c}),[...r,{outlets:a}]}if(o.segmentPath)return[...r,o.segmentPath]}return typeof o!="string"?[...r,o]:s===0?(o.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?n=!0:a===".."?t++:a!=""&&r.push(a))}),r):[...r,o]},[]);return new rh(n,t,i)}var _s=class{constructor(t,n,i){this.segmentGroup=t,this.processChildren=n,this.index=i}};function HV(e,t,n){if(e.isAbsolute)return new _s(t,!0,0);if(!n)return new _s(t,!1,NaN);if(n.parent===null)return new _s(n,!0,0);let i=ih(e.commands[0])?0:1,r=n.segments.length-1+i;return $V(n,r,e.numberOfDoubleDots)}function $V(e,t,n){let i=e,r=t,o=n;for(;o>r;){if(o-=r,i=i.parent,!i)throw new x(4005,!1);r=i.segments.length}return new _s(i,!1,r-o)}function WV(e){return ll(e[0])?e[0].outlets:{[q]:e}}function qT(e,t,n){if(e??=new de([],{}),e.segments.length===0&&e.hasChildren())return ol(e,t,n);let i=GV(e,t,n),r=n.slice(i.commandIndex);if(i.match&&i.pathIndex<e.segments.length){let o=new de(e.segments.slice(0,i.pathIndex),{});return o.children[q]=new de(e.segments.slice(i.pathIndex),e.children),ol(o,0,r)}else return i.match&&r.length===0?new de(e.segments,{}):i.match&&!e.hasChildren()?H_(e,t,n):i.match?ol(e,0,r):H_(e,t,n)}function ol(e,t,n){if(n.length===0)return new de(e.segments,{});{let i=WV(n),r={};if(Object.keys(i).some(o=>o!==q)&&e.children[q]&&e.numberOfChildren===1&&e.children[q].segments.length===0){let o=ol(e.children[q],t,n);return new de(e.segments,o.children)}return Object.entries(i).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(r[o]=qT(e.children[o],t,s))}),Object.entries(e.children).forEach(([o,s])=>{i[o]===void 0&&(r[o]=s)}),new de(e.segments,r)}}function GV(e,t,n){let i=0,r=t,o={match:!1,pathIndex:0,commandIndex:0};for(;r<e.segments.length;){if(i>=n.length)return o;let s=e.segments[r],a=n[i];if(ll(a))break;let l=`${a}`,c=i<n.length-1?n[i+1]:null;if(r>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!ST(l,c,s))return o;i+=2}else{if(!ST(l,{},s))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}function H_(e,t,n){let i=e.segments.slice(0,t),r=0;for(;r<n.length;){let o=n[r];if(ll(o)){let l=zV(o.outlets);return new de(i,l)}if(r===0&&ih(n[0])){let l=e.segments[t];i.push(new Qr(l.path,TT(n[0]))),r++;continue}let s=ll(o)?o.outlets[q]:`${o}`,a=r<n.length-1?n[r+1]:null;s&&a&&ih(a)?(i.push(new Qr(s,TT(a))),r+=2):(i.push(new Qr(s,{})),r++)}return new de(i,{})}function zV(e){let t={};return Object.entries(e).forEach(([n,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(t[n]=H_(new de([],{}),0,i))}),t}function TT(e){let t={};return Object.entries(e).forEach(([n,i])=>t[n]=`${i}`),t}function ST(e,t,n){return e==n.path&&qn(t,n.parameters)}var sl="imperative",Qe=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(Qe||{}),en=class{constructor(t,n){this.id=t,this.url=n}},Cs=class extends en{constructor(t,n,i="imperative",r=null){super(t,n),this.type=Qe.NavigationStart,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Yn=class extends en{constructor(t,n,i){super(t,n),this.urlAfterRedirects=i,this.type=Qe.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Ut=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e}(Ut||{}),oh=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}(oh||{}),wi=class extends en{constructor(t,n,i,r){super(t,n),this.reason=i,this.code=r,this.type=Qe.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},or=class extends en{constructor(t,n,i,r){super(t,n),this.reason=i,this.code=r,this.type=Qe.NavigationSkipped}},cl=class extends en{constructor(t,n,i,r){super(t,n),this.error=i,this.target=r,this.type=Qe.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},sh=class extends en{constructor(t,n,i,r){super(t,n),this.urlAfterRedirects=i,this.state=r,this.type=Qe.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},$_=class extends en{constructor(t,n,i,r){super(t,n),this.urlAfterRedirects=i,this.state=r,this.type=Qe.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},W_=class extends en{constructor(t,n,i,r,o){super(t,n),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o,this.type=Qe.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},G_=class extends en{constructor(t,n,i,r){super(t,n),this.urlAfterRedirects=i,this.state=r,this.type=Qe.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},z_=class extends en{constructor(t,n,i,r){super(t,n),this.urlAfterRedirects=i,this.state=r,this.type=Qe.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},q_=class{constructor(t){this.route=t,this.type=Qe.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Y_=class{constructor(t){this.route=t,this.type=Qe.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},K_=class{constructor(t){this.snapshot=t,this.type=Qe.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Q_=class{constructor(t){this.snapshot=t,this.type=Qe.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Z_=class{constructor(t){this.snapshot=t,this.type=Qe.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},J_=class{constructor(t){this.snapshot=t,this.type=Qe.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ah=class{constructor(t,n,i){this.routerEvent=t,this.position=n,this.anchor=i,this.type=Qe.Scroll}toString(){let t=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${t}')`}},ul=class{},Ds=class{constructor(t,n){this.url=t,this.navigationBehaviorOptions=n}};function qV(e,t){return e.providers&&!e._injector&&(e._injector=Pd(e.providers,t,`Route: ${e.path}`)),e._injector??t}function bn(e){return e.outlet||q}function YV(e,t){let n=e.filter(i=>bn(i)===t);return n.push(...e.filter(i=>bn(i)!==t)),n}function _l(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){let n=t.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var X_=class{get injector(){return _l(this.route?.snapshot)??this.rootInjector}set injector(t){}constructor(t){this.rootInjector=t,this.outlet=null,this.route=null,this.children=new vl(this.rootInjector),this.attachRef=null}},vl=(()=>{class e{constructor(n){this.rootInjector=n,this.contexts=new Map}onChildOutletCreated(n,i){let r=this.getOrCreateContext(n);r.outlet=i,this.contexts.set(n,r)}onChildOutletDestroyed(n){let i=this.getContext(n);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let i=this.getContext(n);return i||(i=new X_(this.rootInjector),this.contexts.set(n,i)),i}getContext(n){return this.contexts.get(n)||null}static{this.\u0275fac=function(i){return new(i||e)(y(dt))}}static{this.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),lh=class{constructor(t){this._root=t}get root(){return this._root.value}parent(t){let n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){let n=ev(t,this._root);return n?n.children.map(i=>i.value):[]}firstChild(t){let n=ev(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){let n=tv(t,this._root);return n.length<2?[]:n[n.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return tv(t,this._root).map(n=>n.value)}};function ev(e,t){if(e===t.value)return t;for(let n of t.children){let i=ev(e,n);if(i)return i}return null}function tv(e,t){if(e===t.value)return[t];for(let n of t.children){let i=tv(e,n);if(i.length)return i.unshift(t),i}return[]}var jt=class{constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}};function ms(e){let t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}var ch=class extends lh{constructor(t,n){super(t),this.snapshot=n,uv(this,t)}toString(){return this.snapshot.toString()}};function YT(e){let t=KV(e),n=new Ke([new Qr("",{})]),i=new Ke({}),r=new Ke({}),o=new Ke({}),s=new Ke(""),a=new wn(n,i,o,s,r,q,e,t.root);return a.snapshot=t.root,new ch(new jt(a,[]),t)}function KV(e){let t={},n={},i={},r="",o=new vs([],t,i,r,n,q,e,null,{});return new dh("",new jt(o,[]))}var wn=class{constructor(t,n,i,r,o,s,a,l){this.urlSubject=t,this.paramsSubject=n,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(S(c=>c[gl]))??R(void 0),this.url=t,this.params=n,this.queryParams=i,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(S(t=>bs(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(S(t=>bs(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function uh(e,t,n="emptyOnly"){let i,{routeConfig:r}=e;return t!==null&&(n==="always"||r?.path===""||!t.component&&!t.routeConfig?.loadComponent)?i={params:C(C({},t.params),e.params),data:C(C({},t.data),e.data),resolve:C(C(C(C({},e.data),t.data),r?.data),e._resolvedData)}:i={params:C({},e.params),data:C({},e.data),resolve:C(C({},e.data),e._resolvedData??{})},r&&QT(r)&&(i.resolve[gl]=r.title),i}var vs=class{get title(){return this.data?.[gl]}constructor(t,n,i,r,o,s,a,l,c){this.url=t,this.params=n,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=bs(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=bs(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(i=>i.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${n}')`}},dh=class extends lh{constructor(t,n){super(n),this.url=t,uv(this,n)}toString(){return KT(this._root)}};function uv(e,t){t.value._routerState=e,t.children.forEach(n=>uv(e,n))}function KT(e){let t=e.children.length>0?` { ${e.children.map(KT).join(", ")} } `:"";return`${e.value}${t}`}function F_(e){if(e.snapshot){let t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,qn(t.queryParams,n.queryParams)||e.queryParamsSubject.next(n.queryParams),t.fragment!==n.fragment&&e.fragmentSubject.next(n.fragment),qn(t.params,n.params)||e.paramsSubject.next(n.params),CV(t.url,n.url)||e.urlSubject.next(n.url),qn(t.data,n.data)||e.dataSubject.next(n.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function nv(e,t){let n=qn(e.params,t.params)&&TV(e.url,t.url),i=!e.parent!=!t.parent;return n&&!i&&(!e.parent||nv(e.parent,t.parent))}function QT(e){return typeof e.title=="string"||e.title===null}var dv=(()=>{class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=q,this.activateEvents=new ge,this.deactivateEvents=new ge,this.attachEvents=new ge,this.detachEvents=new ge,this.parentContexts=m(vl),this.location=m(_i),this.changeDetector=m(vn),this.inputBinder=m(mh,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){let{firstChange:i,previousValue:r}=n.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new x(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new x(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new x(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,i){this.activated=n,this._activatedRoute=i,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,i){if(this.isActivated)throw new x(4013,!1);this._activatedRoute=n;let r=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new iv(n,a,r.injector);this.activated=r.createComponent(s,{index:r.length,injector:l,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275dir=ae({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[jn]})}}return e})(),iv=class e{__ngOutletInjector(t){return new e(this.route,this.childContexts,t)}constructor(t,n,i){this.route=t,this.childContexts=n,this.parent=i}get(t,n){return t===wn?this.route:t===vl?this.childContexts:this.parent.get(t,n)}},mh=new E(""),AT=(()=>{class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){let{activatedRoute:i}=n,r=Vo([i.queryParams,i.params,i.data]).pipe(he(([o,s,a],l)=>(a=C(C(C({},o),s),a),l===0?R(a):Promise.resolve(a)))).subscribe(o=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(n);return}let s=GI(i.component);if(!s){this.unsubscribeFromRouteData(n);return}for(let{templateName:a}of s.inputs)n.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(n,r)}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=D({token:e,factory:e.\u0275fac})}}return e})();function QV(e,t,n){let i=dl(e,t._root,n?n._root:void 0);return new ch(i,t)}function dl(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){let i=n.value;i._futureSnapshot=t.value;let r=ZV(e,t,n);return new jt(i,r)}else{if(e.shouldAttach(t.value)){let o=e.retrieve(t.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>dl(e,a)),s}}let i=JV(t.value),r=t.children.map(o=>dl(e,o));return new jt(i,r)}}function ZV(e,t,n){return t.children.map(i=>{for(let r of n.children)if(e.shouldReuseRoute(i.value,r.value.snapshot))return dl(e,i,r);return dl(e,i)})}function JV(e){return new wn(new Ke(e.url),new Ke(e.params),new Ke(e.queryParams),new Ke(e.fragment),new Ke(e.data),e.outlet,e.component,e)}var hl=class{constructor(t,n){this.redirectTo=t,this.navigationBehaviorOptions=n}},ZT="ngNavigationCancelingError";function hh(e,t){let{redirectTo:n,navigationBehaviorOptions:i}=Jr(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=JT(!1,Ut.Redirect);return r.url=n,r.navigationBehaviorOptions=i,r}function JT(e,t){let n=new Error(`NavigationCancelingError: ${e||""}`);return n[ZT]=!0,n.cancellationCode=t,n}function XV(e){return XT(e)&&Jr(e.url)}function XT(e){return!!e&&e[ZT]}var e2=(e,t,n,i)=>S(r=>(new rv(t,r.targetRouterState,r.currentRouterState,n,i).activate(e),r)),rv=class{constructor(t,n,i,r,o){this.routeReuseStrategy=t,this.futureState=n,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=o}activate(t){let n=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,i,t),F_(this.futureState.root),this.activateChildRoutes(n,i,t)}deactivateChildRoutes(t,n,i){let r=ms(n);t.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,r[s],i),delete r[s]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(t,n,i){let r=t.value,o=n?n.value:null;if(r===o)if(r.component){let s=i.getContext(r.outlet);s&&this.deactivateChildRoutes(t,n,s.children)}else this.deactivateChildRoutes(t,n,i);else o&&this.deactivateRouteAndItsChildren(n,i)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){let i=n.getContext(t.value.outlet),r=i&&t.value.component?i.children:n,o=ms(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);if(i&&i.outlet){let s=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,n){let i=n.getContext(t.value.outlet),r=i&&t.value.component?i.children:n,o=ms(t);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(t,n,i){let r=ms(n);t.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new J_(o.value.snapshot))}),t.children.length&&this.forwardEvent(new Q_(t.value.snapshot))}activateRoutes(t,n,i){let r=t.value,o=n?n.value:null;if(F_(r),r===o)if(r.component){let s=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,n,s.children)}else this.activateChildRoutes(t,n,i);else if(r.component){let s=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),F_(a.route.value),this.activateChildRoutes(t,null,s.children)}else s.attachRef=null,s.route=r,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(t,null,s.children)}else this.activateChildRoutes(t,null,i)}},fh=class{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},ys=class{constructor(t,n){this.component=t,this.route=n}};function t2(e,t,n){let i=e._root,r=t?t._root:null;return il(i,r,n,[i.value])}function n2(e){let t=e.routeConfig?e.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:e,guards:t}}function Is(e,t){let n=Symbol(),i=t.get(e,n);return i===n?typeof e=="function"&&!uD(e)?e:t.get(e):i}function il(e,t,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=ms(t);return e.children.forEach(s=>{i2(s,o[s.value.outlet],n,i.concat([s.value]),r),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>al(a,n.getContext(s),r)),r}function i2(e,t,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=e.value,s=t?t.value:null,a=n?n.getContext(e.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let l=r2(s,o,o.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new fh(i)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?il(e,t,a?a.children:null,i,r):il(e,t,n,i,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new ys(a.outlet.component,s))}else s&&al(t,a,r),r.canActivateChecks.push(new fh(i)),o.component?il(e,null,a?a.children:null,i,r):il(e,null,n,i,r);return r}function r2(e,t,n){if(typeof n=="function")return n(e,t);switch(n){case"pathParamsChange":return!Zr(e.url,t.url);case"pathParamsOrQueryParamsChange":return!Zr(e.url,t.url)||!qn(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!nv(e,t)||!qn(e.queryParams,t.queryParams);case"paramsChange":default:return!nv(e,t)}}function al(e,t,n){let i=ms(e),r=e.value;Object.entries(i).forEach(([o,s])=>{r.component?t?al(s,t.children.getContext(o),n):al(s,null,n):al(s,t,n)}),r.component?t&&t.outlet&&t.outlet.isActivated?n.canDeactivateChecks.push(new ys(t.outlet.component,r)):n.canDeactivateChecks.push(new ys(null,r)):n.canDeactivateChecks.push(new ys(null,r))}function yl(e){return typeof e=="function"}function o2(e){return typeof e=="boolean"}function s2(e){return e&&yl(e.canLoad)}function a2(e){return e&&yl(e.canActivate)}function l2(e){return e&&yl(e.canActivateChild)}function c2(e){return e&&yl(e.canDeactivate)}function u2(e){return e&&yl(e.canMatch)}function eS(e){return e instanceof ai||e?.name==="EmptyError"}var Xd=Symbol("INITIAL_VALUE");function Es(){return he(e=>Vo(e.map(t=>t.pipe(Te(1),Eu(Xd)))).pipe(S(t=>{for(let n of t)if(n!==!0){if(n===Xd)return Xd;if(n===!1||d2(n))return n}return!0}),Le(t=>t!==Xd),Te(1)))}function d2(e){return Jr(e)||e instanceof hl}function h2(e,t){return we(n=>{let{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?R(Y(C({},n),{guardsResult:!0})):f2(s,i,r,e).pipe(we(a=>a&&o2(a)?p2(i,o,e,t):R(a)),S(a=>Y(C({},n),{guardsResult:a})))})}function f2(e,t,n,i){return ue(e).pipe(we(r=>y2(r.component,r.route,n,t,i)),Kt(r=>r!==!0,!0))}function p2(e,t,n,i){return ue(t).pipe(Rr(r=>xn(m2(r.route.parent,i),g2(r.route,i),v2(e,r.path,n),_2(e,r.route,n))),Kt(r=>r!==!0,!0))}function g2(e,t){return e!==null&&t&&t(new Z_(e)),R(!0)}function m2(e,t){return e!==null&&t&&t(new K_(e)),R(!0)}function _2(e,t,n){let i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||i.length===0)return R(!0);let r=i.map(o=>vu(()=>{let s=_l(t)??n,a=Is(o,s),l=a2(a)?a.canActivate(t,e):Bn(s,()=>a(t,e));return sr(l).pipe(Kt())}));return R(r).pipe(Es())}function v2(e,t,n){let i=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(s=>n2(s)).filter(s=>s!==null).map(s=>vu(()=>{let a=s.guards.map(l=>{let c=_l(s.node)??n,u=Is(l,c),d=l2(u)?u.canActivateChild(i,e):Bn(c,()=>u(i,e));return sr(d).pipe(Kt())});return R(a).pipe(Es())}));return R(o).pipe(Es())}function y2(e,t,n,i,r){let o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!o||o.length===0)return R(!0);let s=o.map(a=>{let l=_l(t)??r,c=Is(a,l),u=c2(c)?c.canDeactivate(e,t,n,i):Bn(l,()=>c(e,t,n,i));return sr(u).pipe(Kt())});return R(s).pipe(Es())}function b2(e,t,n,i){let r=t.canLoad;if(r===void 0||r.length===0)return R(!0);let o=r.map(s=>{let a=Is(s,e),l=s2(a)?a.canLoad(t,n):Bn(e,()=>a(t,n));return sr(l)});return R(o).pipe(Es(),tS(i))}function tS(e){return zp(Oe(t=>{if(typeof t!="boolean")throw hh(e,t)}),S(t=>t===!0))}function w2(e,t,n,i){let r=t.canMatch;if(!r||r.length===0)return R(!0);let o=r.map(s=>{let a=Is(s,e),l=u2(a)?a.canMatch(t,n):Bn(e,()=>a(t,n));return sr(l)});return R(o).pipe(Es(),tS(i))}var fl=class{constructor(t){this.segmentGroup=t||null}},pl=class extends Error{constructor(t){super(),this.urlTree=t}};function gs(e){return Fo(new fl(e))}function C2(e){return Fo(new x(4e3,!1))}function D2(e){return Fo(JT(!1,Ut.GuardRejected))}var ov=class{constructor(t,n){this.urlSerializer=t,this.urlTree=n}lineralizeSegments(t,n){let i=[],r=n.root;for(;;){if(i=i.concat(r.segments),r.numberOfChildren===0)return R(i);if(r.numberOfChildren>1||!r.children[q])return C2(`${t.redirectTo}`);r=r.children[q]}}applyRedirectCommands(t,n,i,r,o){if(typeof n!="string"){let a=n,{queryParams:l,fragment:c,routeConfig:u,url:d,outlet:h,params:f,data:p,title:g}=r,v=Bn(o,()=>a({params:f,data:p,queryParams:l,fragment:c,routeConfig:u,url:d,outlet:h,title:g}));if(v instanceof Ci)throw new pl(v);n=v}let s=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),t,i);if(n[0]==="/")throw new pl(s);return s}applyRedirectCreateUrlTree(t,n,i,r){let o=this.createSegmentGroup(t,n.root,i,r);return new Ci(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){let i={};return Object.entries(t).forEach(([r,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);i[r]=n[a]}else i[r]=o}),i}createSegmentGroup(t,n,i,r){let o=this.createSegments(t,n.segments,i,r),s={};return Object.entries(n.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(t,l,i,r)}),new de(o,s)}createSegments(t,n,i,r){return n.map(o=>o.path[0]===":"?this.findPosParam(t,o,r):this.findOrReturn(o,i))}findPosParam(t,n,i){let r=i[n.path.substring(1)];if(!r)throw new x(4001,!1);return r}findOrReturn(t,n){let i=0;for(let r of n){if(r.path===t.path)return n.splice(i),r;i++}return t}},sv={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function E2(e,t,n,i,r){let o=nS(e,t,n);return o.matched?(i=qV(t,i),w2(i,t,n,r).pipe(S(s=>s===!0?o:C({},sv)))):R(o)}function nS(e,t,n){if(t.path==="**")return I2(n);if(t.path==="")return t.pathMatch==="full"&&(e.hasChildren()||n.length>0)?C({},sv):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let r=(t.matcher||wV)(n,e,t);if(!r)return C({},sv);let o={};Object.entries(r.posParams??{}).forEach(([a,l])=>{o[a]=l.path});let s=r.consumed.length>0?C(C({},o),r.consumed[r.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:n.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function I2(e){return{matched:!0,parameters:e.length>0?kT(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}function MT(e,t,n,i){return n.length>0&&A2(e,n,i)?{segmentGroup:new de(t,S2(i,new de(n,e.children))),slicedSegments:[]}:n.length===0&&M2(e,n,i)?{segmentGroup:new de(e.segments,T2(e,n,i,e.children)),slicedSegments:n}:{segmentGroup:new de(e.segments,e.children),slicedSegments:n}}function T2(e,t,n,i){let r={};for(let o of n)if(_h(e,t,o)&&!i[bn(o)]){let s=new de([],{});r[bn(o)]=s}return C(C({},i),r)}function S2(e,t){let n={};n[q]=t;for(let i of e)if(i.path===""&&bn(i)!==q){let r=new de([],{});n[bn(i)]=r}return n}function A2(e,t,n){return n.some(i=>_h(e,t,i)&&bn(i)!==q)}function M2(e,t,n){return n.some(i=>_h(e,t,i))}function _h(e,t,n){return(e.hasChildren()||t.length>0)&&n.pathMatch==="full"?!1:n.path===""}function N2(e,t,n){return t.length===0&&!e.children[n]}var av=class{};function R2(e,t,n,i,r,o,s="emptyOnly"){return new lv(e,t,n,i,r,s,o).recognize()}var O2=31,lv=class{constructor(t,n,i,r,o,s,a){this.injector=t,this.configLoader=n,this.rootComponentType=i,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new ov(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(t){return new x(4002,`'${t.segmentGroup}'`)}recognize(){let t=MT(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(S(({children:n,rootSnapshot:i})=>{let r=new jt(i,n),o=new dh("",r),s=jV(i,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(t){let n=new vs([],Object.freeze({}),Object.freeze(C({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),q,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,t,q,n).pipe(S(i=>({children:i,rootSnapshot:n})),Wi(i=>{if(i instanceof pl)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof fl?this.noMatchError(i):i}))}processSegmentGroup(t,n,i,r,o){return i.segments.length===0&&i.hasChildren()?this.processChildren(t,n,i,o):this.processSegment(t,n,i,i.segments,r,!0,o).pipe(S(s=>s instanceof jt?[s]:[]))}processChildren(t,n,i,r){let o=[];for(let s of Object.keys(i.children))s==="primary"?o.unshift(s):o.push(s);return ue(o).pipe(Rr(s=>{let a=i.children[s],l=YV(n,s);return this.processSegmentGroup(t,l,a,s,r)}),Or((s,a)=>(s.push(...a),s)),Gi(null),rg(),we(s=>{if(s===null)return gs(i);let a=iS(s);return x2(a),R(a)}))}processSegment(t,n,i,r,o,s,a){return ue(n).pipe(Rr(l=>this.processSegmentAgainstRoute(l._injector??t,n,l,i,r,o,s,a).pipe(Wi(c=>{if(c instanceof fl)return R(null);throw c}))),Kt(l=>!!l),Wi(l=>{if(eS(l))return N2(i,r,o)?R(new av):gs(i);throw l}))}processSegmentAgainstRoute(t,n,i,r,o,s,a,l){return bn(i)!==s&&(s===q||!_h(r,o,i))?gs(r):i.redirectTo===void 0?this.matchSegmentAgainstRoute(t,r,i,o,s,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(t,r,n,i,o,s,l):gs(r)}expandSegmentAgainstRouteUsingRedirect(t,n,i,r,o,s,a){let{matched:l,parameters:c,consumedSegments:u,positionalParamSegments:d,remainingSegments:h}=nS(n,r,o);if(!l)return gs(n);typeof r.redirectTo=="string"&&r.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>O2&&(this.allowRedirects=!1));let f=new vs(o,c,Object.freeze(C({},this.urlTree.queryParams)),this.urlTree.fragment,NT(r),bn(r),r.component??r._loadedComponent??null,r,RT(r)),p=uh(f,a,this.paramsInheritanceStrategy);f.params=Object.freeze(p.params),f.data=Object.freeze(p.data);let g=this.applyRedirects.applyRedirectCommands(u,r.redirectTo,d,f,t);return this.applyRedirects.lineralizeSegments(r,g).pipe(we(v=>this.processSegment(t,i,n,v.concat(h),s,!1,a)))}matchSegmentAgainstRoute(t,n,i,r,o,s){let a=E2(n,i,r,t,this.urlSerializer);return i.path==="**"&&(n.children={}),a.pipe(he(l=>l.matched?(t=i._injector??t,this.getChildConfig(t,i,r).pipe(he(({routes:c})=>{let u=i._loadedInjector??t,{parameters:d,consumedSegments:h,remainingSegments:f}=l,p=new vs(h,d,Object.freeze(C({},this.urlTree.queryParams)),this.urlTree.fragment,NT(i),bn(i),i.component??i._loadedComponent??null,i,RT(i)),g=uh(p,s,this.paramsInheritanceStrategy);p.params=Object.freeze(g.params),p.data=Object.freeze(g.data);let{segmentGroup:v,slicedSegments:w}=MT(n,h,f,c);if(w.length===0&&v.hasChildren())return this.processChildren(u,c,v,p).pipe(S(T=>new jt(p,T)));if(c.length===0&&w.length===0)return R(new jt(p,[]));let N=bn(i)===o;return this.processSegment(u,c,v,w,N?q:o,!0,p).pipe(S(T=>new jt(p,T instanceof jt?[T]:[])))}))):gs(n)))}getChildConfig(t,n,i){return n.children?R({routes:n.children,injector:t}):n.loadChildren?n._loadedRoutes!==void 0?R({routes:n._loadedRoutes,injector:n._loadedInjector}):b2(t,n,i,this.urlSerializer).pipe(we(r=>r?this.configLoader.loadChildren(t,n).pipe(Oe(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):D2(n))):R({routes:[],injector:t})}};function x2(e){e.sort((t,n)=>t.value.outlet===q?-1:n.value.outlet===q?1:t.value.outlet.localeCompare(n.value.outlet))}function P2(e){let t=e.value.routeConfig;return t&&t.path===""}function iS(e){let t=[],n=new Set;for(let i of e){if(!P2(i)){t.push(i);continue}let r=t.find(o=>i.value.routeConfig===o.value.routeConfig);r!==void 0?(r.children.push(...i.children),n.add(r)):t.push(i)}for(let i of n){let r=iS(i.children);t.push(new jt(i.value,r))}return t.filter(i=>!n.has(i))}function NT(e){return e.data||{}}function RT(e){return e.resolve||{}}function k2(e,t,n,i,r,o){return we(s=>R2(e,t,n,i,s.extractedUrl,r,o).pipe(S(({state:a,tree:l})=>Y(C({},s),{targetSnapshot:a,urlAfterRedirects:l}))))}function F2(e,t){return we(n=>{let{targetSnapshot:i,guards:{canActivateChecks:r}}=n;if(!r.length)return R(n);let o=new Set(r.map(l=>l.route)),s=new Set;for(let l of o)if(!s.has(l))for(let c of rS(l))s.add(c);let a=0;return ue(s).pipe(Rr(l=>o.has(l)?L2(l,i,e,t):(l.data=uh(l,l.parent,e).resolve,R(void 0))),Oe(()=>a++),jo(1),we(l=>a===s.size?R(n):$e))})}function rS(e){let t=e.children.map(n=>rS(n)).flat();return[e,...t]}function L2(e,t,n,i){let r=e.routeConfig,o=e._resolve;return r?.title!==void 0&&!QT(r)&&(o[gl]=r.title),V2(o,e,t,i).pipe(S(s=>(e._resolvedData=s,e.data=uh(e,e.parent,n).resolve,null)))}function V2(e,t,n,i){let r=B_(e);if(r.length===0)return R({});let o={};return ue(r).pipe(we(s=>B2(e[s],t,n,i).pipe(Kt(),Oe(a=>{if(a instanceof hl)throw hh(new ws,a);o[s]=a}))),jo(1),Da(o),Wi(s=>eS(s)?$e:Fo(s)))}function B2(e,t,n,i){let r=_l(t)??i,o=Is(e,r),s=o.resolve?o.resolve(t,n):Bn(r,()=>o(t,n));return sr(s)}function L_(e){return he(t=>{let n=e(t);return n?ue(n).pipe(S(()=>t)):R(t)})}var oS=(()=>{class e{buildTitle(n){let i,r=n.root;for(;r!==void 0;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===q);return i}getResolvedTitleForRoute(n){return n.data[gl]}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=D({token:e,factory:()=>m(j2),providedIn:"root"})}}return e})(),j2=(()=>{class e extends oS{constructor(n){super(),this.title=n}updateTitle(n){let i=this.buildTitle(n);i!==void 0&&this.title.setTitle(i)}static{this.\u0275fac=function(i){return new(i||e)(y(CT))}}static{this.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),bl=new E("",{providedIn:"root",factory:()=>({})}),U2=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=fe({type:e,selectors:[["ng-component"]],standalone:!0,features:[Ga],decls:1,vars:0,template:function(i,r){i&1&&xt(0,"router-outlet")},dependencies:[dv],encapsulation:2})}}return e})();function hv(e){let t=e.children&&e.children.map(hv),n=t?Y(C({},e),{children:t}):C({},e);return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==q&&(n.component=U2),n}var ph=new E(""),fv=(()=>{class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=m(Ud)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return R(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let i=sr(n.loadComponent()).pipe(S(sS),Oe(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),Bo(()=>{this.componentLoaders.delete(n)})),r=new Ro(i,()=>new re).pipe(No());return this.componentLoaders.set(n,r),r}loadChildren(n,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return R({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=H2(i,this.compiler,n,this.onLoadEndListener).pipe(Bo(()=>{this.childrenLoaders.delete(i)})),s=new Ro(o,()=>new re).pipe(No());return this.childrenLoaders.set(i,s),s}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function H2(e,t,n,i){return sr(e.loadChildren()).pipe(S(sS),we(r=>r instanceof xa||Array.isArray(r)?R(r):ue(t.compileModuleAsync(r))),S(r=>{i&&i(e);let o,s,a=!1;return Array.isArray(r)?(s=r,a=!0):(o=r.create(n).injector,s=o.get(ph,[],{optional:!0,self:!0}).flat()),{routes:s.map(hv),injector:o}}))}function $2(e){return e&&typeof e=="object"&&"default"in e}function sS(e){return $2(e)?e.default:e}var pv=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=D({token:e,factory:()=>m(W2),providedIn:"root"})}}return e})(),W2=(()=>{class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,i){return n}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),aS=new E(""),lS=new E("");function G2(e,t,n){let i=e.get(lS),r=e.get(Be);return e.get(H).runOutsideAngular(()=>{if(!r.startViewTransition||i.skipNextTransition)return i.skipNextTransition=!1,new Promise(c=>setTimeout(c));let o,s=new Promise(c=>{o=c}),a=r.startViewTransition(()=>(o(),z2(e))),{onViewTransitionCreated:l}=i;return l&&Bn(e,()=>l({transition:a,from:t,to:n})),s})}function z2(e){return new Promise(t=>{i_({read:()=>setTimeout(t)},{injector:e})})}var q2=new E(""),gv=(()=>{class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new re,this.transitionAbortSubject=new re,this.configLoader=m(fv),this.environmentInjector=m(dt),this.urlSerializer=m(ml),this.rootContexts=m(vl),this.location=m(fs),this.inputBindingEnabled=m(mh,{optional:!0})!==null,this.titleStrategy=m(oS),this.options=m(bl,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=m(pv),this.createViewTransition=m(aS,{optional:!0}),this.navigationErrorHandler=m(q2,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>R(void 0),this.rootComponentType=null;let n=r=>this.events.next(new q_(r)),i=r=>this.events.next(new Y_(r));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=n}complete(){this.transitions?.complete()}handleNavigationRequest(n){let i=++this.navigationId;this.transitions?.next(Y(C(C({},this.transitions.value),n),{id:i}))}setupNavigations(n,i,r){return this.transitions=new Ke({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:sl,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Le(o=>o.id!==0),S(o=>Y(C({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),he(o=>{let s=!1,a=!1;return R(o).pipe(he(l=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",Ut.SupersededByNewNavigation),$e;this.currentTransition=o,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,targetBrowserUrl:typeof l.extras.browserUrl=="string"?this.urlSerializer.parse(l.extras.browserUrl):l.extras.browserUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?Y(C({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let c=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),u=l.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!c&&u!=="reload"){let d="";return this.events.next(new or(l.id,this.urlSerializer.serialize(l.rawUrl),d,oh.IgnoredSameUrlNavigation)),l.resolve(!1),$e}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return R(l).pipe(he(d=>{let h=this.transitions?.getValue();return this.events.next(new Cs(d.id,this.urlSerializer.serialize(d.extractedUrl),d.source,d.restoredState)),h!==this.transitions?.getValue()?$e:Promise.resolve(d)}),k2(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),Oe(d=>{o.targetSnapshot=d.targetSnapshot,o.urlAfterRedirects=d.urlAfterRedirects,this.currentNavigation=Y(C({},this.currentNavigation),{finalUrl:d.urlAfterRedirects});let h=new sh(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(h)}));if(c&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:d,extractedUrl:h,source:f,restoredState:p,extras:g}=l,v=new Cs(d,this.urlSerializer.serialize(h),f,p);this.events.next(v);let w=YT(this.rootComponentType).snapshot;return this.currentTransition=o=Y(C({},l),{targetSnapshot:w,urlAfterRedirects:h,extras:Y(C({},g),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=h,R(o)}else{let d="";return this.events.next(new or(l.id,this.urlSerializer.serialize(l.extractedUrl),d,oh.IgnoredByUrlHandlingStrategy)),l.resolve(!1),$e}}),Oe(l=>{let c=new $_(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(c)}),S(l=>(this.currentTransition=o=Y(C({},l),{guards:t2(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),o)),h2(this.environmentInjector,l=>this.events.next(l)),Oe(l=>{if(o.guardsResult=l.guardsResult,l.guardsResult&&typeof l.guardsResult!="boolean")throw hh(this.urlSerializer,l.guardsResult);let c=new W_(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(c)}),Le(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",Ut.GuardRejected),!1)),L_(l=>{if(l.guards.canActivateChecks.length)return R(l).pipe(Oe(c=>{let u=new G_(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),he(c=>{let u=!1;return R(c).pipe(F2(this.paramsInheritanceStrategy,this.environmentInjector),Oe({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(c,"",Ut.NoDataFromResolver)}}))}),Oe(c=>{let u=new z_(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}))}),L_(l=>{let c=u=>{let d=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(u.routeConfig).pipe(Oe(h=>{u.component=h}),S(()=>{})));for(let h of u.children)d.push(...c(h));return d};return Vo(c(l.targetSnapshot.root)).pipe(Gi(null),Te(1))}),L_(()=>this.afterPreactivation()),he(()=>{let{currentSnapshot:l,targetSnapshot:c}=o,u=this.createViewTransition?.(this.environmentInjector,l.root,c.root);return u?ue(u).pipe(S(()=>o)):R(o)}),S(l=>{let c=QV(n.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=o=Y(C({},l),{targetRouterState:c}),this.currentNavigation.targetRouterState=c,o}),Oe(()=>{this.events.next(new ul)}),e2(this.rootContexts,n.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),Te(1),Oe({next:l=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Yn(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{s=!0}}),We(this.transitionAbortSubject.pipe(Oe(l=>{throw l}))),Bo(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",Ut.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),Wi(l=>{if(a=!0,XT(l))this.events.next(new wi(o.id,this.urlSerializer.serialize(o.extractedUrl),l.message,l.cancellationCode)),XV(l)?this.events.next(new Ds(l.url,l.navigationBehaviorOptions)):o.resolve(!1);else{let c=new cl(o.id,this.urlSerializer.serialize(o.extractedUrl),l,o.targetSnapshot??void 0);try{let u=Bn(this.environmentInjector,()=>this.navigationErrorHandler?.(c));if(u instanceof hl){let{message:d,cancellationCode:h}=hh(this.urlSerializer,u);this.events.next(new wi(o.id,this.urlSerializer.serialize(o.extractedUrl),d,h)),this.events.next(new Ds(u.redirectTo,u.navigationBehaviorOptions))}else{this.events.next(c);let d=n.errorHandler(l);o.resolve(!!d)}}catch(u){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(u)}}return $e}))}))}cancelNavigationTransition(n,i,r){let o=new wi(n.id,this.urlSerializer.serialize(n.extractedUrl),i,r);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==i?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function Y2(e){return e!==sl}var K2=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=D({token:e,factory:()=>m(Q2),providedIn:"root"})}}return e})(),cv=class{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}},Q2=(()=>{class e extends cv{static{this.\u0275fac=(()=>{let n;return function(r){return(n||(n=Vt(e)))(r||e)}})()}static{this.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),cS=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=D({token:e,factory:()=>m(Z2),providedIn:"root"})}}return e})(),Z2=(()=>{class e extends cS{constructor(){super(...arguments),this.location=m(fs),this.urlSerializer=m(ml),this.options=m(bl,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=m(pv),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Ci,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=YT(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(i=>{i.type==="popstate"&&n(i.url,i.state)})}handleRouterEvent(n,i){if(n instanceof Cs)this.stateMemento=this.createStateMemento();else if(n instanceof or)this.rawUrlTree=i.initialUrl;else if(n instanceof sh){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let r=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(i.targetBrowserUrl??r,i)}}else n instanceof ul?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&!i.extras.skipLocationChange&&this.setBrowserUrl(i.targetBrowserUrl??this.rawUrlTree,i)):n instanceof wi&&(n.code===Ut.GuardRejected||n.code===Ut.NoDataFromResolver)?this.restoreHistory(i):n instanceof cl?this.restoreHistory(i,!0):n instanceof Yn&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,i){let r=n instanceof Ci?this.urlSerializer.serialize(n):n;if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){let o=this.browserPageId,s=C(C({},i.extras.state),this.generateNgRouterState(i.id,o));this.location.replaceState(r,"",s)}else{let o=C(C({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(r,"",o)}}restoreHistory(n,i=!1){if(this.canceledNavigationResolution==="computed"){let r=this.browserPageId,o=this.currentPageId-r;o!==0?this.location.historyGo(o):this.currentUrlTree===n.finalUrl&&o===0&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,i){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:i}:{navigationId:n}}static{this.\u0275fac=(()=>{let n;return function(r){return(n||(n=Vt(e)))(r||e)}})()}static{this.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),rl=function(e){return e[e.COMPLETE=0]="COMPLETE",e[e.FAILED=1]="FAILED",e[e.REDIRECTING=2]="REDIRECTING",e}(rl||{});function uS(e,t){e.events.pipe(Le(n=>n instanceof Yn||n instanceof wi||n instanceof cl||n instanceof or),S(n=>n instanceof Yn||n instanceof or?rl.COMPLETE:(n instanceof wi?n.code===Ut.Redirect||n.code===Ut.SupersededByNewNavigation:!1)?rl.REDIRECTING:rl.FAILED),Le(n=>n!==rl.REDIRECTING),Te(1)).subscribe(()=>{t()})}function J2(e){throw e}var X2={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},eB={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},ke=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=m(Ld),this.stateManager=m(cS),this.options=m(bl,{optional:!0})||{},this.pendingTasks=m(rs),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=m(gv),this.urlSerializer=m(ml),this.location=m(fs),this.urlHandlingStrategy=m(pv),this._events=new re,this.errorHandler=this.options.errorHandler||J2,this.navigated=!1,this.routeReuseStrategy=m(K2),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=m(ph,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!m(mh,{optional:!0}),this.eventsSubscription=new Re,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(i=>{try{let r=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(r!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof wi&&i.code!==Ut.Redirect&&i.code!==Ut.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof Yn)this.navigated=!0;else if(i instanceof Ds){let s=i.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),l=C({browserUrl:r.extras.browserUrl,info:r.extras.info,skipLocationChange:r.extras.skipLocationChange,replaceUrl:r.extras.replaceUrl||this.urlUpdateStrategy==="eager"||Y2(r.source)},s);this.scheduleNavigation(a,sl,null,l,{resolve:r.resolve,reject:r.reject,promise:r.promise})}}nB(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),sl,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",i)},0)})}navigateToSyncWithBrowser(n,i,r){let o={replaceUrl:!0},s=r?.navigationId?r:null;if(r){let l=C({},r);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let a=this.parseUrl(n);this.scheduleNavigation(a,i,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(hv),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,i={}){let{relativeTo:r,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=i,c=l?this.currentUrlTree.fragment:s,u=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":u=C(C({},this.currentUrlTree.queryParams),o);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}u!==null&&(u=this.removeEmptyProps(u));let d;try{let h=r?r.snapshot:this.routerState.snapshot.root;d=WT(h)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),d=this.currentUrlTree.root}return GT(d,n,u,c??null)}navigateByUrl(n,i={skipLocationChange:!1}){let r=Jr(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,sl,null,i)}navigate(n,i={skipLocationChange:!1}){return tB(n),this.navigateByUrl(this.createUrlTree(n,i),i)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,i){let r;if(i===!0?r=C({},X2):i===!1?r=C({},eB):r=i,Jr(n))return ET(this.currentUrlTree,n,r);let o=this.parseUrl(n);return ET(this.currentUrlTree,o,r)}removeEmptyProps(n){return Object.entries(n).reduce((i,[r,o])=>(o!=null&&(i[r]=o),i),{})}scheduleNavigation(n,i,r,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,c;s?(a=s.resolve,l=s.reject,c=s.promise):c=new Promise((d,h)=>{a=d,l=h});let u=this.pendingTasks.add();return uS(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function tB(e){for(let t=0;t<e.length;t++)if(e[t]==null)throw new x(4008,!1)}function nB(e){return!(e instanceof ul)&&!(e instanceof Ds)}var vh=(()=>{class e{constructor(n,i,r,o,s,a){this.router=n,this.route=i,this.tabIndexAttribute=r,this.renderer=o,this.el=s,this.locationStrategy=a,this.href=null,this.onChanges=new re,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let l=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=n.events.subscribe(c=>{c instanceof Yn&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(n){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(n){n==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Jr(n)?this.routerLinkInput=n:this.routerLinkInput=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0"))}onClick(n,i,r,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(n!==0||i||r||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let n=this.urlTree;this.href=n!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n)):null;let i=this.href===null?null:SE(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(n,i){let r=this.renderer,o=this.el.nativeElement;i!==null?r.setAttribute(o,n,i):r.removeAttribute(o,n)}get urlTree(){return this.routerLinkInput===null?null:Jr(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(i){return new(i||e)(O(ke),O(wn),Id("tabindex"),O($n),O(Pe),O(bi))}}static{this.\u0275dir=ae({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,r){i&1&&Ge("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),i&2&&mn("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",rr],skipLocationChange:[2,"skipLocationChange","skipLocationChange",rr],replaceUrl:[2,"replaceUrl","replaceUrl",rr],routerLink:"routerLink"},standalone:!0,features:[n_,jn]})}}return e})();var gh=class{};var iB=(()=>{class e{constructor(n,i,r,o,s){this.router=n,this.injector=r,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(Le(n=>n instanceof Yn),Rr(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,i){let r=[];for(let o of i){o.providers&&!o._injector&&(o._injector=Pd(o.providers,n,`Route: ${o.path}`));let s=o._injector??n,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&r.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&r.push(this.processRoutes(a,o.children??o._loadedRoutes))}return ue(r).pipe(Hi())}preloadConfig(n,i){return this.preloadingStrategy.preload(i,()=>{let r;i.loadChildren&&i.canLoad===void 0?r=this.loader.loadChildren(n,i):r=R(null);let o=r.pipe(we(s=>s===null?R(void 0):(i._loadedRoutes=s.routes,i._loadedInjector=s.injector,this.processRoutes(s.injector??n,s.routes))));if(i.loadComponent&&!i._loadedComponent){let s=this.loader.loadComponent(i);return ue([o,s]).pipe(Hi())}else return o})}static{this.\u0275fac=function(i){return new(i||e)(y(ke),y(Ud),y(dt),y(gh),y(fv))}}static{this.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),dS=new E(""),rB=(()=>{class e{constructor(n,i,r,o,s={}){this.urlSerializer=n,this.transitions=i,this.viewportScroller=r,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Cs?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof Yn?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof or&&n.code===oh.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof ah&&(n.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(n.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new ah(n,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(i){$E()}}static{this.\u0275prov=D({token:e,factory:e.\u0275fac})}}return e})();function oB(e){return e.routerState.root}function wl(e,t){return{\u0275kind:e,\u0275providers:t}}function sB(){let e=m(Ae);return t=>{let n=e.get(Gn);if(t!==n.components[0])return;let i=e.get(ke),r=e.get(hS);e.get(mv)===1&&i.initialNavigation(),e.get(fS,null,K.Optional)?.setUpPreloading(),e.get(dS,null,K.Optional)?.init(),i.resetRootComponentType(n.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var hS=new E("",{factory:()=>new re}),mv=new E("",{providedIn:"root",factory:()=>1});function aB(){return wl(2,[{provide:mv,useValue:0},{provide:jd,multi:!0,deps:[Ae],useFactory:t=>{let n=t.get(tT,Promise.resolve());return()=>n.then(()=>new Promise(i=>{let r=t.get(ke),o=t.get(hS);uS(r,()=>{i(!0)}),t.get(gv).afterPreactivation=()=>(i(!0),o.closed?R(void 0):o),r.initialNavigation()}))}}])}function lB(){return wl(3,[{provide:jd,multi:!0,useFactory:()=>{let t=m(ke);return()=>{t.setUpLocationChangeListener()}}},{provide:mv,useValue:2}])}var fS=new E("");function cB(e){return wl(0,[{provide:fS,useExisting:iB},{provide:gh,useExisting:e}])}function uB(){return wl(8,[AT,{provide:mh,useExisting:AT}])}function dB(e){let t=[{provide:aS,useValue:G2},{provide:lS,useValue:C({skipNextTransition:!!e?.skipInitialTransition},e)}];return wl(9,t)}var OT=new E("ROUTER_FORROOT_GUARD"),hB=[fs,{provide:ml,useClass:ws},ke,vl,{provide:wn,useFactory:oB,deps:[ke]},fv,[]],_v=(()=>{class e{constructor(n){}static forRoot(n,i){return{ngModule:e,providers:[hB,[],{provide:ph,multi:!0,useValue:n},{provide:OT,useFactory:mB,deps:[[ke,new ot,new ym]]},{provide:bl,useValue:i||{}},i?.useHash?pB():gB(),fB(),i?.preloadingStrategy?cB(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?_B(i):[],i?.bindToComponentInputs?uB().\u0275providers:[],i?.enableViewTransitions?dB().\u0275providers:[],vB()]}}static forChild(n){return{ngModule:e,providers:[{provide:ph,multi:!0,useValue:n}]}}static{this.\u0275fac=function(i){return new(i||e)(y(OT,8))}}static{this.\u0275mod=ie({type:e})}static{this.\u0275inj=ne({})}}return e})();function fB(){return{provide:dS,useFactory:()=>{let e=m(hT),t=m(H),n=m(bl),i=m(gv),r=m(ml);return n.scrollOffset&&e.setOffset(n.scrollOffset),new rB(r,i,e,t,n)}}}function pB(){return{provide:bi,useClass:iT}}function gB(){return{provide:bi,useClass:E_}}function mB(e){return"guarded"}function _B(e){return[e.initialNavigation==="disabled"?lB().\u0275providers:[],e.initialNavigation==="enabledBlocking"?aB().\u0275providers:[]]}var xT=new E("");function vB(){return[{provide:xT,useFactory:sB},{provide:u_,multi:!0,useExisting:xT}]}var yh=class e{static \u0275fac=function(n){return new(n||e)};static \u0275cmp=fe({type:e,selectors:[["app-home"]],decls:5,vars:0,consts:[[1,"container","mt-5"]],template:function(n,i){n&1&&(M(0,"div",0)(1,"h1"),k(2,"Welcome to My Shop"),I(),M(3,"p"),k(4,"Browse our amazing products!"),I()())}})};var bh=class e{static \u0275fac=function(n){return new(n||e)};static \u0275cmp=fe({type:e,selectors:[["app-shopping-cart"]],decls:5,vars:0,consts:[[1,"container","mt-5"]],template:function(n,i){n&1&&(M(0,"div",0)(1,"h2"),k(2,"Shopping Cart"),I(),M(3,"p"),k(4,"Your cart is empty."),I()())}})};var wh=class e{static \u0275fac=function(n){return new(n||e)};static \u0275cmp=fe({type:e,selectors:[["app-products"]],decls:2,vars:0,template:function(n,i){n&1&&(M(0,"p"),k(1,"products works!"),I())}})};var Ch=class e{static \u0275fac=function(n){return new(n||e)};static \u0275cmp=fe({type:e,selectors:[["app-order-success"]],decls:2,vars:0,template:function(n,i){n&1&&(M(0,"p"),k(1,"order-success works!"),I())}})};var Dh=class e{static \u0275fac=function(n){return new(n||e)};static \u0275cmp=fe({type:e,selectors:[["app-my-orders"]],decls:2,vars:0,template:function(n,i){n&1&&(M(0,"p"),k(1,"my-orders works!"),I())}})};var pS=function(e){let t=[],n=0;for(let i=0;i<e.length;i++){let r=e.charCodeAt(i);r<128?t[n++]=r:r<2048?(t[n++]=r>>6|192,t[n++]=r&63|128):(r&64512)===55296&&i+1<e.length&&(e.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(e.charCodeAt(++i)&1023),t[n++]=r>>18|240,t[n++]=r>>12&63|128,t[n++]=r>>6&63|128,t[n++]=r&63|128):(t[n++]=r>>12|224,t[n++]=r>>6&63|128,t[n++]=r&63|128)}return t},yB=function(e){let t=[],n=0,i=0;for(;n<e.length;){let r=e[n++];if(r<128)t[i++]=String.fromCharCode(r);else if(r>191&&r<224){let o=e[n++];t[i++]=String.fromCharCode((r&31)<<6|o&63)}else if(r>239&&r<365){let o=e[n++],s=e[n++],a=e[n++],l=((r&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;t[i++]=String.fromCharCode(55296+(l>>10)),t[i++]=String.fromCharCode(56320+(l&1023))}else{let o=e[n++],s=e[n++];t[i++]=String.fromCharCode((r&15)<<12|(o&63)<<6|s&63)}}return t.join("")},gS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<e.length;r+=3){let o=e[r],s=r+1<e.length,a=s?e[r+1]:0,l=r+2<e.length,c=l?e[r+2]:0,u=o>>2,d=(o&3)<<4|a>>4,h=(a&15)<<2|c>>6,f=c&63;l||(f=64,s||(h=64)),i.push(n[u],n[d],n[h],n[f])}return i.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(pS(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):yB(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();let n=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<e.length;){let o=n[e.charAt(r++)],a=r<e.length?n[e.charAt(r)]:0;++r;let c=r<e.length?n[e.charAt(r)]:64;++r;let d=r<e.length?n[e.charAt(r)]:64;if(++r,o==null||a==null||c==null||d==null)throw new yv;let h=o<<2|a>>4;if(i.push(h),c!==64){let f=a<<4&240|c>>2;if(i.push(f),d!==64){let p=c<<6&192|d;i.push(p)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},yv=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},bB=function(e){let t=pS(e);return gS.encodeByteArray(t,!0)},wv=function(e){return bB(e).replace(/\./g,"")},Cv=function(e){try{return gS.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function wB(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var CB=()=>wB().__FIREBASE_DEFAULTS__,DB=()=>{if(typeof process>"u"||typeof process.env>"u")return;let e=process.env.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},EB=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let t=e&&Cv(e[1]);return t&&JSON.parse(t)},IB=()=>{try{return CB()||DB()||EB()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}};var mS=e=>{var t;return(t=IB())===null||t===void 0?void 0:t[`_${e}`]};function Ct(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function _S(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ct())}function vS(){let e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function yS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function bS(){try{return typeof indexedDB=="object"}catch{return!1}}function wS(){return new Promise((e,t)=>{try{let n=!0,i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),e(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var o;t(((o=r.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){t(n)}})}var TB="FirebaseError",Dn=class e extends Error{constructor(t,n,i){super(n),this.code=t,this.customData=i,this.name=TB,Object.setPrototypeOf(this,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Di.prototype.create)}},Di=class{constructor(t,n,i){this.service=t,this.serviceName=n,this.errors=i}create(t,...n){let i=n[0]||{},r=`${this.service}/${t}`,o=this.errors[t],s=o?SB(o,i):"Error",a=`${this.serviceName}: ${s} (${r}).`;return new Dn(r,a,i)}};function SB(e,t){return e.replace(AB,(n,i)=>{let r=t[i];return r!=null?String(r):`<${i}?>`})}var AB=/\{\$([^}]+)}/g;function CS(e){for(let t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Ts(e){let t=[];for(let[n,i]of Object.entries(e))Array.isArray(i)?i.forEach(r=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function DS(e,t){let n=new bv(e,t);return n.subscribe.bind(n)}var bv=class{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,i){let r;if(t===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");MB(t,["next","error","complete"])?r=t:r={next:t,error:n,complete:i},r.next===void 0&&(r.next=vv),r.error===void 0&&(r.error=vv),r.complete===void 0&&(r.complete=vv);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),o}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function MB(e,t){if(typeof e!="object"||e===null)return!1;for(let n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function vv(){}var EZ=4*60*60*1e3;function Cl(e){return e&&e._delegate?e._delegate:e}var Ei=class{constructor(t,n,i){this.name=t,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}};var NB=[],ve=function(e){return e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT",e}(ve||{}),RB={debug:ve.DEBUG,verbose:ve.VERBOSE,info:ve.INFO,warn:ve.WARN,error:ve.ERROR,silent:ve.SILENT},OB=ve.INFO,xB={[ve.DEBUG]:"log",[ve.VERBOSE]:"log",[ve.INFO]:"info",[ve.WARN]:"warn",[ve.ERROR]:"error"},PB=(e,t,...n)=>{if(t<e.logLevel)return;let i=new Date().toISOString(),r=xB[t];if(r)console[r](`[${i}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)},Ss=class{constructor(t){this.name=t,this._logLevel=OB,this._logHandler=PB,this._userLogHandler=null,NB.push(this)}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in ve))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?RB[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,ve.DEBUG,...t),this._logHandler(this,ve.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,ve.VERBOSE,...t),this._logHandler(this,ve.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,ve.INFO,...t),this._logHandler(this,ve.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,ve.WARN,...t),this._logHandler(this,ve.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,ve.ERROR,...t),this._logHandler(this,ve.ERROR,...t)}};var Ev=class{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(FB(n)){let i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}};function FB(e){let t=e.getComponent();return t?.type==="VERSION"}var Iv="@firebase/app",ES="0.9.26";var Xr=new Ss("@firebase/app"),LB="@firebase/app-compat",VB="@firebase/analytics-compat",BB="@firebase/analytics",jB="@firebase/app-check-compat",UB="@firebase/app-check",HB="@firebase/auth",$B="@firebase/auth-compat",WB="@firebase/database",GB="@firebase/database-compat",zB="@firebase/functions",qB="@firebase/functions-compat",YB="@firebase/installations",KB="@firebase/installations-compat",QB="@firebase/messaging",ZB="@firebase/messaging-compat",JB="@firebase/performance",XB="@firebase/performance-compat",ej="@firebase/remote-config",tj="@firebase/remote-config-compat",nj="@firebase/storage",ij="@firebase/storage-compat",rj="@firebase/firestore",oj="@firebase/firestore-compat",sj="firebase",aj="10.7.2";var lj={[Iv]:"fire-core",[LB]:"fire-core-compat",[BB]:"fire-analytics",[VB]:"fire-analytics-compat",[UB]:"fire-app-check",[jB]:"fire-app-check-compat",[HB]:"fire-auth",[$B]:"fire-auth-compat",[WB]:"fire-rtdb",[GB]:"fire-rtdb-compat",[zB]:"fire-fn",[qB]:"fire-fn-compat",[YB]:"fire-iid",[KB]:"fire-iid-compat",[QB]:"fire-fcm",[ZB]:"fire-fcm-compat",[JB]:"fire-perf",[XB]:"fire-perf-compat",[ej]:"fire-rc",[tj]:"fire-rc-compat",[nj]:"fire-gcs",[ij]:"fire-gcs-compat",[rj]:"fire-fst",[oj]:"fire-fst-compat","fire-js":"fire-js",[sj]:"fire-js-all"};var cj=new Map,IS=new Map;function uj(e,t){try{e.container.addComponent(t)}catch(n){Xr.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function Ms(e){let t=e.name;if(IS.has(t))return Xr.debug(`There were multiple attempts to register component ${t}.`),!1;IS.set(t,e);for(let n of cj.values())uj(n,e);return!0}var dj={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Av=new Di("app","Firebase",dj);var Ns=aj;function As(e,t,n){var i;let r=(i=lj[e])!==null&&i!==void 0?i:e;n&&(r+=`-${n}`);let o=r.match(/\s|\//),s=t.match(/\s|\//);if(o||s){let a=[`Unable to register library "${r}" with version "${t}":`];o&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Xr.warn(a.join(" "));return}Ms(new Ei(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}var hj="firebase-heartbeat-database",fj=1,Dl="firebase-heartbeat-store",Dv=null;function MS(){return Dv||(Dv=Tw(hj,fj,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Dl)}catch(n){console.warn(n)}}}}).catch(e=>{throw Av.create("idb-open",{originalErrorMessage:e.message})})),Dv}function pj(e){return _(this,null,function*(){try{return yield(yield MS()).transaction(Dl).objectStore(Dl).get(NS(e))}catch(t){if(t instanceof Dn)Xr.warn(t.message);else{let n=Av.create("idb-get",{originalErrorMessage:t?.message});Xr.warn(n.message)}}})}function TS(e,t){return _(this,null,function*(){try{let i=(yield MS()).transaction(Dl,"readwrite");yield i.objectStore(Dl).put(t,NS(e)),yield i.done}catch(n){if(n instanceof Dn)Xr.warn(n.message);else{let i=Av.create("idb-set",{originalErrorMessage:n?.message});Xr.warn(i.message)}}})}function NS(e){return`${e.name}!${e.options.appId}`}var gj=1024,mj=30*24*60*60*1e3,Tv=class{constructor(t){this.container=t,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new Sv(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}triggerHeartbeat(){return _(this,null,function*(){var t,n;let r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=SS();if(!(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)))return this._heartbeatsCache.heartbeats.push({date:o,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{let a=new Date(s.date).valueOf();return Date.now()-a<=mj}),this._storage.overwrite(this._heartbeatsCache)})}getHeartbeatsHeader(){return _(this,null,function*(){var t;if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=SS(),{heartbeatsToSend:i,unsentEntries:r}=_j(this._heartbeatsCache.heartbeats),o=wv(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o})}};function SS(){return new Date().toISOString().substring(0,10)}function _j(e,t=gj){let n=[],i=e.slice();for(let r of e){let o=n.find(s=>s.agent===r.agent);if(o){if(o.dates.push(r.date),AS(n)>t){o.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),AS(n)>t){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}var Sv=class{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return _(this,null,function*(){return bS()?wS().then(()=>!0).catch(()=>!1):!1})}read(){return _(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield pj(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(t){return _(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return TS(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return})}add(t){return _(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return TS(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return})}};function AS(e){return wv(JSON.stringify({version:2,heartbeats:e})).length}function vj(e){Ms(new Ei("platform-logger",t=>new Ev(t),"PRIVATE")),Ms(new Ei("heartbeat",t=>new Tv(t),"PRIVATE")),As(Iv,ES,e),As(Iv,ES,"esm2017"),As("fire-js","")}vj("");function US(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var HS=US,$S=new Di("auth","Firebase",US());var Mh=new Ss("@firebase/auth");function yj(e,...t){Mh.logLevel<=ve.WARN&&Mh.warn(`Auth (${Ns}): ${e}`,...t)}function Ih(e,...t){Mh.logLevel<=ve.ERROR&&Mh.error(`Auth (${Ns}): ${e}`,...t)}function Si(e,...t){throw Wv(e,...t)}function Kn(e,...t){return Wv(e,...t)}function WS(e,t,n){let i=Object.assign(Object.assign({},HS()),{[t]:n});return new Di("auth","Firebase",i).create(t,{appName:e.name})}function bj(e,t,n){let i=n;if(!(t instanceof i))throw i.name!==t.constructor.name&&Si(e,"argument-error"),WS(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Wv(e,...t){if(typeof e!="string"){let n=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=e.name),e._errorFactory.create(n,...i)}return $S.create(e,...t)}function G(e,t,...n){if(!e)throw Wv(t,...n)}function Ii(e){let t="INTERNAL ASSERTION FAILED: "+e;throw Ih(t),new Error(t)}function Ai(e,t){e||Ii(t)}function Rv(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.href)||""}function wj(){return RS()==="http:"||RS()==="https:"}function RS(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}function Cj(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(wj()||vS()||"connection"in navigator)?navigator.onLine:!0}function Dj(){if(typeof navigator>"u")return null;let e=navigator;return e.languages&&e.languages[0]||e.language||null}var eo=class{constructor(t,n){this.shortDelay=t,this.longDelay=n,Ai(n>t,"Short delay should be less than long delay!"),this.isMobile=_S()||yS()}get(){return Cj()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function Gv(e,t){Ai(e.emulator,"Emulator should always be set here");let{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}var Nh=class{static initialize(t,n,i){this.fetchImpl=t,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ii("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ii("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ii("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var Ej={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var Ij=new eo(3e4,6e4);function zv(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function Os(o,s,a,l){return _(this,arguments,function*(e,t,n,i,r={}){return GS(e,r,()=>_(this,null,function*(){let c={},u={};i&&(t==="GET"?u=i:c={body:JSON.stringify(i)});let d=Ts(Object.assign({key:e.config.apiKey},u)).slice(1),h=yield e._getAdditionalHeaders();return h["Content-Type"]="application/json",e.languageCode&&(h["X-Firebase-Locale"]=e.languageCode),Nh.fetch()(zS(e,e.config.apiHost,n,d),Object.assign({method:t,headers:h,referrerPolicy:"no-referrer"},c))}))})}function GS(e,t,n){return _(this,null,function*(){e._canInitEmulator=!1;let i=Object.assign(Object.assign({},Ej),t);try{let r=new Ov(e),o=yield Promise.race([n(),r.promise]);r.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw Eh(e,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Eh(e,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw Eh(e,"email-already-in-use",s);if(l==="USER_DISABLED")throw Eh(e,"user-disabled",s);let u=i[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw WS(e,u,c);Si(e,u)}}catch(r){if(r instanceof Dn)throw r;Si(e,"network-request-failed",{message:String(r)})}})}function Tj(o,s,a,l){return _(this,arguments,function*(e,t,n,i,r={}){let c=yield Os(e,t,n,i,r);return"mfaPendingCredential"in c&&Si(e,"multi-factor-auth-required",{_serverResponse:c}),c})}function zS(e,t,n,i){let r=`${t}${n}?${i}`;return e.config.emulator?Gv(e.config,r):`${e.config.apiScheme}://${r}`}var Ov=class{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Kn(this.auth,"network-request-failed")),Ij.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function Eh(e,t,n){let i={appName:e.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);let r=Kn(e,t,i);return r.customData._tokenResponse=n,r}function Sj(e,t){return _(this,null,function*(){return Os(e,"POST","/v1/accounts:delete",t)})}function Aj(e,t){return _(this,null,function*(){return Os(e,"POST","/v1/accounts:lookup",t)})}function El(e){if(e)try{let t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}function qS(e,t=!1){return _(this,null,function*(){let n=Cl(e),i=yield n.getIdToken(t),r=qv(i);G(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");let o=typeof r.firebase=="object"?r.firebase:void 0,s=o?.sign_in_provider;return{claims:r,token:i,authTime:El(Mv(r.auth_time)),issuedAtTime:El(Mv(r.iat)),expirationTime:El(Mv(r.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function Mv(e){return Number(e)*1e3}function qv(e){let[t,n,i]=e.split(".");if(t===void 0||n===void 0||i===void 0)return Ih("JWT malformed, contained fewer than 3 sections"),null;try{let r=Cv(n);return r?JSON.parse(r):(Ih("Failed to decode base64 JWT payload"),null)}catch(r){return Ih("Caught error parsing JWT payload as JSON",r?.toString()),null}}function Mj(e){let t=qv(e);return G(t,"internal-error"),G(typeof t.exp<"u","internal-error"),G(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}function Il(e,t,n=!1){return _(this,null,function*(){if(n)return t;try{return yield t}catch(i){throw i instanceof Dn&&Nj(i)&&e.auth.currentUser===e&&(yield e.auth.signOut()),i}})}function Nj({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}var xv=class{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){let i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;let r=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;let n=this.getInterval(t);this.timerId=setTimeout(()=>_(this,null,function*(){yield this.iteration()}),n)}iteration(){return _(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Rh=class{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=El(this.lastLoginAt),this.creationTime=El(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Oh(e){return _(this,null,function*(){var t;let n=e.auth,i=yield e.getIdToken(),r=yield Il(e,Aj(n,{idToken:i}));G(r?.users.length,n,"internal-error");let o=r.users[0];e._notifyReloadListener(o);let s=!((t=o.providerUserInfo)===null||t===void 0)&&t.length?Oj(o.providerUserInfo):[],a=Rj(e.providerData,s),l=e.isAnonymous,c=!(e.email&&o.passwordHash)&&!a?.length,u=l?c:!1,d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Rh(o.createdAt,o.lastLoginAt),isAnonymous:u};Object.assign(e,d)})}function YS(e){return _(this,null,function*(){let t=Cl(e);yield Oh(t),yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)})}function Rj(e,t){return[...e.filter(i=>!t.some(r=>r.providerId===i.providerId)),...t]}function Oj(e){return e.map(t=>{var{providerId:n}=t,i=Bc(t,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}function xj(e,t){return _(this,null,function*(){let n=yield GS(e,{},()=>_(this,null,function*(){let i=Ts({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:o}=e.config,s=zS(e,r,"/v1/token",`key=${o}`),a=yield e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Nh.fetch()(s,{method:"POST",headers:a,body:i})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function Pj(e,t){return _(this,null,function*(){return Os(e,"POST","/v2/accounts:revokeToken",zv(e,t))})}var xh=class e{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){G(t.idToken,"internal-error"),G(typeof t.idToken<"u","internal-error"),G(typeof t.refreshToken<"u","internal-error");let n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Mj(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}getToken(t,n=!1){return _(this,null,function*(){return G(!this.accessToken||this.refreshToken,t,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(yield this.refresh(t,this.refreshToken),this.accessToken):null})}clearRefreshToken(){this.refreshToken=null}refresh(t,n){return _(this,null,function*(){let{accessToken:i,refreshToken:r,expiresIn:o}=yield xj(t,n);this.updateTokensAndExpiration(i,r,Number(o))})}updateTokensAndExpiration(t,n,i){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,n){let{refreshToken:i,accessToken:r,expirationTime:o}=n,s=new e;return i&&(G(typeof i=="string","internal-error",{appName:t}),s.refreshToken=i),r&&(G(typeof r=="string","internal-error",{appName:t}),s.accessToken=r),o&&(G(typeof o=="number","internal-error",{appName:t}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new e,this.toJSON())}_performRefresh(){return Ii("not implemented")}};function lr(e,t){G(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}var Tl=class e{constructor(t){var{uid:n,auth:i,stsTokenManager:r}=t,o=Bc(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new xv(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Rh(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(t){return _(this,null,function*(){let n=yield Il(this,this.stsTokenManager.getToken(this.auth,t));return G(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(t){return qS(this,t)}reload(){return YS(this)}_assign(t){this!==t&&(G(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){let n=new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){G(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(t,n=!1){return _(this,null,function*(){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),n&&(yield Oh(this)),yield this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)})}delete(){return _(this,null,function*(){let t=yield this.getIdToken();return yield Il(this,Sj(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var i,r,o,s,a,l,c,u;let d=(i=n.displayName)!==null&&i!==void 0?i:void 0,h=(r=n.email)!==null&&r!==void 0?r:void 0,f=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,p=(s=n.photoURL)!==null&&s!==void 0?s:void 0,g=(a=n.tenantId)!==null&&a!==void 0?a:void 0,v=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,w=(c=n.createdAt)!==null&&c!==void 0?c:void 0,N=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:T,emailVerified:A,isAnonymous:V,providerData:j,stsTokenManager:se}=n;G(T&&se,t,"internal-error");let Ie=xh.fromJSON(this.name,se);G(typeof T=="string",t,"internal-error"),lr(d,t.name),lr(h,t.name),G(typeof A=="boolean",t,"internal-error"),G(typeof V=="boolean",t,"internal-error"),lr(f,t.name),lr(p,t.name),lr(g,t.name),lr(v,t.name),lr(w,t.name),lr(N,t.name);let Ce=new e({uid:T,auth:t,email:h,emailVerified:A,displayName:d,isAnonymous:V,photoURL:p,phoneNumber:f,tenantId:g,stsTokenManager:Ie,createdAt:w,lastLoginAt:N});return j&&Array.isArray(j)&&(Ce.providerData=j.map(Fe=>Object.assign({},Fe))),v&&(Ce._redirectEventId=v),Ce}static _fromIdTokenResponse(t,n,i=!1){return _(this,null,function*(){let r=new xh;r.updateFromServerResponse(n);let o=new e({uid:n.localId,auth:t,stsTokenManager:r,isAnonymous:i});return yield Oh(o),o})}};var OS=new Map;function Ti(e){Ai(e instanceof Function,"Expected a class definition");let t=OS.get(e);return t?(Ai(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,OS.set(e,t),t)}var kj=(()=>{class e{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return _(this,null,function*(){return!0})}_set(n,i){return _(this,null,function*(){this.storage[n]=i})}_get(n){return _(this,null,function*(){let i=this.storage[n];return i===void 0?null:i})}_remove(n){return _(this,null,function*(){delete this.storage[n]})}_addListener(n,i){}_removeListener(n,i){}}return e.type="NONE",e})(),Pv=kj;function Th(e,t,n){return`firebase:${e}:${t}:${n}`}var Ph=class e{constructor(t,n,i){this.persistence=t,this.auth=n,this.userKey=i;let{config:r,name:o}=this.auth;this.fullUserKey=Th(this.userKey,r.apiKey,o),this.fullPersistenceKey=Th("persistence",r.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}getCurrentUser(){return _(this,null,function*(){let t=yield this.persistence._get(this.fullUserKey);return t?Tl._fromJSON(this.auth,t):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(t){return _(this,null,function*(){if(this.persistence===t)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(t,n,i="authUser"){return _(this,null,function*(){if(!n.length)return new e(Ti(Pv),t,i);let r=(yield Promise.all(n.map(c=>_(this,null,function*(){if(yield c._isAvailable())return c})))).filter(c=>c),o=r[0]||Ti(Pv),s=Th(i,t.config.apiKey,t.name),a=null;for(let c of n)try{let u=yield c._get(s);if(u){let d=Tl._fromJSON(t,u);c!==o&&(a=d),o=c;break}}catch{}let l=r.filter(c=>c._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new e(o,t,i):(o=l[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(n.map(c=>_(this,null,function*(){if(c!==o)try{yield c._remove(s)}catch{}}))),new e(o,t,i))})}};function xS(e){let t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(JS(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(KS(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(e1(t))return"Blackberry";if(t1(t))return"Webos";if(QS(t))return"Safari";if((t.includes("chrome/")||ZS(t))&&!t.includes("edge/"))return"Chrome";if(XS(t))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=e.match(n);if(i?.length===2)return i[1]}return"Other"}function KS(e=Ct()){return/firefox\//i.test(e)}function QS(e=Ct()){let t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function ZS(e=Ct()){return/crios\//i.test(e)}function JS(e=Ct()){return/iemobile/i.test(e)}function XS(e=Ct()){return/android/i.test(e)}function e1(e=Ct()){return/blackberry/i.test(e)}function t1(e=Ct()){return/webos/i.test(e)}function Yv(e=Ct()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Fj(e=Ct()){var t;return Yv(e)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function Lj(e=Ct()){return Yv(e)||XS(e)||t1(e)||e1(e)||/windows phone/i.test(e)||JS(e)}function n1(e,t=[]){let n;switch(e){case"Browser":n=xS(Ct());break;case"Worker":n=`${xS(Ct())}-${e}`;break;default:n=e}let i=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ns}/${i}`}var kv=class{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){let i=o=>new Promise((s,a)=>{try{let l=t(o);s(l)}catch(l){a(l)}});i.onAbort=n,this.queue.push(i);let r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}runMiddleware(t){return _(this,null,function*(){if(this.auth.currentUser===t)return;let n=[];try{for(let i of this.queue)yield i(t),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(let r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})}};function Vj(n){return _(this,arguments,function*(e,t={}){return Os(e,"GET","/v2/passwordPolicy",zv(e,t))})}var Bj=6,Fv=class{constructor(t){var n,i,r,o;let s=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:Bj,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=t.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(o=t.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var n,i,r,o,s,a;let l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,l),this.validatePasswordCharacterOptions(t,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(i=l.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(r=l.containsLowercaseLetter)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(o=l.containsUppercaseLetter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(s=l.containsNumericCharacter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(t,n){let i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=t.length>=i),r&&(n.meetsMaxPasswordLength=t.length<=r)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let r=0;r<t.length;r++)i=t.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,n,i,r,o){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=o))}};var Lv=class{constructor(t,n,i,r){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new kh(this),this.idTokenSubscription=new kh(this),this.beforeStateQueue=new kv(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=$S,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Ti(n)),this._initializationPromise=this.queue(()=>_(this,null,function*(){var i,r;if(!this._deleted&&(this.persistenceManager=yield Ph.create(this,t),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return _(this,null,function*(){if(this._deleted)return;let t=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(t,!0)}})}initializeCurrentUser(t){return _(this,null,function*(){var n;let i=yield this.assertedPersistence.getCurrentUser(),r=i,o=!1;if(t&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=r?._redirectEventId,l=yield this.tryRedirectSignIn(t);(!s||s===a)&&l?.user&&(r=l.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(r)}catch(s){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return G(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)})}tryRedirectSignIn(t){return _(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(t){return _(this,null,function*(){try{yield Oh(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)})}useDeviceLanguage(){this.languageCode=Dj()}_delete(){return _(this,null,function*(){this._deleted=!0})}updateCurrentUser(t){return _(this,null,function*(){let n=t?Cl(t):null;return n&&G(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(t,n=!1){return _(this,null,function*(){if(!this._deleted)return t&&G(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(t)),this.queue(()=>_(this,null,function*(){yield this.directlySetCurrentUser(t),this.notifyAuthListeners()}))})}signOut(){return _(this,null,function*(){return yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0)})}setPersistence(t){return this.queue(()=>_(this,null,function*(){yield this.assertedPersistence.setPersistence(Ti(t))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(t){return _(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return _(this,null,function*(){let t=yield Vj(this),n=new Fv(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new Di("auth","Firebase",t())}onAuthStateChanged(t,n,i){return this.registerStateListener(this.authStateSubscription,t,n,i)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,i){return this.registerStateListener(this.idTokenSubscription,t,n,i)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{let i=this.onAuthStateChanged(()=>{i(),t()},n)}})}revokeAccessToken(t){return _(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),yield Pj(this,i)}})}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}_setRedirectUser(t,n){return _(this,null,function*(){let i=yield this.getOrInitRedirectPersistenceManager(n);return t===null?i.removeCurrentUser():i.setCurrentUser(t)})}getOrInitRedirectPersistenceManager(t){return _(this,null,function*(){if(!this.redirectPersistenceManager){let n=t&&Ti(t)||this._popupRedirectResolver;G(n,this,"argument-error"),this.redirectPersistenceManager=yield Ph.create(this,[Ti(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(t){return _(this,null,function*(){var n,i;return this._isInitialized&&(yield this.queue(()=>_(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===t?this.redirectUser:null})}_persistUserIfCurrent(t){return _(this,null,function*(){if(t===this.currentUser)return this.queue(()=>_(this,null,function*(){return this.directlySetCurrentUser(t)}))})}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let i=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,i,r){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(G(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){let l=t.addObserver(n,i,r);return()=>{s=!0,l()}}else{let l=t.addObserver(n);return()=>{s=!0,l()}}}directlySetCurrentUser(t){return _(this,null,function*(){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?yield this.assertedPersistence.setCurrentUser(t):yield this.assertedPersistence.removeCurrentUser()})}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return G(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=n1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return _(this,null,function*(){var t;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let i=yield(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader();i&&(n["X-Firebase-Client"]=i);let r=yield this._getAppCheckToken();return r&&(n["X-Firebase-AppCheck"]=r),n})}_getAppCheckToken(){return _(this,null,function*(){var t;let n=yield(t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken();return n?.error&&yj(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function Kv(e){return Cl(e)}var kh=class{constructor(t){this.auth=t,this.observer=null,this.addObserver=DS(n=>this.observer=n)}get next(){return G(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};function jj(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}function Uj(e){return new Promise((t,n)=>{let i=document.createElement("script");i.setAttribute("src",e),i.onload=t,i.onerror=r=>{let o=Kn("internal-error");o.customData=r,n(o)},i.type="text/javascript",i.charset="UTF-8",jj().appendChild(i)})}function i1(e){return`__${e}${Math.floor(Math.random()*1e6)}`}function Hj(e,t){let n=t?.persistence||[],i=(Array.isArray(n)?n:[n]).map(Ti);t?.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(i,t?.popupRedirectResolver)}var Sl=class{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Ii("not implemented")}_getIdTokenResponse(t){return Ii("not implemented")}_linkToIdToken(t,n){return Ii("not implemented")}_getReauthenticationResolver(t){return Ii("not implemented")}};function Rs(e,t){return _(this,null,function*(){return Tj(e,"POST","/v1/accounts:signInWithIdp",zv(e,t))})}var $j="http://localhost",Fh=class e extends Sl{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){let n=new e(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Si("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){let n=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:r}=n,o=Bc(n,["providerId","signInMethod"]);if(!i||!r)return null;let s=new e(i,r);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(t){let n=this.buildRequest();return Rs(t,n)}_linkToIdToken(t,n){let i=this.buildRequest();return i.idToken=n,Rs(t,i)}_getReauthenticationResolver(t){let n=this.buildRequest();return n.autoCreate=!1,Rs(t,n)}buildRequest(){let t={requestUri:$j,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{let n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Ts(n)}return t}};var Al=class{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}};var Lh=class extends Al{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}};var Qv=(()=>{class e extends Lh{constructor(){super("google.com"),this.addScope("profile")}static credential(n,i){return Fh._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.GOOGLE_SIGN_IN_METHOD,idToken:n,accessToken:i})}static credentialFromResult(n){return e.credentialFromTaggedObject(n)}static credentialFromError(n){return e.credentialFromTaggedObject(n.customData||{})}static credentialFromTaggedObject({_tokenResponse:n}){if(!n)return null;let{oauthIdToken:i,oauthAccessToken:r}=n;if(!i&&!r)return null;try{return e.credential(i,r)}catch{return null}}}e.GOOGLE_SIGN_IN_METHOD="google.com",e.PROVIDER_ID="google.com";return e})();var Ml=class e{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static _fromIdTokenResponse(t,n,i,r=!1){return _(this,null,function*(){let o=yield Tl._fromIdTokenResponse(t,i,r),s=PS(i);return new e({user:o,providerId:s,_tokenResponse:i,operationType:n})})}static _forOperation(t,n,i){return _(this,null,function*(){yield t._updateTokensIfNecessary(i,!0);let r=PS(i);return new e({user:t,providerId:r,_tokenResponse:i,operationType:n})})}};function PS(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}var Vv=class e extends Dn{constructor(t,n,i,r){var o;super(n.code,n.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,e.prototype),this.customData={appName:t.name,tenantId:(o=t.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,n,i,r){return new e(t,n,i,r)}};function r1(e,t,n,i){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Vv._fromErrorAndOperation(e,o,t,i):o})}function Wj(e,t,n=!1){return _(this,null,function*(){let i=yield Il(e,t._linkToIdToken(e.auth,yield e.getIdToken()),n);return Ml._forOperation(e,"link",i)})}function Gj(e,t,n=!1){return _(this,null,function*(){let{auth:i}=e,r="reauthenticate";try{let o=yield Il(e,r1(i,r,t,e),n);G(o.idToken,i,"internal-error");let s=qv(o.idToken);G(s,i,"internal-error");let{sub:a}=s;return G(e.uid===a,i,"user-mismatch"),Ml._forOperation(e,r,o)}catch(o){throw o?.code==="auth/user-not-found"&&Si(i,"user-mismatch"),o}})}function zj(e,t,n=!1){return _(this,null,function*(){let i="signIn",r=yield r1(e,i,t),o=yield Ml._fromIdTokenResponse(e,i,r);return n||(yield e._updateCurrentUser(o.user)),o})}var kS="__sak";var Bv=class{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(kS,"1"),this.storage.removeItem(kS),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){let n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}};var qj=(()=>{class e extends Bv{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,i){}_removeListener(n,i){}}return e.type="SESSION",e})(),o1=qj;function s1(e="",t=10){let n="";for(let i=0;i<t;i++)n+=Math.floor(Math.random()*10);return e+n}function cr(){return window}function Yj(e){cr().location.href=e}var XZ=i1("rcb"),eJ=new eo(3e4,6e4);function a1(e,t){return t?Ti(t):(G(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}var Nl=class extends Sl{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Rs(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Rs(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Rs(t,this._buildIdpRequest())}_buildIdpRequest(t){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}};function Kj(e){return zj(e.auth,new Nl(e),e.bypassAuthState)}function Qj(e){let{auth:t,user:n}=e;return G(n,t,"internal-error"),Gj(n,new Nl(e),e.bypassAuthState)}function Zj(e){return _(this,null,function*(){let{auth:t,user:n}=e;return G(n,t,"internal-error"),Wj(n,new Nl(e),e.bypassAuthState)})}var Vh=class{constructor(t,n,i,r,o=!1){this.auth=t,this.resolver=i,this.user=r,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((t,n)=>_(this,null,function*(){this.pendingPromise={resolve:t,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}}))}onAuthEvent(t){return _(this,null,function*(){let{urlResponse:n,sessionId:i,postBody:r,tenantId:o,error:s,type:a}=t;if(s){this.reject(s);return}let l={auth:this.auth,requestUri:n,sessionId:i,tenantId:o||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(l))}catch(c){this.reject(c)}})}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return Kj;case"linkViaPopup":case"linkViaRedirect":return Zj;case"reauthViaPopup":case"reauthViaRedirect":return Qj;default:Si(this.auth,"internal-error")}}resolve(t){Ai(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Ai(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var Jj=new eo(2e3,1e4);function Zv(e,t,n){return _(this,null,function*(){let i=Kv(e);bj(e,t,Al);let r=a1(i,n);return new Xj(i,"signInViaPopup",t,r).executeNotNull()})}var Xj=(()=>{class e extends Vh{constructor(n,i,r,o,s){super(n,i,o,s),this.provider=r,this.authWindow=null,this.pollId=null,e.currentPopupAction&&e.currentPopupAction.cancel(),e.currentPopupAction=this}executeNotNull(){return _(this,null,function*(){let n=yield this.execute();return G(n,this.auth,"internal-error"),n})}onExecution(){return _(this,null,function*(){Ai(this.filter.length===1,"Popup operations only handle one event");let n=s1();this.authWindow=yield this.resolver._openPopup(this.auth,this.provider,this.filter[0],n),this.authWindow.associatedEvent=n,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Kn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()})}get eventId(){var n;return((n=this.authWindow)===null||n===void 0?void 0:n.associatedEvent)||null}cancel(){this.reject(Kn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,e.currentPopupAction=null}pollUserCancellation(){let n=()=>{var i,r;if(!((r=(i=this.authWindow)===null||i===void 0?void 0:i.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Kn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(n,Jj.get())};n()}}e.currentPopupAction=null;return e})(),eU="pendingRedirect",Sh=new Map,jv=class e extends Vh{constructor(t,n,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}execute(){return _(this,null,function*(){let t=Sh.get(this.auth._key());if(!t){try{let i=(yield tU(this.resolver,this.auth))?yield Vc(e.prototype,this,"execute").call(this):null;t=()=>Promise.resolve(i)}catch(n){t=()=>Promise.reject(n)}Sh.set(this.auth._key(),t)}return this.bypassAuthState||Sh.set(this.auth._key(),()=>Promise.resolve(null)),t()})}onAuthEvent(t){return _(this,null,function*(){if(t.type==="signInViaRedirect")return Vc(e.prototype,this,"onAuthEvent").call(this,t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){let n=yield this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,Vc(e.prototype,this,"onAuthEvent").call(this,t);this.resolve(null)}})}onExecution(){return _(this,null,function*(){})}cleanUp(){}};function tU(e,t){return _(this,null,function*(){let n=rU(t),i=iU(e);if(!(yield i._isAvailable()))return!1;let r=(yield i._get(n))==="true";return yield i._remove(n),r})}function nU(e,t){Sh.set(e._key(),t)}function iU(e){return Ti(e._redirectPersistence)}function rU(e){return Th(eU,e.config.apiKey,e.name)}function oU(e,t,n=!1){return _(this,null,function*(){let i=Kv(e),r=a1(i,t),s=yield new jv(i,r,n).execute();return s&&!n&&(delete s.user._redirectEventId,yield i._persistUserIfCurrent(s.user),yield i._setRedirectUser(null,t)),s})}var sU=10*60*1e3,Uv=class{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(n=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!aU(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var i;if(t.error&&!l1(t)){let r=((i=t.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(Kn(this.auth,r))}else n.onAuthEvent(t)}isEventForConsumer(t,n){let i=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=sU&&this.cachedEventUids.clear(),this.cachedEventUids.has(FS(t))}saveEventToCache(t){this.cachedEventUids.add(FS(t)),this.lastProcessedEventTime=Date.now()}};function FS(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function l1({type:e,error:t}){return e==="unknown"&&t?.code==="auth/no-auth-event"}function aU(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return l1(e);default:return!1}}function lU(n){return _(this,arguments,function*(e,t={}){return Os(e,"GET","/v1/projects",t)})}var cU=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,uU=/^https?/;function dU(e){return _(this,null,function*(){if(e.config.emulator)return;let{authorizedDomains:t}=yield lU(e);for(let n of t)try{if(hU(n))return}catch{}Si(e,"unauthorized-domain")})}function hU(e){let t=Rv(),{protocol:n,hostname:i}=new URL(t);if(e.startsWith("chrome-extension://")){let s=new URL(e);return s.hostname===""&&i===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===i}if(!uU.test(n))return!1;if(cU.test(e))return i===e;let r=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}var fU=new eo(3e4,6e4);function LS(){let e=cr().___jsl;if(e?.H){for(let t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function pU(e){return new Promise((t,n)=>{var i,r,o;function s(){LS(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{LS(),n(Kn(e,"network-request-failed"))},timeout:fU.get()})}if(!((r=(i=cr().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)t(gapi.iframes.getContext());else if(!((o=cr().gapi)===null||o===void 0)&&o.load)s();else{let a=i1("iframefcb");return cr()[a]=()=>{gapi.load?s():n(Kn(e,"network-request-failed"))},Uj(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(t=>{throw Ah=null,t})}var Ah=null;function gU(e){return Ah=Ah||pU(e),Ah}var mU=new eo(5e3,15e3),_U="__/auth/iframe",vU="emulator/auth/iframe",yU={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},bU=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function wU(e){let t=e.config;G(t.authDomain,e,"auth-domain-config-required");let n=t.emulator?Gv(t,vU):`https://${e.config.authDomain}/${_U}`,i={apiKey:t.apiKey,appName:e.name,v:Ns},r=bU.get(e.config.apiHost);r&&(i.eid=r);let o=e._getFrameworks();return o.length&&(i.fw=o.join(",")),`${n}?${Ts(i).slice(1)}`}function CU(e){return _(this,null,function*(){let t=yield gU(e),n=cr().gapi;return G(n,e,"internal-error"),t.open({where:document.body,url:wU(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:yU,dontclear:!0},i=>new Promise((r,o)=>_(this,null,function*(){yield i.restyle({setHideOnLeave:!1});let s=Kn(e,"network-request-failed"),a=cr().setTimeout(()=>{o(s)},mU.get());function l(){cr().clearTimeout(a),r(i)}i.ping(l).then(l,()=>{o(s)})})))})}var DU={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},EU=500,IU=600,TU="_blank",SU="http://localhost",Bh=class{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function AU(e,t,n,i=EU,r=IU){let o=Math.max((window.screen.availHeight-r)/2,0).toString(),s=Math.max((window.screen.availWidth-i)/2,0).toString(),a="",l=Object.assign(Object.assign({},DU),{width:i.toString(),height:r.toString(),top:o,left:s}),c=Ct().toLowerCase();n&&(a=ZS(c)?TU:n),KS(c)&&(t=t||SU,l.scrollbars="yes");let u=Object.entries(l).reduce((h,[f,p])=>`${h}${f}=${p},`,"");if(Fj(c)&&a!=="_self")return MU(t||"",a),new Bh(null);let d=window.open(t||"",a,u);G(d,e,"popup-blocked");try{d.focus()}catch{}return new Bh(d)}function MU(e,t){let n=document.createElement("a");n.href=e,n.target=t;let i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}var NU="__/auth/handler",RU="emulator/auth/handler",OU=encodeURIComponent("fac");function VS(e,t,n,i,r,o){return _(this,null,function*(){G(e.config.authDomain,e,"auth-domain-config-required"),G(e.config.apiKey,e,"invalid-api-key");let s={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:i,v:Ns,eventId:r};if(t instanceof Al){t.setDefaultLanguage(e.languageCode),s.providerId=t.providerId||"",CS(t.getCustomParameters())||(s.customParameters=JSON.stringify(t.getCustomParameters()));for(let[u,d]of Object.entries(o||{}))s[u]=d}if(t instanceof Lh){let u=t.getScopes().filter(d=>d!=="");u.length>0&&(s.scopes=u.join(","))}e.tenantId&&(s.tid=e.tenantId);let a=s;for(let u of Object.keys(a))a[u]===void 0&&delete a[u];let l=yield e._getAppCheckToken(),c=l?`#${OU}=${encodeURIComponent(l)}`:"";return`${xU(e)}?${Ts(a).slice(1)}${c}`})}function xU({config:e}){return e.emulator?Gv(e,RU):`https://${e.authDomain}/${NU}`}var Nv="webStorageSupport",Hv=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=o1,this._completeRedirectFn=oU,this._overrideRedirectResult=nU}_openPopup(t,n,i,r){return _(this,null,function*(){var o;Ai((o=this.eventManagers[t._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield VS(t,n,i,Rv(),r);return AU(t,s,s1())})}_openRedirect(t,n,i,r){return _(this,null,function*(){yield this._originValidation(t);let o=yield VS(t,n,i,Rv(),r);return Yj(o),new Promise(()=>{})})}_initialize(t){let n=t._key();if(this.eventManagers[n]){let{manager:r,promise:o}=this.eventManagers[n];return r?Promise.resolve(r):(Ai(o,"If manager is not set, promise should be"),o)}let i=this.initAndGetManager(t);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}initAndGetManager(t){return _(this,null,function*(){let n=yield CU(t),i=new Uv(t);return n.register("authEvent",r=>(G(r?.authEvent,t,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=n,i})}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Nv,{type:Nv},r=>{var o;let s=(o=r?.[0])===null||o===void 0?void 0:o[Nv];s!==void 0&&n(!!s),Si(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){let n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=dU(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return Lj()||QS()||Yv()}},Jv=Hv;var BS="@firebase/auth",jS="1.5.1";var $v=class{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}getToken(t){return _(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(t)}:null})}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;let n=this.auth.onIdTokenChanged(i=>{t(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();let n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){G(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function PU(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function kU(e){Ms(new Ei("auth",(t,{options:n})=>{let i=t.getProvider("app").getImmediate(),r=t.getProvider("heartbeat"),o=t.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=i.options;G(s&&!s.includes(":"),"invalid-api-key",{appName:i.name});let l={apiKey:s,authDomain:a,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:n1(e)},c=new Lv(i,r,o,l);return Hj(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,i)=>{t.getProvider("auth-internal").initialize()})),Ms(new Ei("auth-internal",t=>{let n=Kv(t.getProvider("auth").getImmediate());return(i=>new $v(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),As(BS,jS,PU(e)),As(BS,jS,"esm2017")}var FU=5*60,tJ=mS("authIdTokenMaxAge")||FU;kU("Browser");var LU="firebase",VU="10.14.1";nt(LU,VU,"app");var no=new fi("ANGULARFIRE2_VERSION");function Uh(e,t,n){if(t){if(t.length===1)return t[0];let o=t.filter(s=>s.app===n);if(o.length===1)return o[0]}return n.container.getProvider(e).getImmediate({optional:!0})}var Rl=(e,t)=>{let n=t?[t]:ma(),i=[];return n.forEach(r=>{r.container.getProvider(e).instances.forEach(s=>{i.includes(s)||i.push(s)})}),i},Mi=class{constructor(){return Rl(jU)}},jU="app-check";function xs(){}var c1=class{zone;delegate;constructor(e,t=Zp){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,n){let i=this.zone,r=function(o){i.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(r,t,n)}},UU=class{zone;task=null;constructor(e){this.zone=e}call(e,t){let n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",xs,{},xs,xs)),t.pipe(Oe({next:n,complete:n,error:n})).subscribe(e).add(n)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Qn=class jh{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new c1(Zone.current)),this.insideAngular=n.run(()=>new c1(Zone.current,ji)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(i){return new(i||jh)(y(H))};static \u0275prov=D({token:jh,factory:jh.\u0275fac,providedIn:"root"})};function Hh(){let e=globalThis.\u0275AngularFireScheduler;if(!e)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return e}function HU(e){return Hh().ngZone.runOutsideAngular(()=>e())}function to(e){return Hh().ngZone.run(()=>e())}function En(e){return $U(Hh())(e)}function $U(e){return function(n){return n=n.lift(new UU(e.ngZone)),n.pipe(Yt(e.outsideAngular),Ft(e.insideAngular))}}var WU=(e,t)=>function(){let i=arguments;return t&&setTimeout(()=>{t.state==="scheduled"&&t.invoke()},10),to(()=>e.apply(void 0,i))},Ni=(e,t)=>function(){let n,i=arguments;for(let o=0;o<arguments.length;o++)typeof i[o]=="function"&&(t&&(n||=to(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",xs,{},xs,xs))),i[o]=WU(i[o],n));let r=HU(()=>e.apply(this,i));if(!t)if(r instanceof F){let o=Hh();return r.pipe(Yt(o.outsideAngular),Ft(o.insideAngular))}else return to(()=>r);return r instanceof F?r.pipe(En):r instanceof Promise?to(()=>new Promise((o,s)=>r.then(a=>to(()=>o(a)),a=>to(()=>s(a))))):typeof r=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),r.apply(this,arguments)}:to(()=>r)};var io=class{constructor(e){return e}},Ol=class{constructor(){return ma()}};function GU(e){return e&&e.length===1?e[0]:new io(Io())}var Xv=new E("angularfire2._apps"),zU={provide:io,useFactory:GU,deps:[[new ot,Xv]]},qU={provide:Ol,deps:[[new ot,Xv]]};function YU(e){return(t,n)=>{let i=n.get(ft);nt("angularfire",no.full,"core"),nt("angularfire",no.full,"app"),nt("angular",s_.full,i.toString());let r=t.runOutsideAngular(()=>e(n));return new io(r)}}function d1(e,...t){return Xi([zU,qU,{provide:Xv,useFactory:YU(e),multi:!0,deps:[H,Ae,Qn,...t]}])}var h1=Ni(Uw,!0);var f1="auth",xl=class{constructor(e){return e}},ey=class{constructor(){return Rl(f1)}};var ty=new E("angularfire2.auth-instances");function KH(e,t){let n=Uh(f1,e,t);return n&&new xl(n)}function QH(e){return(t,n)=>{let i=t.runOutsideAngular(()=>e(n));return new xl(i)}}var ZH={provide:ey,deps:[[new ot,ty]]},JH={provide:xl,useFactory:KH,deps:[[new ot,ty],io]};function p1(e,...t){return nt("angularfire",no.full,"auth"),Xi([JH,ZH,{provide:ty,useFactory:QH(e),multi:!0,deps:[H,Ae,Qn,Ol,[new ot,Mi],...t]}])}var g1=Ni(xp,!0);var m1="@firebase/database",_1="1.0.8";var f0="";function p0(e){f0=e}var cy=class{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,n){n==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),Ve(n))}get(t){let n=this.domStorage_.getItem(this.prefixedName_(t));return n==null?null:Hc(n)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}};var uy=class{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,n){n==null?delete this.cache_[t]:this.cache_[t]=n}get(t){return qt(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}};var Y1=function(e){try{if(typeof window<"u"&&typeof window[e]<"u"){let t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new cy(t)}}catch{}return new uy},oo=Y1("localStorage"),dy=Y1("sessionStorage");var Ls=new Eo("@firebase/database"),K1=function(){let e=1;return function(){return e++}}(),Q1=function(e){let t=Vw(e),n=new Lw;n.update(t);let i=n.digest();return Uc.encodeByteArray(i)},ic=function(...e){let t="";for(let n=0;n<e.length;n++){let i=e[n];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?t+=ic.apply(null,i):typeof i=="object"?t+=Ve(i):t+=i,t+=" "}return t},so=null,v1=!0,Z1=function(e,t){b(!t||e===!0||e===!1,"Can't turn on custom loggers persistently."),e===!0?(Ls.logLevel=Bw.VERBOSE,so=Ls.log.bind(Ls),t&&dy.set("logging_enabled",!0)):typeof e=="function"?so=e:(so=null,dy.remove("logging_enabled"))},Ze=function(...e){if(v1===!0&&(v1=!1,so===null&&dy.get("logging_enabled")===!0&&Z1(!0)),so){let t=ic.apply(null,e);so(t)}},rc=function(e){return function(...t){Ze(e,...t)}},hy=function(...e){let t="FIREBASE INTERNAL ERROR: "+ic(...e);Ls.error(t)},Xn=function(...e){let t=`FIREBASE FATAL ERROR: ${ic(...e)}`;throw Ls.error(t),new Error(t)},gt=function(...e){let t="FIREBASE WARNING: "+ic(...e);Ls.warn(t)},e$=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&gt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},_f=function(e){return typeof e=="number"&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},t$=function(e){if(Nn()||document.readyState==="complete")e();else{let t=!1,n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}t||(t=!0,e())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},fr="[MIN_NAME]",Ri="[MAX_NAME]",lo=function(e,t){if(e===t)return 0;if(e===fr||t===Ri)return-1;if(t===fr||e===Ri)return 1;{let n=y1(e),i=y1(t);return n!==null?i!==null?n-i===0?e.length-t.length:n-i:-1:i!==null?1:e<t?-1:1}},n$=function(e,t){return e===t?0:e<t?-1:1},Pl=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+Ve(t))},g0=function(e){if(typeof e!="object"||e===null)return Ve(e);let t=[];for(let i in e)t.push(i);t.sort();let n="{";for(let i=0;i<t.length;i++)i!==0&&(n+=","),n+=Ve(t[i]),n+=":",n+=g0(e[t[i]]);return n+="}",n},J1=function(e,t){let n=e.length;if(n<=t)return[e];let i=[];for(let r=0;r<n;r+=t)r+t>n?i.push(e.substring(r,n)):i.push(e.substring(r,r+t));return i};function Je(e,t){for(let n in e)e.hasOwnProperty(n)&&t(n,e[n])}var X1=function(e){b(!_f(e),"Invalid JSON number");let t=11,n=52,i=(1<<t-1)-1,r,o,s,a,l;e===0?(o=0,s=0,r=1/e===-1/0?1:0):(r=e<0,e=Math.abs(e),e>=Math.pow(2,1-i)?(a=Math.min(Math.floor(Math.log(e)/Math.LN2),i),o=a+i,s=Math.round(e*Math.pow(2,n-a)-Math.pow(2,n))):(o=0,s=Math.round(e/Math.pow(2,1-i-n))));let c=[];for(l=n;l;l-=1)c.push(s%2?1:0),s=Math.floor(s/2);for(l=t;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);c.push(r?1:0),c.reverse();let u=c.join(""),d="";for(l=0;l<64;l+=8){let h=parseInt(u.substr(l,8),2).toString(16);h.length===1&&(h="0"+h),d=d+h}return d.toLowerCase()},i$=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},r$=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function o$(e,t){let n="Unknown Error";e==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":e==="permission_denied"?n="Client doesn't have permission to access the desired data.":e==="unavailable"&&(n="The service is unavailable");let i=new Error(e+" at "+t._path.toString()+": "+n);return i.code=e.toUpperCase(),i}var s$=new RegExp("^-?(0*)\\d{1,10}$"),a$=-2147483648,l$=2147483647,y1=function(e){if(s$.test(e)){let t=Number(e);if(t>=a$&&t<=l$)return t}return null},zs=function(e){try{e()}catch(t){setTimeout(()=>{let n=t.stack||"";throw gt("Exception was thrown by user callback.",n),t},Math.floor(0))}},c$=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Vl=function(e,t){let n=setTimeout(e,t);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};var fy=class{constructor(t,n){this.appName_=t,this.appCheckProvider=n,this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(i=>this.appCheck=i)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((n,i)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(n,i):n(null)},0)})}addTokenChangeListener(t){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(i=>i.addTokenListener(t))}notifyForInvalidToken(){gt(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}};var py=class{constructor(t,n,i){this.appName_=t,this.firebaseOptions_=n,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(n=>n&&n.code==="auth/token-not-initialized"?(Ze("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,i)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(n,i):n(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(n=>n.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(n=>n.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',gt(t)}},Bl=(()=>{class e{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}e.OWNER="owner";return e})(),Wh="5",eA="v",tA="s",nA="r",iA="f",rA=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,oA="ls",sA="p",gy="ac",aA="websocket",lA="long_polling";var Gh=class{constructor(t,n,i,r,o=!1,s="",a=!1,l=!1){this.secure=n,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=o,this.persistenceKey=s,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=oo.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&oo.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){let t=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${n}`}};function u$(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams}function cA(e,t,n){b(typeof t=="string","typeof type must == string"),b(typeof n=="object","typeof params must == object");let i;if(t===aA)i=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else if(t===lA)i=(e.secure?"https://":"http://")+e.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);u$(e)&&(n.ns=e.namespace);let r=[];return Je(n,(o,s)=>{r.push(o+"="+s)}),i+r.join("&")}var my=class{constructor(){this.counters_={}}incrementCounter(t,n=1){qt(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=n}get(){return Aw(this.counters_)}};var ny={},iy={};function m0(e){let t=e.toString();return ny[t]||(ny[t]=new my),ny[t]}function d$(e,t){let n=e.toString();return iy[n]||(iy[n]=t()),iy[n]}var _y=class{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,n){this.closeAfterResponse=t,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,n){for(this.pendingResponses[t]=n;this.pendingResponses[this.currentResponseNum];){let i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&zs(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}};var b1="start",h$="close",f$="pLPCommand",p$="pRTLPCB",uA="id",dA="pw",hA="ser",g$="cb",m$="seg",_$="ts",v$="d",y$="dframe",fA=1870,pA=30,b$=fA-pA,w$=25e3,C$=3e4,$l=class e{constructor(t,n,i,r,o,s,a){this.connId=t,this.repoInfo=n,this.applicationId=i,this.appCheckToken=r,this.authToken=o,this.transportSessionId=s,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=rc(t),this.stats_=m0(n),this.urlFn=l=>(this.appCheckToken&&(l[gy]=this.appCheckToken),cA(n,lA,l))}open(t,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new _y(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(C$)),t$(()=>{if(this.isClosed_)return;this.scriptTagHolder=new vy((...o)=>{let[s,a,l,c,u]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,s===b1)this.id=a,this.password=l;else if(s===h$)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+s)},(...o)=>{let[s,a]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(s,a)},()=>{this.onClosed_()},this.urlFn);let i={};i[b1]="t",i[hA]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(i[g$]=this.scriptTagHolder.uniqueCallbackIdentifier),i[eA]=Wh,this.transportSessionId&&(i[tA]=this.transportSessionId),this.lastSessionId&&(i[oA]=this.lastSessionId),this.applicationId&&(i[sA]=this.applicationId),this.appCheckToken&&(i[gy]=this.appCheckToken),typeof location<"u"&&location.hostname&&rA.test(location.hostname)&&(i[nA]=iA);let r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){e.forceAllow_=!0}static forceDisallow(){e.forceDisallow_=!0}static isAvailable(){return Nn()?!1:e.forceAllow_?!0:!e.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!i$()&&!r$()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){let n=Ve(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);let i=Sw(n),r=J1(i,b$);for(let o=0;o<r.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[o]),this.curSegmentNum++}addDisconnectPingFrame(t,n){if(Nn())return;this.myDisconnFrame=document.createElement("iframe");let i={};i[y$]="t",i[uA]=t,i[dA]=n,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){let n=Ve(t).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}},vy=class e{constructor(t,n,i,r){if(this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0,Nn())this.commandCB=t,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=K1(),window[f$+this.uniqueCallbackIdentifier]=t,window[p$+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();let o="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(o='<script>document.domain="'+document.domain+'";<\/script>');let s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(a){Ze("frame writing exception"),a.stack&&Ze(a.stack),Ze(a)}}}static createIFrame_(){let t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||Ze("No IE domain setting required")}catch{let i=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));let t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,n){for(this.myID=t,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;let t={};t[uA]=this.myID,t[dA]=this.myPW,t[hA]=this.currentSerial;let n=this.urlFn(t),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+pA+i.length<=fA;){let s=this.pendingSegs.shift();i=i+"&"+m$+r+"="+s.seg+"&"+_$+r+"="+s.ts+"&"+v$+r+"="+s.d,r++}return n=n+i,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(t,n,i){this.pendingSegs.push({seg:t,ts:n,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(t,n){this.outstandingRequests.add(n);let i=()=>{this.outstandingRequests.delete(n),this.newRequest_()},r=setTimeout(i,Math.floor(w$)),o=()=>{clearTimeout(r),i()};this.addTag(t,o)}addTag(t,n){Nn()?this.doNodeLongPoll(t,n):setTimeout(()=>{try{if(!this.sendNewPolls)return;let i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,i.onload=i.onreadystatechange=function(){let r=i.readyState;(!r||r==="loaded"||r==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),n())},i.onerror=()=>{Ze("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}};var D$=16384,E$=45e3,zh=null;typeof MozWebSocket<"u"?zh=MozWebSocket:typeof WebSocket<"u"&&(zh=WebSocket);var ks=(()=>{class e{constructor(n,i,r,o,s,a,l){this.connId=n,this.applicationId=r,this.appCheckToken=o,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=rc(this.connId),this.stats_=m0(i),this.connURL=e.connectionURL_(i,a,l,o,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(n,i,r,o,s){let a={};return a[eA]=Wh,!Nn()&&typeof location<"u"&&location.hostname&&rA.test(location.hostname)&&(a[nA]=iA),i&&(a[tA]=i),r&&(a[oA]=r),o&&(a[gy]=o),s&&(a[sA]=s),cA(n,aA,a)}open(n,i){this.onDisconnect=i,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,oo.set("previous_websocket_failure",!0);try{let r;if(Nn()){let o=this.nodeAdmin?"AdminNode":"Node";r={headers:{"User-Agent":`Firebase/${Wh}/${f0}/${process.platform}/${o}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);let s=process.env,a=this.connURL.indexOf("wss://")===0?s.HTTPS_PROXY||s.https_proxy:s.HTTP_PROXY||s.http_proxy;a&&(r.proxy={origin:a})}this.mySock=new zh(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");let o=r.message||r.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");let o=r.message||r.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){e.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){let i=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(i);r&&r.length>1&&parseFloat(r[1])<4.4&&(n=!0)}return!n&&zh!==null&&!e.forceDisallow_}static previouslyFailed(){return oo.isInMemoryStorage||oo.get("previous_websocket_failure")===!0}markConnectionHealthy(){oo.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){let i=this.frames.join("");this.frames=null;let r=Hc(i);this.onMessage(r)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(b(this.frames===null,"We already have a frame buffer"),n.length<=6){let i=Number(n);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(this.mySock===null)return;let i=n.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(i);else{let r=this.extractFrameCount_(i);r!==null&&this.appendFrame_(r)}}send(n){this.resetKeepAlive();let i=Ve(n);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);let r=J1(i,D$);r.length>1&&this.sendString_(String(r.length));for(let o=0;o<r.length;o++)this.sendString_(r[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(E$))}sendString_(n){try{this.mySock.send(n)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}e.responsesRequiredToBeHealthy=2,e.healthyTimeout=3e4;return e})(),gA=(()=>{class e{constructor(n){this.initTransports_(n)}static get ALL_TRANSPORTS(){return[$l,ks]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(n){let i=ks&&ks.isAvailable(),r=i&&!ks.previouslyFailed();if(n.webSocketOnly&&(i||gt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[ks];else{let o=this.transports_=[];for(let s of e.ALL_TRANSPORTS)s&&s.isAvailable()&&o.push(s);e.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}e.globalTransportInitialized_=!1;return e})(),I$=6e4,T$=5e3,S$=10*1024,A$=100*1024,ry="t",w1="d",M$="s",C1="r",N$="e",D1="o",E1="a",I1="n",T1="p",R$="h",yy=class{constructor(t,n,i,r,o,s,a,l,c,u){this.id=t,this.repoInfo_=n,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=o,this.onMessage_=s,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=rc("c:"+this.id+":"),this.transportManager_=new gA(n),this.log_("Connection created"),this.start_()}start_(){let t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,i)},Math.floor(0));let r=t.healthyTimeout||0;r>0&&(this.healthyTimeout_=Vl(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>A$?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>S$?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return n=>{t===this.conn_?this.onConnectionLost_(n):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return n=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(n):t===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(t){let n={t:"d",d:t};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(ry in t){let n=t[ry];n===E1?this.upgradeIfSecondaryHealthy_():n===C1?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===D1&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){let n=Pl("t",t),i=Pl("d",t);if(n==="c")this.onSecondaryControl_(i);else if(n==="d")this.pendingDataMessages.push(i);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:T1,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:E1,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:I1,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){let n=Pl("t",t),i=Pl("d",t);n==="c"?this.onControl_(i):n==="d"&&this.onDataMessage_(i)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){let n=Pl(ry,t);if(w1 in t){let i=t[w1];if(n===R$){let r=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if(n===I1){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===M$?this.onConnectionShutdown_(i):n===C1?this.onReset_(i):n===N$?hy("Server Error: "+i):n===D1?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):hy("Unknown control packet command: "+n)}}onHandshake_(t){let n=t.ts,i=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.host=r,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Wh!==i&&gt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){let t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,i),Vl(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(I$))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,n){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Vl(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(T$))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:T1,d:{}}}))}onSecondaryConnectionLost_(){let t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(oo.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}};var qh=class{put(t,n,i,r){}merge(t,n,i,r){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,n,i){}onDisconnectMerge(t,n,i){}onDisconnectCancel(t,n){}reportStats(t){}};var Yh=class{constructor(t){this.allowedEvents_=t,this.listeners_={},b(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...n){if(Array.isArray(this.listeners_[t])){let i=[...this.listeners_[t]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,n)}}on(t,n,i){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:n,context:i});let r=this.getInitialEvent(t);r&&n.apply(i,r)}off(t,n,i){this.validateEventType_(t);let r=this.listeners_[t]||[];for(let o=0;o<r.length;o++)if(r[o].callback===n&&(!i||i===r[o].context)){r.splice(o,1);return}}validateEventType_(t){b(this.allowedEvents_.find(n=>n===t),"Unknown event: "+t)}};var Kh=class e extends Yh{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Mp()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new e}getInitialEvent(t){return b(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}};var S1=32,A1=768,ce=class{constructor(t,n){if(n===void 0){this.pieces_=t.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}toString(){let t="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(t+="/"+this.pieces_[n]);return t||"/"}};function le(){return new ce("")}function Z(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function pr(e){return e.pieces_.length-e.pieceNum_}function ye(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new ce(e.pieces_,t)}function _0(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function O$(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)e.pieces_[n]!==""&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}function Wl(e,t=0){return e.pieces_.slice(e.pieceNum_+t)}function mA(e){if(e.pieceNum_>=e.pieces_.length)return null;let t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new ce(t,0)}function De(e,t){let n=[];for(let i=e.pieceNum_;i<e.pieces_.length;i++)n.push(e.pieces_[i]);if(t instanceof ce)for(let i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);else{let i=t.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new ce(n,0)}function J(e){return e.pieceNum_>=e.pieces_.length}function Dt(e,t){let n=Z(e),i=Z(t);if(n===null)return t;if(n===i)return Dt(ye(e),ye(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function x$(e,t){let n=Wl(e,0),i=Wl(t,0);for(let r=0;r<n.length&&r<i.length;r++){let o=lo(n[r],i[r]);if(o!==0)return o}return n.length===i.length?0:n.length<i.length?-1:1}function v0(e,t){if(pr(e)!==pr(t))return!1;for(let n=e.pieceNum_,i=t.pieceNum_;n<=e.pieces_.length;n++,i++)if(e.pieces_[n]!==t.pieces_[i])return!1;return!0}function tn(e,t){let n=e.pieceNum_,i=t.pieceNum_;if(pr(e)>pr(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[i])return!1;++n,++i}return!0}var by=class{constructor(t,n){this.errorPrefix_=n,this.parts_=Wl(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=pa(this.parts_[i]);_A(this)}};function P$(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=pa(t),_A(e)}function k$(e){let t=e.parts_.pop();e.byteLength_-=pa(t),e.parts_.length>0&&(e.byteLength_-=1)}function _A(e){if(e.byteLength_>A1)throw new Error(e.errorPrefix_+"has a key path longer than "+A1+" bytes ("+e.byteLength_+").");if(e.parts_.length>S1)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+S1+") or object contains a cycle "+ro(e))}function ro(e){return e.parts_.length===0?"":"in property '"+e.parts_.join(".")+"'"}var wy=class e extends Yh{constructor(){super(["visible"]);let t,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{let i=!document[t];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new e}getInitialEvent(t){return b(t==="visible","Unknown event type: "+t),[this.visible_]}};var kl=1e3,F$=60*5*1e3,M1=30*1e3,L$=1.3,V$=3e4,B$="server_kill",N1=3,y0=(()=>{class e extends qh{constructor(n,i,r,o,s,a,l,c){if(super(),this.repoInfo_=n,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=o,this.onServerInfoUpdate_=s,this.authTokenProvider_=a,this.appCheckTokenProvider_=l,this.authOverride_=c,this.id=e.nextPersistentConnectionId_++,this.log_=rc("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=kl,this.maxReconnectDelay_=F$,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,c&&!Nn())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");wy.getInstance().on("visible",this.onVisible_,this),n.host.indexOf("fblocal")===-1&&Kh.getInstance().on("online",this.onOnline_,this)}sendRequest(n,i,r){let o=++this.requestNumber_,s={r:o,a:n,b:i};this.log_(Ve(s)),b(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[o]=r)}get(n){this.initConnection_();let i=new Ye,o={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:a=>{let l=a.d;a.s==="ok"?i.resolve(l):i.reject(l)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;let s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),i.promise}listen(n,i,r,o){this.initConnection_();let s=n._queryIdentifier,a=n._path.toString();this.log_("Listen called for "+a+" "+s),this.listens.has(a)||this.listens.set(a,new Map),b(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),b(!this.listens.get(a).has(s),"listen() called twice for same path/queryId.");let l={onComplete:o,hashFn:i,query:n,tag:r};this.listens.get(a).set(s,l),this.connected_&&this.sendListen_(l)}sendGet_(n){let i=this.outstandingGets_[n];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(n){let i=n.query,r=i._path.toString(),o=i._queryIdentifier;this.log_("Listen on "+r+" for "+o);let s={p:r},a="q";n.tag&&(s.q=i._queryObject,s.t=n.tag),s.h=n.hashFn(),this.sendRequest(a,s,l=>{let c=l.d,u=l.s;e.warnOnListenWarnings_(c,i),(this.listens.get(r)&&this.listens.get(r).get(o))===n&&(this.log_("listen response",l),u!=="ok"&&this.removeListen_(r,o),n.onComplete&&n.onComplete(u,c))})}static warnOnListenWarnings_(n,i){if(n&&typeof n=="object"&&qt(n,"w")){let r=Bi(n,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){let o='".indexOn": "'+i._queryParams.getIndex().toString()+'"',s=i._path.toString();gt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&n.length===40||kw(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=M1)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){let n=this.authToken_,i=Pw(n)?"auth":"gauth",r={cred:n};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(i,r,o=>{let s=o.s,a=o.d||"error";this.authToken_===n&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{let i=n.s,r=n.d||"error";i==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(n,i){let r=n._path.toString(),o=n._queryIdentifier;this.log_("Unlisten called for "+r+" "+o),b(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,o)&&this.connected_&&this.sendUnlisten_(r,o,n._queryObject,i)}sendUnlisten_(n,i,r,o){this.log_("Unlisten on "+n+" for "+i);let s={p:n},a="n";o&&(s.q=r,s.t=o),this.sendRequest(a,s)}onDisconnectPut(n,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,i,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:i,onComplete:r})}onDisconnectMerge(n,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,i,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:i,onComplete:r})}onDisconnectCancel(n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(n,i,r,o){let s={p:i,d:r};this.log_("onDisconnect "+n,s),this.sendRequest(n,s,a=>{o&&setTimeout(()=>{o(a.s,a.d)},Math.floor(0))})}put(n,i,r,o){this.putInternal("p",n,i,r,o)}merge(n,i,r,o){this.putInternal("m",n,i,r,o)}putInternal(n,i,r,o,s){this.initConnection_();let a={p:i,d:r};s!==void 0&&(a.h=s),this.outstandingPuts_.push({action:n,request:a,onComplete:o}),this.outstandingPutCount_++;let l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+i)}sendPut_(n){let i=this.outstandingPuts_[n].action,r=this.outstandingPuts_[n].request,o=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(i,r,s=>{this.log_(i+" response",s),delete this.outstandingPuts_[n],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(s.s,s.d)})}reportStats(n){if(this.connected_){let i={c:n};this.log_("reportStats",i),this.sendRequest("s",i,r=>{if(r.s!=="ok"){let s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+Ve(n));let i=n.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,i){this.log_("handleServerMessage",n,i),n==="d"?this.onDataUpdate_(i.p,i.d,!1,i.t):n==="m"?this.onDataUpdate_(i.p,i.d,!0,i.t):n==="c"?this.onListenRevoked_(i.p,i.q):n==="ac"?this.onAuthRevoked_(i.s,i.d):n==="apc"?this.onAppCheckRevoked_(i.s,i.d):n==="sd"?this.onSecurityDebugPacket_(i):hy("Unrecognized action received from server: "+Ve(n)+`
Are you using the latest client?`)}onReady_(n,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){b(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=kl,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=kl,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>V$&&(this.reconnectDelay_=kl),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());let n=new Date().getTime()-this.lastConnectionAttemptTime_,i=Math.max(0,this.reconnectDelay_-n);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*L$)}this.onConnectStatus_(!1)}establishConnection_(){return _(this,null,function*(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;let n=this.onDataMessage_.bind(this),i=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+e.nextConnectionId_++,s=this.lastSessionId,a=!1,l=null,c=function(){l?l.close():(a=!0,r())},u=function(h){b(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(h)};this.realtime_={close:c,sendRequest:u};let d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{let[h,f]=yield Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);a?Ze("getToken() completed but was canceled"):(Ze("getToken() completed. Creating connection."),this.authToken_=h&&h.accessToken,this.appCheckToken_=f&&f.token,l=new yy(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,i,r,p=>{gt(p+" ("+this.repoInfo_.toString()+")"),this.interrupt(B$)},s))}catch(h){this.log_("Failed to get token: "+h),a||(this.repoInfo_.nodeAdmin&&gt(h),c())}}})}interrupt(n){Ze("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){Ze("Resuming connection for reason: "+n),delete this.interruptReasons_[n],$c(this.interruptReasons_)&&(this.reconnectDelay_=kl,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){let i=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){let i=this.outstandingPuts_[n];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(n,i){let r;i?r=i.map(s=>g0(s)).join("$"):r="default";let o=this.removeListen_(n,r);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(n,i){let r=new ce(n).toString(),o;if(this.listens.has(r)){let s=this.listens.get(r);o=s.get(i),s.delete(i),s.size===0&&this.listens.delete(r)}else o=void 0;return o}onAuthRevoked_(n,i){Ze("Auth token revoked: "+n+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=N1&&(this.reconnectDelay_=M1,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,i){Ze("App check token revoked: "+n+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=N1&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(let n of this.listens.values())for(let i of n.values())this.sendListen_(i);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){let n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){let n={},i="js";Nn()&&(this.repoInfo_.nodeAdmin?i="admin_node":i="node"),n["sdk."+i+"."+f0.replace(/\./g,"-")]=1,Mp()?n["framework.cordova"]=1:Rw()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){let n=Kh.getInstance().currentlyOnline();return $c(this.interruptReasons_)&&n}}e.nextPersistentConnectionId_=0,e.nextConnectionId_=0;return e})(),ee=class e{constructor(t,n){this.name=t,this.node=n}static Wrap(t,n){return new e(t,n)}};var Vs=class{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,n){let i=new ee(fr,t),r=new ee(fr,n);return this.compare(i,r)!==0}minPost(){return ee.MIN}};var $h,Qh=class extends Vs{static get __EMPTY_NODE(){return $h}static set __EMPTY_NODE(t){$h=t}compare(t,n){return lo(t.name,n.name)}isDefinedOn(t){throw Do("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,n){return!1}minPost(){return ee.MIN}maxPost(){return new ee(Ri,$h)}makePost(t,n){return b(typeof t=="string","KeyIndex indexValue must always be a string."),new ee(t,$h)}toString(){return".key"}},Jn=new Qh;var Fs=class{constructor(t,n,i,r,o=null){this.isReverse_=r,this.resultGenerator_=o,this.nodeStack_=[];let s=1;for(;!t.isEmpty();)if(t=t,s=n?i(t.key,n):1,r&&(s*=-1),s<0)this.isReverse_?t=t.left:t=t.right;else if(s===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(t.key,t.value):n={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}},In=(()=>{class e{constructor(n,i,r,o,s){this.key=n,this.value=i,this.color=r??e.RED,this.left=o??nn.EMPTY_NODE,this.right=s??nn.EMPTY_NODE}copy(n,i,r,o,s){return new e(n??this.key,i??this.value,r??this.color,o??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,i,r){let o=this,s=r(n,o.key);return s<0?o=o.copy(null,null,null,o.left.insert(n,i,r),null):s===0?o=o.copy(null,i,null,null,null):o=o.copy(null,null,null,null,o.right.insert(n,i,r)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return nn.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,i){let r,o;if(r=this,i(n,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(n,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),i(n,r.key)===0){if(r.right.isEmpty())return nn.EMPTY_NODE;o=r.right.min_(),r=r.copy(o.key,o.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(n,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){let n=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){let n=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){let n=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,i)}checkMaxDepth_(){let n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");let n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}return e.RED=!0,e.BLACK=!1,e})(),Cy=class{copy(t,n,i,r,o){return this}insert(t,n,i){return new In(t,n,null)}remove(t,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}},nn=class e{constructor(t,n=e.EMPTY_NODE){this.comparator_=t,this.root_=n}insert(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,In.BLACK,null,null))}remove(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,In.BLACK,null,null))}get(t){let n,i=this.root_;for(;!i.isEmpty();){if(n=this.comparator_(t,i.key),n===0)return i.value;n<0?i=i.left:n>0&&(i=i.right)}return null}getPredecessorKey(t){let n,i=this.root_,r=null;for(;!i.isEmpty();)if(n=this.comparator_(t,i.key),n===0){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}else n<0?i=i.left:n>0&&(r=i,i=i.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new Fs(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,n){return new Fs(this.root_,t,this.comparator_,!1,n)}getReverseIteratorFrom(t,n){return new Fs(this.root_,t,this.comparator_,!0,n)}getReverseIterator(t){return new Fs(this.root_,null,this.comparator_,!0,t)}};nn.EMPTY_NODE=new Cy;function j$(e,t){return lo(e.name,t.name)}function b0(e,t){return lo(e,t)}var Dy;function U$(e){Dy=e}var vA=function(e){return typeof e=="number"?"number:"+X1(e):"string:"+e},yA=function(e){if(e.isLeafNode()){let t=e.val();b(typeof t=="string"||typeof t=="number"||typeof t=="object"&&qt(t,".sv"),"Priority must be a string or number.")}else b(e===Dy||e.isEmpty(),"priority of unexpected type.");b(e===Dy||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};var R1,Bs=(()=>{class e{constructor(n,i=e.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=i,this.lazyHash_=null,b(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),yA(this.priorityNode_)}static set __childrenNodeConstructor(n){R1=n}static get __childrenNodeConstructor(){return R1}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new e(this.value_,n)}getImmediateChild(n){return n===".priority"?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return J(n)?this:Z(n)===".priority"?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,i){return null}updateImmediateChild(n,i){return n===".priority"?this.updatePriority(i):i.isEmpty()&&n!==".priority"?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,i).updatePriority(this.priorityNode_)}updateChild(n,i){let r=Z(n);return r===null?i:i.isEmpty()&&r!==".priority"?this:(b(r!==".priority"||pr(n)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(ye(n),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,i){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+vA(this.priorityNode_.val())+":");let i=typeof this.value_;n+=i+":",i==="number"?n+=X1(this.value_):n+=this.value_,this.lazyHash_=Q1(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===e.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof e.__childrenNodeConstructor?-1:(b(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){let i=typeof n.value_,r=typeof this.value_,o=e.VALUE_TYPE_ORDER.indexOf(i),s=e.VALUE_TYPE_ORDER.indexOf(r);return b(o>=0,"Unknown leaf type: "+i),b(s>=0,"Unknown leaf type: "+r),o===s?r==="object"?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:s-o}withIndex(){return this}isIndexed(){return!0}equals(n){if(n===this)return!0;if(n.isLeafNode()){let i=n;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}else return!1}}e.VALUE_TYPE_ORDER=["object","boolean","number","string"];return e})(),bA,wA;function H$(e){bA=e}function $$(e){wA=e}var Ey=class extends Vs{compare(t,n){let i=t.node.getPriority(),r=n.node.getPriority(),o=i.compareTo(r);return o===0?lo(t.name,n.name):o}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,n){return!t.getPriority().equals(n.getPriority())}minPost(){return ee.MIN}maxPost(){return new ee(Ri,new Bs("[PRIORITY-POST]",wA))}makePost(t,n){let i=bA(t);return new ee(n,new Bs("[PRIORITY-POST]",i))}toString(){return".priority"}},be=new Ey;var W$=Math.log(2),Iy=class{constructor(t){let n=o=>parseInt(Math.log(o)/W$,10),i=o=>parseInt(Array(o+1).join("1"),2);this.count=n(t+1),this.current_=this.count-1;let r=i(this.count);this.bits_=t+1&r}nextBitIsOne(){let t=!(this.bits_&1<<this.current_);return this.current_--,t}},Zh=function(e,t,n,i){e.sort(t);let r=function(l,c){let u=c-l,d,h;if(u===0)return null;if(u===1)return d=e[l],h=n?n(d):d,new In(h,d.node,In.BLACK,null,null);{let f=parseInt(u/2,10)+l,p=r(l,f),g=r(f+1,c);return d=e[f],h=n?n(d):d,new In(h,d.node,In.BLACK,p,g)}},o=function(l){let c=null,u=null,d=e.length,h=function(p,g){let v=d-p,w=d;d-=p;let N=r(v+1,w),T=e[v],A=n?n(T):T;f(new In(A,T.node,g,null,N))},f=function(p){c?(c.left=p,c=p):(u=p,c=p)};for(let p=0;p<l.count;++p){let g=l.nextBitIsOne(),v=Math.pow(2,l.count-(p+1));g?h(v,In.BLACK):(h(v,In.BLACK),h(v,In.RED))}return u},s=new Iy(e.length),a=o(s);return new nn(i||t,a)};var oy,Ps={},js=class e{constructor(t,n){this.indexes_=t,this.indexSet_=n}static get Default(){return b(Ps&&be,"ChildrenNode.ts has not been loaded"),oy=oy||new e({".priority":Ps},{".priority":be}),oy}get(t){let n=Bi(this.indexes_,t);if(!n)throw new Error("No index defined for "+t);return n instanceof nn?n:null}hasIndex(t){return qt(this.indexSet_,t.toString())}addIndex(t,n){b(t!==Jn,"KeyIndex always exists and isn't meant to be added to the IndexMap.");let i=[],r=!1,o=n.getIterator(ee.Wrap),s=o.getNext();for(;s;)r=r||t.isDefinedOn(s.node),i.push(s),s=o.getNext();let a;r?a=Zh(i,t.getCompare()):a=Ps;let l=t.toString(),c=Object.assign({},this.indexSet_);c[l]=t;let u=Object.assign({},this.indexes_);return u[l]=a,new e(u,c)}addToIndexes(t,n){let i=fa(this.indexes_,(r,o)=>{let s=Bi(this.indexSet_,o);if(b(s,"Missing index implementation for "+o),r===Ps)if(s.isDefinedOn(t.node)){let a=[],l=n.getIterator(ee.Wrap),c=l.getNext();for(;c;)c.name!==t.name&&a.push(c),c=l.getNext();return a.push(t),Zh(a,s.getCompare())}else return Ps;else{let a=n.get(t.name),l=r;return a&&(l=l.remove(new ee(t.name,a))),l.insert(t,t.node)}});return new e(i,this.indexSet_)}removeFromIndexes(t,n){let i=fa(this.indexes_,r=>{if(r===Ps)return r;{let o=n.get(t.name);return o?r.remove(new ee(t.name,o)):r}});return new e(i,this.indexSet_)}};var Fl,W=(()=>{class e{constructor(n,i,r){this.children_=n,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&yA(this.priorityNode_),this.children_.isEmpty()&&b(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Fl||(Fl=new e(new nn(b0),null,js.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Fl}updatePriority(n){return this.children_.isEmpty()?this:new e(this.children_,n,this.indexMap_)}getImmediateChild(n){if(n===".priority")return this.getPriority();{let i=this.children_.get(n);return i===null?Fl:i}}getChild(n){let i=Z(n);return i===null?this:this.getImmediateChild(i).getChild(ye(n))}hasChild(n){return this.children_.get(n)!==null}updateImmediateChild(n,i){if(b(i,"We should always be passing snapshot nodes"),n===".priority")return this.updatePriority(i);{let r=new ee(n,i),o,s;i.isEmpty()?(o=this.children_.remove(n),s=this.indexMap_.removeFromIndexes(r,this.children_)):(o=this.children_.insert(n,i),s=this.indexMap_.addToIndexes(r,this.children_));let a=o.isEmpty()?Fl:this.priorityNode_;return new e(o,a,s)}}updateChild(n,i){let r=Z(n);if(r===null)return i;{b(Z(n)!==".priority"||pr(n)===1,".priority must be the last token in a path");let o=this.getImmediateChild(r).updateChild(ye(n),i);return this.updateImmediateChild(r,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;let i={},r=0,o=0,s=!0;if(this.forEachChild(be,(a,l)=>{i[a]=l.val(n),r++,s&&e.INTEGER_REGEXP_.test(a)?o=Math.max(o,Number(a)):s=!1}),!n&&s&&o<2*r){let a=[];for(let l in i)a[l]=i[l];return a}else return n&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(this.lazyHash_===null){let n="";this.getPriority().isEmpty()||(n+="priority:"+vA(this.getPriority().val())+":"),this.forEachChild(be,(i,r)=>{let o=r.hash();o!==""&&(n+=":"+i+":"+o)}),this.lazyHash_=n===""?"":Q1(n)}return this.lazyHash_}getPredecessorChildName(n,i,r){let o=this.resolveIndex_(r);if(o){let s=o.getPredecessorKey(new ee(n,i));return s?s.name:null}else return this.children_.getPredecessorKey(n)}getFirstChildName(n){let i=this.resolveIndex_(n);if(i){let r=i.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(n){let i=this.getFirstChildName(n);return i?new ee(i,this.children_.get(i)):null}getLastChildName(n){let i=this.resolveIndex_(n);if(i){let r=i.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(n){let i=this.getLastChildName(n);return i?new ee(i,this.children_.get(i)):null}forEachChild(n,i){let r=this.resolveIndex_(n);return r?r.inorderTraversal(o=>i(o.name,o.node)):this.children_.inorderTraversal(i)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,i){let r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(n,o=>o);{let o=this.children_.getIteratorFrom(n.name,ee.Wrap),s=o.peek();for(;s!=null&&i.compare(s,n)<0;)o.getNext(),s=o.peek();return o}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,i){let r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(n,o=>o);{let o=this.children_.getReverseIteratorFrom(n.name,ee.Wrap),s=o.peek();for(;s!=null&&i.compare(s,n)>0;)o.getNext(),s=o.peek();return o}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===oc?-1:0}withIndex(n){if(n===Jn||this.indexMap_.hasIndex(n))return this;{let i=this.indexMap_.addIndex(n,this.children_);return new e(this.children_,this.priorityNode_,i)}}isIndexed(n){return n===Jn||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{let i=n;if(this.getPriority().equals(i.getPriority()))if(this.children_.count()===i.children_.count()){let r=this.getIterator(be),o=i.getIterator(be),s=r.getNext(),a=o.getNext();for(;s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=r.getNext(),a=o.getNext()}return s===null&&a===null}else return!1;else return!1}}resolveIndex_(n){return n===Jn?null:this.indexMap_.get(n.toString())}}return e.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,e})(),Ty=class extends W{constructor(){super(new nn(b0),W.EMPTY_NODE,js.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return W.EMPTY_NODE}isEmpty(){return!1}},oc=new Ty;Object.defineProperties(ee,{MIN:{value:new ee(fr,W.EMPTY_NODE)},MAX:{value:new ee(Ri,oc)}});Qh.__EMPTY_NODE=W.EMPTY_NODE;Bs.__childrenNodeConstructor=W;U$(oc);$$(oc);var G$=!0;function Ne(e,t=null){if(e===null)return W.EMPTY_NODE;if(typeof e=="object"&&".priority"in e&&(t=e[".priority"]),b(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof e=="object"&&".value"in e&&e[".value"]!==null&&(e=e[".value"]),typeof e!="object"||".sv"in e){let n=e;return new Bs(n,Ne(t))}if(!(e instanceof Array)&&G$){let n=[],i=!1;if(Je(e,(s,a)=>{if(s.substring(0,1)!=="."){let l=Ne(a);l.isEmpty()||(i=i||!l.getPriority().isEmpty(),n.push(new ee(s,l)))}}),n.length===0)return W.EMPTY_NODE;let o=Zh(n,j$,s=>s.name,b0);if(i){let s=Zh(n,be.getCompare());return new W(o,Ne(t),new js({".priority":s},{".priority":be}))}else return new W(o,Ne(t),js.Default)}else{let n=W.EMPTY_NODE;return Je(e,(i,r)=>{if(qt(e,i)&&i.substring(0,1)!=="."){let o=Ne(r);(o.isLeafNode()||!o.isEmpty())&&(n=n.updateImmediateChild(i,o))}}),n.updatePriority(Ne(t))}}H$(Ne);var Gl=class extends Vs{constructor(t){super(),this.indexPath_=t,b(!J(t)&&Z(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,n){let i=this.extractChild(t.node),r=this.extractChild(n.node),o=i.compareTo(r);return o===0?lo(t.name,n.name):o}makePost(t,n){let i=Ne(t),r=W.EMPTY_NODE.updateChild(this.indexPath_,i);return new ee(n,r)}maxPost(){let t=W.EMPTY_NODE.updateChild(this.indexPath_,oc);return new ee(Ri,t)}toString(){return Wl(this.indexPath_,0).join("/")}};var Sy=class extends Vs{compare(t,n){let i=t.node.compareTo(n.node);return i===0?lo(t.name,n.name):i}isDefinedOn(t){return!0}indexedValueChanged(t,n){return!t.equals(n)}minPost(){return ee.MIN}maxPost(){return ee.MAX}makePost(t,n){let i=Ne(t);return new ee(n,i)}toString(){return".value"}},w0=new Sy;function CA(e){return{type:"value",snapshotNode:e}}function Us(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function zl(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function ql(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}function z$(e,t){return{type:"child_moved",snapshotNode:t,childName:e}}var Yl=class{constructor(t){this.index_=t}updateChild(t,n,i,r,o,s){b(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");let a=t.getImmediateChild(n);return a.getChild(r).equals(i.getChild(r))&&a.isEmpty()===i.isEmpty()||(s!=null&&(i.isEmpty()?t.hasChild(n)?s.trackChildChange(zl(n,a)):b(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?s.trackChildChange(Us(n,i)):s.trackChildChange(ql(n,i,a))),t.isLeafNode()&&i.isEmpty())?t:t.updateImmediateChild(n,i).withIndex(this.index_)}updateFullNode(t,n,i){return i!=null&&(t.isLeafNode()||t.forEachChild(be,(r,o)=>{n.hasChild(r)||i.trackChildChange(zl(r,o))}),n.isLeafNode()||n.forEachChild(be,(r,o)=>{if(t.hasChild(r)){let s=t.getImmediateChild(r);s.equals(o)||i.trackChildChange(ql(r,o,s))}else i.trackChildChange(Us(r,o))})),n.withIndex(this.index_)}updatePriority(t,n){return t.isEmpty()?W.EMPTY_NODE:t.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}};var Jh=class e{constructor(t){this.indexedFilter_=new Yl(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){let n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,i=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return n&&i}updateChild(t,n,i,r,o,s){return this.matches(new ee(n,i))||(i=W.EMPTY_NODE),this.indexedFilter_.updateChild(t,n,i,r,o,s)}updateFullNode(t,n,i){n.isLeafNode()&&(n=W.EMPTY_NODE);let r=n.withIndex(this.index_);r=r.updatePriority(W.EMPTY_NODE);let o=this;return n.forEachChild(be,(s,a)=>{o.matches(new ee(s,a))||(r=r.updateImmediateChild(s,W.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,r,i)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){let n=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),n)}else return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){let n=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),n)}else return t.getIndex().maxPost()}};var Ay=class{constructor(t){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{let i=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=n=>{let i=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new Jh(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,n,i,r,o,s){return this.rangedFilter_.matches(new ee(n,i))||(i=W.EMPTY_NODE),t.getImmediateChild(n).equals(i)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,n,i,r,o,s):this.fullLimitUpdateChild_(t,n,i,o,s)}updateFullNode(t,n,i){let r;if(n.isLeafNode()||n.isEmpty())r=W.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){r=W.EMPTY_NODE.withIndex(this.index_);let o;this.reverse_?o=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):o=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let s=0;for(;o.hasNext()&&s<this.limit_;){let a=o.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))r=r.updateImmediateChild(a.name,a.node),s++;else break;else continue}}else{r=n.withIndex(this.index_),r=r.updatePriority(W.EMPTY_NODE);let o;this.reverse_?o=r.getReverseIterator(this.index_):o=r.getIterator(this.index_);let s=0;for(;o.hasNext();){let a=o.getNext();s<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?s++:r=r.updateImmediateChild(a.name,W.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,i)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,n,i,r,o){let s;if(this.reverse_){let d=this.index_.getCompare();s=(h,f)=>d(f,h)}else s=this.index_.getCompare();let a=t;b(a.numChildren()===this.limit_,"");let l=new ee(n,i),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(l);if(a.hasChild(n)){let d=a.getImmediateChild(n),h=r.getChildAfterChild(this.index_,c,this.reverse_);for(;h!=null&&(h.name===n||a.hasChild(h.name));)h=r.getChildAfterChild(this.index_,h,this.reverse_);let f=h==null?1:s(h,l);if(u&&!i.isEmpty()&&f>=0)return o?.trackChildChange(ql(n,i,d)),a.updateImmediateChild(n,i);{o?.trackChildChange(zl(n,d));let g=a.updateImmediateChild(n,W.EMPTY_NODE);return h!=null&&this.rangedFilter_.matches(h)?(o?.trackChildChange(Us(h.name,h.node)),g.updateImmediateChild(h.name,h.node)):g}}else return i.isEmpty()?t:u&&s(c,l)>=0?(o!=null&&(o.trackChildChange(zl(c.name,c.node)),o.trackChildChange(Us(n,i))),a.updateImmediateChild(n,i).updateImmediateChild(c.name,W.EMPTY_NODE)):t}};var Kl=class e{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=be}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return b(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return b(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:fr}hasEnd(){return this.endSet_}getIndexEndValue(){return b(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return b(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Ri}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return b(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===be}copy(){let t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}};function q$(e){return e.loadsAllData()?new Yl(e.getIndex()):e.hasLimit()?new Ay(e):new Jh(e)}function Y$(e,t){let n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="l",n}function K$(e,t){let n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="r",n}function My(e,t,n){let i=e.copy();return i.startSet_=!0,t===void 0&&(t=null),i.indexStartValue_=t,n!=null?(i.startNameSet_=!0,i.indexStartName_=n):(i.startNameSet_=!1,i.indexStartName_=""),i}function Q$(e,t,n){let i;return e.index_===Jn||n?i=My(e,t,n):i=My(e,t,Ri),i.startAfterSet_=!0,i}function Ny(e,t,n){let i=e.copy();return i.endSet_=!0,t===void 0&&(t=null),i.indexEndValue_=t,n!==void 0?(i.endNameSet_=!0,i.indexEndName_=n):(i.endNameSet_=!1,i.indexEndName_=""),i}function Z$(e,t,n){let i;return e.index_===Jn||n?i=Ny(e,t,n):i=Ny(e,t,fr),i.endBeforeSet_=!0,i}function vf(e,t){let n=e.copy();return n.index_=t,n}function O1(e){let t={};if(e.isDefault())return t;let n;if(e.index_===be?n="$priority":e.index_===w0?n="$value":e.index_===Jn?n="$key":(b(e.index_ instanceof Gl,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=Ve(n),e.startSet_){let i=e.startAfterSet_?"startAfter":"startAt";t[i]=Ve(e.indexStartValue_),e.startNameSet_&&(t[i]+=","+Ve(e.indexStartName_))}if(e.endSet_){let i=e.endBeforeSet_?"endBefore":"endAt";t[i]=Ve(e.indexEndValue_),e.endNameSet_&&(t[i]+=","+Ve(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function x1(e){let t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;n===""&&(e.isViewFromLeft()?n="l":n="r"),t.vf=n}return e.index_!==be&&(t.i=e.index_.toString()),t}var Ry=class e extends qh{constructor(t,n,i,r){super(),this.repoInfo_=t,this.onDataUpdate_=n,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=rc("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,n){return n!==void 0?"tag$"+n:(b(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,n,i,r){let o=t._path.toString();this.log_("Listen called for "+o+" "+t._queryIdentifier);let s=e.getListenId_(t,i),a={};this.listens_[s]=a;let l=O1(t._queryParams);this.restRequest_(o+".json",l,(c,u)=>{let d=u;if(c===404&&(d=null,c=null),c===null&&this.onDataUpdate_(o,d,!1,i),Bi(this.listens_,s)===a){let h;c?c===401?h="permission_denied":h="rest_error:"+c:h="ok",r(h,null)}})}unlisten(t,n){let i=e.getListenId_(t,n);delete this.listens_[i]}get(t){let n=O1(t._queryParams),i=t._path.toString(),r=new Ye;return this.restRequest_(i+".json",n,(o,s)=>{let a=s;o===404&&(a=null,o=null),o===null?(this.onDataUpdate_(i,a,!1,null),r.resolve(a)):r.reject(new Error(a))}),r.promise}refreshAuthToken(t){}restRequest_(t,n={},i){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,o])=>{r&&r.accessToken&&(n.auth=r.accessToken),o&&o.token&&(n.ac=o.token);let s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+Fw(n);this.log_("Sending REST request for "+s);let a=new XMLHttpRequest;a.onreadystatechange=()=>{if(i&&a.readyState===4){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=Hc(a.responseText)}catch{gt("Failed to parse JSON response for "+s+": "+a.responseText)}i(null,l)}else a.status!==401&&a.status!==404&&gt("Got unsuccessful REST response for "+s+" Status: "+a.status),i(a.status);i=null}},a.open("GET",s,!0),a.send()})}};var Oy=class{constructor(){this.rootNode_=W.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,n){this.rootNode_=this.rootNode_.updateChild(t,n)}};function Xh(){return{value:null,children:new Map}}function qs(e,t,n){if(J(t))e.value=n,e.children.clear();else if(e.value!==null)e.value=e.value.updateChild(t,n);else{let i=Z(t);e.children.has(i)||e.children.set(i,Xh());let r=e.children.get(i);t=ye(t),qs(r,t,n)}}function xy(e,t){if(J(t))return e.value=null,e.children.clear(),!0;if(e.value!==null){if(e.value.isLeafNode())return!1;{let n=e.value;return e.value=null,n.forEachChild(be,(i,r)=>{qs(e,new ce(i),r)}),xy(e,t)}}else if(e.children.size>0){let n=Z(t);return t=ye(t),e.children.has(n)&&xy(e.children.get(n),t)&&e.children.delete(n),e.children.size===0}else return!0}function Py(e,t,n){e.value!==null?n(t,e.value):J$(e,(i,r)=>{let o=new ce(t.toString()+"/"+i);Py(r,o,n)})}function J$(e,t){e.children.forEach((n,i)=>{t(i,n)})}var ky=class{constructor(t){this.collection_=t,this.last_=null}get(){let t=this.collection_.get(),n=Object.assign({},t);return this.last_&&Je(this.last_,(i,r)=>{n[i]=n[i]-r}),this.last_=t,n}};var P1=10*1e3,X$=30*1e3,eW=5*60*1e3,Fy=class{constructor(t,n){this.server_=n,this.statsToReport_={},this.statsListener_=new ky(t);let i=P1+(X$-P1)*Math.random();Vl(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){let t=this.statsListener_.get(),n={},i=!1;Je(t,(r,o)=>{o>0&&qt(this.statsToReport_,r)&&(n[r]=o,i=!0)}),i&&this.server_.reportStats(n),Vl(this.reportStats_.bind(this),Math.floor(Math.random()*2*eW))}};var Zn=function(e){return e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",e}(Zn||{});function C0(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function D0(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function E0(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}var Ly=class e{constructor(t,n,i){this.path=t,this.affectedTree=n,this.revert=i,this.type=Zn.ACK_USER_WRITE,this.source=C0()}operationForChild(t){if(J(this.path)){if(this.affectedTree.value!=null)return b(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{let n=this.affectedTree.subtree(new ce(t));return new e(le(),n,this.revert)}}else return b(Z(this.path)===t,"operationForChild called for unrelated child."),new e(ye(this.path),this.affectedTree,this.revert)}};var ef=class e{constructor(t,n){this.source=t,this.path=n,this.type=Zn.LISTEN_COMPLETE}operationForChild(t){return J(this.path)?new e(this.source,le()):new e(this.source,ye(this.path))}};var Hs=class e{constructor(t,n,i){this.source=t,this.path=n,this.snap=i,this.type=Zn.OVERWRITE}operationForChild(t){return J(this.path)?new e(this.source,le(),this.snap.getImmediateChild(t)):new e(this.source,ye(this.path),this.snap)}};var Ql=class e{constructor(t,n,i){this.source=t,this.path=n,this.children=i,this.type=Zn.MERGE}operationForChild(t){if(J(this.path)){let n=this.children.subtree(new ce(t));return n.isEmpty()?null:n.value?new Hs(this.source,le(),n.value):new e(this.source,le(),n)}else return b(Z(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,ye(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}};var ei=class{constructor(t,n,i){this.node_=t,this.fullyInitialized_=n,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(J(t))return this.isFullyInitialized()&&!this.filtered_;let n=Z(t);return this.isCompleteForChild(n)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}};var Vy=class{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}};function tW(e,t,n,i){let r=[],o=[];return t.forEach(s=>{s.type==="child_changed"&&e.index_.indexedValueChanged(s.oldSnap,s.snapshotNode)&&o.push(z$(s.childName,s.snapshotNode))}),Ll(e,r,"child_removed",t,i,n),Ll(e,r,"child_added",t,i,n),Ll(e,r,"child_moved",o,i,n),Ll(e,r,"child_changed",t,i,n),Ll(e,r,"value",t,i,n),r}function Ll(e,t,n,i,r,o){let s=i.filter(a=>a.type===n);s.sort((a,l)=>iW(e,a,l)),s.forEach(a=>{let l=nW(e,a,o);r.forEach(c=>{c.respondsTo(a.type)&&t.push(c.createEvent(l,e.query_))})})}function nW(e,t,n){return t.type==="value"||t.type==="child_removed"||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}function iW(e,t,n){if(t.childName==null||n.childName==null)throw Do("Should only compare child_ events.");let i=new ee(t.childName,t.snapshotNode),r=new ee(n.childName,n.snapshotNode);return e.index_.compare(i,r)}function yf(e,t){return{eventCache:e,serverCache:t}}function jl(e,t,n,i){return yf(new ei(t,n,i),e.serverCache)}function DA(e,t,n,i){return yf(e.eventCache,new ei(t,n,i))}function tf(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function ao(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}var sy,rW=()=>(sy||(sy=new nn(n$)),sy),Et=class e{constructor(t,n=rW()){this.value=t,this.children=n}static fromObject(t){let n=new e(null);return Je(t,(i,r)=>{n=n.set(new ce(i),r)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,n){if(this.value!=null&&n(this.value))return{path:le(),value:this.value};if(J(t))return null;{let i=Z(t),r=this.children.get(i);if(r!==null){let o=r.findRootMostMatchingPathAndValue(ye(t),n);return o!=null?{path:De(new ce(i),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(J(t))return this;{let n=Z(t),i=this.children.get(n);return i!==null?i.subtree(ye(t)):new e(null)}}set(t,n){if(J(t))return new e(n,this.children);{let i=Z(t),o=(this.children.get(i)||new e(null)).set(ye(t),n),s=this.children.insert(i,o);return new e(this.value,s)}}remove(t){if(J(t))return this.children.isEmpty()?new e(null):new e(null,this.children);{let n=Z(t),i=this.children.get(n);if(i){let r=i.remove(ye(t)),o;return r.isEmpty()?o=this.children.remove(n):o=this.children.insert(n,r),this.value===null&&o.isEmpty()?new e(null):new e(this.value,o)}else return this}}get(t){if(J(t))return this.value;{let n=Z(t),i=this.children.get(n);return i?i.get(ye(t)):null}}setTree(t,n){if(J(t))return n;{let i=Z(t),o=(this.children.get(i)||new e(null)).setTree(ye(t),n),s;return o.isEmpty()?s=this.children.remove(i):s=this.children.insert(i,o),new e(this.value,s)}}fold(t){return this.fold_(le(),t)}fold_(t,n){let i={};return this.children.inorderTraversal((r,o)=>{i[r]=o.fold_(De(t,r),n)}),n(t,this.value,i)}findOnPath(t,n){return this.findOnPath_(t,le(),n)}findOnPath_(t,n,i){let r=this.value?i(n,this.value):!1;if(r)return r;if(J(t))return null;{let o=Z(t),s=this.children.get(o);return s?s.findOnPath_(ye(t),De(n,o),i):null}}foreachOnPath(t,n){return this.foreachOnPath_(t,le(),n)}foreachOnPath_(t,n,i){if(J(t))return this;{this.value&&i(n,this.value);let r=Z(t),o=this.children.get(r);return o?o.foreachOnPath_(ye(t),De(n,r),i):new e(null)}}foreach(t){this.foreach_(le(),t)}foreach_(t,n){this.children.inorderTraversal((i,r)=>{r.foreach_(De(t,i),n)}),this.value&&n(t,this.value)}foreachChild(t){this.children.inorderTraversal((n,i)=>{i.value&&t(n,i.value)})}};var Tn=class e{constructor(t){this.writeTree_=t}static empty(){return new e(new Et(null))}};function Ul(e,t,n){if(J(t))return new Tn(new Et(n));{let i=e.writeTree_.findRootMostValueAndPath(t);if(i!=null){let r=i.path,o=i.value,s=Dt(r,t);return o=o.updateChild(s,n),new Tn(e.writeTree_.set(r,o))}else{let r=new Et(n),o=e.writeTree_.setTree(t,r);return new Tn(o)}}}function By(e,t,n){let i=e;return Je(n,(r,o)=>{i=Ul(i,De(t,r),o)}),i}function k1(e,t){if(J(t))return Tn.empty();{let n=e.writeTree_.setTree(t,new Et(null));return new Tn(n)}}function jy(e,t){return co(e,t)!=null}function co(e,t){let n=e.writeTree_.findRootMostValueAndPath(t);return n!=null?e.writeTree_.get(n.path).getChild(Dt(n.path,t)):null}function F1(e){let t=[],n=e.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(be,(i,r)=>{t.push(new ee(i,r))}):e.writeTree_.children.inorderTraversal((i,r)=>{r.value!=null&&t.push(new ee(i,r.value))}),t}function dr(e,t){if(J(t))return e;{let n=co(e,t);return n!=null?new Tn(new Et(n)):new Tn(e.writeTree_.subtree(t))}}function Uy(e){return e.writeTree_.isEmpty()}function $s(e,t){return EA(le(),e.writeTree_,t)}function EA(e,t,n){if(t.value!=null)return n.updateChild(e,t.value);{let i=null;return t.children.inorderTraversal((r,o)=>{r===".priority"?(b(o.value!==null,"Priority writes must always be leaf nodes"),i=o.value):n=EA(De(e,r),o,n)}),!n.getChild(e).isEmpty()&&i!==null&&(n=n.updateChild(De(e,".priority"),i)),n}}function bf(e,t){return AA(t,e)}function oW(e,t,n,i,r){b(i>e.lastWriteId,"Stacking an older write on top of newer ones"),r===void 0&&(r=!0),e.allWrites.push({path:t,snap:n,writeId:i,visible:r}),r&&(e.visibleWrites=Ul(e.visibleWrites,t,n)),e.lastWriteId=i}function sW(e,t,n,i){b(i>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:i,visible:!0}),e.visibleWrites=By(e.visibleWrites,t,n),e.lastWriteId=i}function aW(e,t){for(let n=0;n<e.allWrites.length;n++){let i=e.allWrites[n];if(i.writeId===t)return i}return null}function lW(e,t){let n=e.allWrites.findIndex(a=>a.writeId===t);b(n>=0,"removeWrite called with nonexistent writeId.");let i=e.allWrites[n];e.allWrites.splice(n,1);let r=i.visible,o=!1,s=e.allWrites.length-1;for(;r&&s>=0;){let a=e.allWrites[s];a.visible&&(s>=n&&cW(a,i.path)?r=!1:tn(i.path,a.path)&&(o=!0)),s--}if(r){if(o)return uW(e),!0;if(i.snap)e.visibleWrites=k1(e.visibleWrites,i.path);else{let a=i.children;Je(a,l=>{e.visibleWrites=k1(e.visibleWrites,De(i.path,l))})}return!0}else return!1}function cW(e,t){if(e.snap)return tn(e.path,t);for(let n in e.children)if(e.children.hasOwnProperty(n)&&tn(De(e.path,n),t))return!0;return!1}function uW(e){e.visibleWrites=IA(e.allWrites,dW,le()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}function dW(e){return e.visible}function IA(e,t,n){let i=Tn.empty();for(let r=0;r<e.length;++r){let o=e[r];if(t(o)){let s=o.path,a;if(o.snap)tn(n,s)?(a=Dt(n,s),i=Ul(i,a,o.snap)):tn(s,n)&&(a=Dt(s,n),i=Ul(i,le(),o.snap.getChild(a)));else if(o.children){if(tn(n,s))a=Dt(n,s),i=By(i,a,o.children);else if(tn(s,n))if(a=Dt(s,n),J(a))i=By(i,le(),o.children);else{let l=Bi(o.children,Z(a));if(l){let c=l.getChild(ye(a));i=Ul(i,le(),c)}}}else throw Do("WriteRecord should have .snap or .children")}}return i}function TA(e,t,n,i,r){if(!i&&!r){let o=co(e.visibleWrites,t);if(o!=null)return o;{let s=dr(e.visibleWrites,t);if(Uy(s))return n;if(n==null&&!jy(s,le()))return null;{let a=n||W.EMPTY_NODE;return $s(s,a)}}}else{let o=dr(e.visibleWrites,t);if(!r&&Uy(o))return n;if(!r&&n==null&&!jy(o,le()))return null;{let s=function(c){return(c.visible||r)&&(!i||!~i.indexOf(c.writeId))&&(tn(c.path,t)||tn(t,c.path))},a=IA(e.allWrites,s,t),l=n||W.EMPTY_NODE;return $s(a,l)}}}function hW(e,t,n){let i=W.EMPTY_NODE,r=co(e.visibleWrites,t);if(r)return r.isLeafNode()||r.forEachChild(be,(o,s)=>{i=i.updateImmediateChild(o,s)}),i;if(n){let o=dr(e.visibleWrites,t);return n.forEachChild(be,(s,a)=>{let l=$s(dr(o,new ce(s)),a);i=i.updateImmediateChild(s,l)}),F1(o).forEach(s=>{i=i.updateImmediateChild(s.name,s.node)}),i}else{let o=dr(e.visibleWrites,t);return F1(o).forEach(s=>{i=i.updateImmediateChild(s.name,s.node)}),i}}function fW(e,t,n,i,r){b(i||r,"Either existingEventSnap or existingServerSnap must exist");let o=De(t,n);if(jy(e.visibleWrites,o))return null;{let s=dr(e.visibleWrites,o);return Uy(s)?r.getChild(n):$s(s,r.getChild(n))}}function pW(e,t,n,i){let r=De(t,n),o=co(e.visibleWrites,r);if(o!=null)return o;if(i.isCompleteForChild(n)){let s=dr(e.visibleWrites,r);return $s(s,i.getNode().getImmediateChild(n))}else return null}function gW(e,t){return co(e.visibleWrites,t)}function mW(e,t,n,i,r,o,s){let a,l=dr(e.visibleWrites,t),c=co(l,le());if(c!=null)a=c;else if(n!=null)a=$s(l,n);else return[];if(a=a.withIndex(s),!a.isEmpty()&&!a.isLeafNode()){let u=[],d=s.getCompare(),h=o?a.getReverseIteratorFrom(i,s):a.getIteratorFrom(i,s),f=h.getNext();for(;f&&u.length<r;)d(f,i)!==0&&u.push(f),f=h.getNext();return u}else return[]}function _W(){return{visibleWrites:Tn.empty(),allWrites:[],lastWriteId:-1}}function nf(e,t,n,i){return TA(e.writeTree,e.treePath,t,n,i)}function I0(e,t){return hW(e.writeTree,e.treePath,t)}function L1(e,t,n,i){return fW(e.writeTree,e.treePath,t,n,i)}function rf(e,t){return gW(e.writeTree,De(e.treePath,t))}function vW(e,t,n,i,r,o){return mW(e.writeTree,e.treePath,t,n,i,r,o)}function T0(e,t,n){return pW(e.writeTree,e.treePath,t,n)}function SA(e,t){return AA(De(e.treePath,t),e.writeTree)}function AA(e,t){return{treePath:e,writeTree:t}}var Hy=class{constructor(){this.changeMap=new Map}trackChildChange(t){let n=t.type,i=t.childName;b(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),b(i!==".priority","Only non-priority child changes can be tracked.");let r=this.changeMap.get(i);if(r){let o=r.type;if(n==="child_added"&&o==="child_removed")this.changeMap.set(i,ql(i,t.snapshotNode,r.snapshotNode));else if(n==="child_removed"&&o==="child_added")this.changeMap.delete(i);else if(n==="child_removed"&&o==="child_changed")this.changeMap.set(i,zl(i,r.oldSnap));else if(n==="child_changed"&&o==="child_added")this.changeMap.set(i,Us(i,t.snapshotNode));else if(n==="child_changed"&&o==="child_changed")this.changeMap.set(i,ql(i,t.snapshotNode,r.oldSnap));else throw Do("Illegal combination of changes: "+t+" occurred after "+r)}else this.changeMap.set(i,t)}getChanges(){return Array.from(this.changeMap.values())}};var $y=class{getCompleteChild(t){return null}getChildAfterChild(t,n,i){return null}},MA=new $y,Zl=class{constructor(t,n,i=null){this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=i}getCompleteChild(t){let n=this.viewCache_.eventCache;if(n.isCompleteForChild(t))return n.getNode().getImmediateChild(t);{let i=this.optCompleteServerCache_!=null?new ei(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return T0(this.writes_,t,i)}}getChildAfterChild(t,n,i){let r=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:ao(this.viewCache_),o=vW(this.writes_,r,n,1,i,t);return o.length===0?null:o[0]}};function yW(e){return{filter:e}}function bW(e,t){b(t.eventCache.getNode().isIndexed(e.filter.getIndex()),"Event snap not indexed"),b(t.serverCache.getNode().isIndexed(e.filter.getIndex()),"Server snap not indexed")}function wW(e,t,n,i,r){let o=new Hy,s,a;if(n.type===Zn.OVERWRITE){let c=n;c.source.fromUser?s=Wy(e,t,c.path,c.snap,i,r,o):(b(c.source.fromServer,"Unknown source."),a=c.source.tagged||t.serverCache.isFiltered()&&!J(c.path),s=of(e,t,c.path,c.snap,i,r,a,o))}else if(n.type===Zn.MERGE){let c=n;c.source.fromUser?s=DW(e,t,c.path,c.children,i,r,o):(b(c.source.fromServer,"Unknown source."),a=c.source.tagged||t.serverCache.isFiltered(),s=Gy(e,t,c.path,c.children,i,r,a,o))}else if(n.type===Zn.ACK_USER_WRITE){let c=n;c.revert?s=TW(e,t,c.path,i,r,o):s=EW(e,t,c.path,c.affectedTree,i,r,o)}else if(n.type===Zn.LISTEN_COMPLETE)s=IW(e,t,n.path,i,o);else throw Do("Unknown operation type: "+n.type);let l=o.getChanges();return CW(t,s,l),{viewCache:s,changes:l}}function CW(e,t,n){let i=t.eventCache;if(i.isFullyInitialized()){let r=i.getNode().isLeafNode()||i.getNode().isEmpty(),o=tf(e);(n.length>0||!e.eventCache.isFullyInitialized()||r&&!i.getNode().equals(o)||!i.getNode().getPriority().equals(o.getPriority()))&&n.push(CA(tf(t)))}}function NA(e,t,n,i,r,o){let s=t.eventCache;if(rf(i,n)!=null)return t;{let a,l;if(J(n))if(b(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){let c=ao(t),u=c instanceof W?c:W.EMPTY_NODE,d=I0(i,u);a=e.filter.updateFullNode(t.eventCache.getNode(),d,o)}else{let c=nf(i,ao(t));a=e.filter.updateFullNode(t.eventCache.getNode(),c,o)}else{let c=Z(n);if(c===".priority"){b(pr(n)===1,"Can't have a priority with additional path components");let u=s.getNode();l=t.serverCache.getNode();let d=L1(i,n,u,l);d!=null?a=e.filter.updatePriority(u,d):a=s.getNode()}else{let u=ye(n),d;if(s.isCompleteForChild(c)){l=t.serverCache.getNode();let h=L1(i,n,s.getNode(),l);h!=null?d=s.getNode().getImmediateChild(c).updateChild(u,h):d=s.getNode().getImmediateChild(c)}else d=T0(i,c,t.serverCache);d!=null?a=e.filter.updateChild(s.getNode(),c,d,u,r,o):a=s.getNode()}}return jl(t,a,s.isFullyInitialized()||J(n),e.filter.filtersNodes())}}function of(e,t,n,i,r,o,s,a){let l=t.serverCache,c,u=s?e.filter:e.filter.getIndexedFilter();if(J(n))c=u.updateFullNode(l.getNode(),i,null);else if(u.filtersNodes()&&!l.isFiltered()){let f=l.getNode().updateChild(n,i);c=u.updateFullNode(l.getNode(),f,null)}else{let f=Z(n);if(!l.isCompleteForPath(n)&&pr(n)>1)return t;let p=ye(n),v=l.getNode().getImmediateChild(f).updateChild(p,i);f===".priority"?c=u.updatePriority(l.getNode(),v):c=u.updateChild(l.getNode(),f,v,p,MA,null)}let d=DA(t,c,l.isFullyInitialized()||J(n),u.filtersNodes()),h=new Zl(r,d,o);return NA(e,d,n,r,h,a)}function Wy(e,t,n,i,r,o,s){let a=t.eventCache,l,c,u=new Zl(r,t,o);if(J(n))c=e.filter.updateFullNode(t.eventCache.getNode(),i,s),l=jl(t,c,!0,e.filter.filtersNodes());else{let d=Z(n);if(d===".priority")c=e.filter.updatePriority(t.eventCache.getNode(),i),l=jl(t,c,a.isFullyInitialized(),a.isFiltered());else{let h=ye(n),f=a.getNode().getImmediateChild(d),p;if(J(h))p=i;else{let g=u.getCompleteChild(d);g!=null?_0(h)===".priority"&&g.getChild(mA(h)).isEmpty()?p=g:p=g.updateChild(h,i):p=W.EMPTY_NODE}if(f.equals(p))l=t;else{let g=e.filter.updateChild(a.getNode(),d,p,h,u,s);l=jl(t,g,a.isFullyInitialized(),e.filter.filtersNodes())}}}return l}function V1(e,t){return e.eventCache.isCompleteForChild(t)}function DW(e,t,n,i,r,o,s){let a=t;return i.foreach((l,c)=>{let u=De(n,l);V1(t,Z(u))&&(a=Wy(e,a,u,c,r,o,s))}),i.foreach((l,c)=>{let u=De(n,l);V1(t,Z(u))||(a=Wy(e,a,u,c,r,o,s))}),a}function B1(e,t,n){return n.foreach((i,r)=>{t=t.updateChild(i,r)}),t}function Gy(e,t,n,i,r,o,s,a){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let l=t,c;J(n)?c=i:c=new Et(null).setTree(n,i);let u=t.serverCache.getNode();return c.children.inorderTraversal((d,h)=>{if(u.hasChild(d)){let f=t.serverCache.getNode().getImmediateChild(d),p=B1(e,f,h);l=of(e,l,new ce(d),p,r,o,s,a)}}),c.children.inorderTraversal((d,h)=>{let f=!t.serverCache.isCompleteForChild(d)&&h.value===null;if(!u.hasChild(d)&&!f){let p=t.serverCache.getNode().getImmediateChild(d),g=B1(e,p,h);l=of(e,l,new ce(d),g,r,o,s,a)}}),l}function EW(e,t,n,i,r,o,s){if(rf(r,n)!=null)return t;let a=t.serverCache.isFiltered(),l=t.serverCache;if(i.value!=null){if(J(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return of(e,t,n,l.getNode().getChild(n),r,o,a,s);if(J(n)){let c=new Et(null);return l.getNode().forEachChild(Jn,(u,d)=>{c=c.set(new ce(u),d)}),Gy(e,t,n,c,r,o,a,s)}else return t}else{let c=new Et(null);return i.foreach((u,d)=>{let h=De(n,u);l.isCompleteForPath(h)&&(c=c.set(u,l.getNode().getChild(h)))}),Gy(e,t,n,c,r,o,a,s)}}function IW(e,t,n,i,r){let o=t.serverCache,s=DA(t,o.getNode(),o.isFullyInitialized()||J(n),o.isFiltered());return NA(e,s,n,i,MA,r)}function TW(e,t,n,i,r,o){let s;if(rf(i,n)!=null)return t;{let a=new Zl(i,t,r),l=t.eventCache.getNode(),c;if(J(n)||Z(n)===".priority"){let u;if(t.serverCache.isFullyInitialized())u=nf(i,ao(t));else{let d=t.serverCache.getNode();b(d instanceof W,"serverChildren would be complete if leaf node"),u=I0(i,d)}u=u,c=e.filter.updateFullNode(l,u,o)}else{let u=Z(n),d=T0(i,u,t.serverCache);d==null&&t.serverCache.isCompleteForChild(u)&&(d=l.getImmediateChild(u)),d!=null?c=e.filter.updateChild(l,u,d,ye(n),a,o):t.eventCache.getNode().hasChild(u)?c=e.filter.updateChild(l,u,W.EMPTY_NODE,ye(n),a,o):c=l,c.isEmpty()&&t.serverCache.isFullyInitialized()&&(s=nf(i,ao(t)),s.isLeafNode()&&(c=e.filter.updateFullNode(c,s,o)))}return s=t.serverCache.isFullyInitialized()||rf(i,le())!=null,jl(t,c,s,e.filter.filtersNodes())}}var zy=class{constructor(t,n){this.query_=t,this.eventRegistrations_=[];let i=this.query_._queryParams,r=new Yl(i.getIndex()),o=q$(i);this.processor_=yW(o);let s=n.serverCache,a=n.eventCache,l=r.updateFullNode(W.EMPTY_NODE,s.getNode(),null),c=o.updateFullNode(W.EMPTY_NODE,a.getNode(),null),u=new ei(l,s.isFullyInitialized(),r.filtersNodes()),d=new ei(c,a.isFullyInitialized(),o.filtersNodes());this.viewCache_=yf(d,u),this.eventGenerator_=new Vy(this.query_)}get query(){return this.query_}};function SW(e){return e.viewCache_.serverCache.getNode()}function AW(e){return tf(e.viewCache_)}function MW(e,t){let n=ao(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!J(t)&&!n.getImmediateChild(Z(t)).isEmpty())?n.getChild(t):null}function j1(e){return e.eventRegistrations_.length===0}function NW(e,t){e.eventRegistrations_.push(t)}function U1(e,t,n){let i=[];if(n){b(t==null,"A cancel should cancel all event registrations.");let r=e.query._path;e.eventRegistrations_.forEach(o=>{let s=o.createCancelEvent(n,r);s&&i.push(s)})}if(t){let r=[];for(let o=0;o<e.eventRegistrations_.length;++o){let s=e.eventRegistrations_[o];if(!s.matches(t))r.push(s);else if(t.hasAnyCallback()){r=r.concat(e.eventRegistrations_.slice(o+1));break}}e.eventRegistrations_=r}else e.eventRegistrations_=[];return i}function H1(e,t,n,i){t.type===Zn.MERGE&&t.source.queryId!==null&&(b(ao(e.viewCache_),"We should always have a full cache before handling merges"),b(tf(e.viewCache_),"Missing event cache, even though we have a server cache"));let r=e.viewCache_,o=wW(e.processor_,r,t,n,i);return bW(e.processor_,o.viewCache),b(o.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=o.viewCache,RA(e,o.changes,o.viewCache.eventCache.getNode(),null)}function RW(e,t){let n=e.viewCache_.eventCache,i=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(be,(o,s)=>{i.push(Us(o,s))}),n.isFullyInitialized()&&i.push(CA(n.getNode())),RA(e,i,n.getNode(),t)}function RA(e,t,n,i){let r=i?[i]:e.eventRegistrations_;return tW(e.eventGenerator_,t,n,r)}var sf,af=class{constructor(){this.views=new Map}};function OW(e){b(!sf,"__referenceConstructor has already been defined"),sf=e}function xW(){return b(sf,"Reference.ts has not been loaded"),sf}function PW(e){return e.views.size===0}function S0(e,t,n,i){let r=t.source.queryId;if(r!==null){let o=e.views.get(r);return b(o!=null,"SyncTree gave us an op for an invalid query."),H1(o,t,n,i)}else{let o=[];for(let s of e.views.values())o=o.concat(H1(s,t,n,i));return o}}function OA(e,t,n,i,r){let o=t._queryIdentifier,s=e.views.get(o);if(!s){let a=nf(n,r?i:null),l=!1;a?l=!0:i instanceof W?(a=I0(n,i),l=!1):(a=W.EMPTY_NODE,l=!1);let c=yf(new ei(a,l,!1),new ei(i,r,!1));return new zy(t,c)}return s}function kW(e,t,n,i,r,o){let s=OA(e,t,i,r,o);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,s),NW(s,n),RW(s,n)}function FW(e,t,n,i){let r=t._queryIdentifier,o=[],s=[],a=gr(e);if(r==="default")for(let[l,c]of e.views.entries())s=s.concat(U1(c,n,i)),j1(c)&&(e.views.delete(l),c.query._queryParams.loadsAllData()||o.push(c.query));else{let l=e.views.get(r);l&&(s=s.concat(U1(l,n,i)),j1(l)&&(e.views.delete(r),l.query._queryParams.loadsAllData()||o.push(l.query)))}return a&&!gr(e)&&o.push(new(xW())(t._repo,t._path)),{removed:o,events:s}}function xA(e){let t=[];for(let n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function hr(e,t){let n=null;for(let i of e.views.values())n=n||MW(i,t);return n}function PA(e,t){if(t._queryParams.loadsAllData())return wf(e);{let i=t._queryIdentifier;return e.views.get(i)}}function kA(e,t){return PA(e,t)!=null}function gr(e){return wf(e)!=null}function wf(e){for(let t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}var lf;function LW(e){b(!lf,"__referenceConstructor has already been defined"),lf=e}function VW(){return b(lf,"Reference.ts has not been loaded"),lf}var BW=1,cf=class{constructor(t){this.listenProvider_=t,this.syncPointTree_=new Et(null),this.pendingWriteTree_=_W(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}};function A0(e,t,n,i,r){return oW(e.pendingWriteTree_,t,n,i,r),r?Ys(e,new Hs(C0(),t,n)):[]}function jW(e,t,n,i){sW(e.pendingWriteTree_,t,n,i);let r=Et.fromObject(n);return Ys(e,new Ql(C0(),t,r))}function ur(e,t,n=!1){let i=aW(e.pendingWriteTree_,t);if(lW(e.pendingWriteTree_,t)){let o=new Et(null);return i.snap!=null?o=o.set(le(),!0):Je(i.children,s=>{o=o.set(new ce(s),!0)}),Ys(e,new Ly(i.path,o,n))}else return[]}function sc(e,t,n){return Ys(e,new Hs(D0(),t,n))}function UW(e,t,n){let i=Et.fromObject(n);return Ys(e,new Ql(D0(),t,i))}function HW(e,t){return Ys(e,new ef(D0(),t))}function $W(e,t,n){let i=M0(e,n);if(i){let r=N0(i),o=r.path,s=r.queryId,a=Dt(o,t),l=new ef(E0(s),a);return R0(e,o,l)}else return[]}function uf(e,t,n,i,r=!1){let o=t._path,s=e.syncPointTree_.get(o),a=[];if(s&&(t._queryIdentifier==="default"||kA(s,t))){let l=FW(s,t,n,i);PW(s)&&(e.syncPointTree_=e.syncPointTree_.remove(o));let c=l.removed;if(a=l.events,!r){let u=c.findIndex(h=>h._queryParams.loadsAllData())!==-1,d=e.syncPointTree_.findOnPath(o,(h,f)=>gr(f));if(u&&!d){let h=e.syncPointTree_.subtree(o);if(!h.isEmpty()){let f=zW(h);for(let p=0;p<f.length;++p){let g=f[p],v=g.query,w=BA(e,g);e.listenProvider_.startListening(Hl(v),Jl(e,v),w.hashFn,w.onComplete)}}}!d&&c.length>0&&!i&&(u?e.listenProvider_.stopListening(Hl(t),null):c.forEach(h=>{let f=e.queryToTagMap.get(Df(h));e.listenProvider_.stopListening(Hl(h),f)}))}qW(e,c)}return a}function FA(e,t,n,i){let r=M0(e,i);if(r!=null){let o=N0(r),s=o.path,a=o.queryId,l=Dt(s,t),c=new Hs(E0(a),l,n);return R0(e,s,c)}else return[]}function WW(e,t,n,i){let r=M0(e,i);if(r){let o=N0(r),s=o.path,a=o.queryId,l=Dt(s,t),c=Et.fromObject(n),u=new Ql(E0(a),l,c);return R0(e,s,u)}else return[]}function qy(e,t,n,i=!1){let r=t._path,o=null,s=!1;e.syncPointTree_.foreachOnPath(r,(h,f)=>{let p=Dt(h,r);o=o||hr(f,p),s=s||gr(f)});let a=e.syncPointTree_.get(r);a?(s=s||gr(a),o=o||hr(a,le())):(a=new af,e.syncPointTree_=e.syncPointTree_.set(r,a));let l;o!=null?l=!0:(l=!1,o=W.EMPTY_NODE,e.syncPointTree_.subtree(r).foreachChild((f,p)=>{let g=hr(p,le());g&&(o=o.updateImmediateChild(f,g))}));let c=kA(a,t);if(!c&&!t._queryParams.loadsAllData()){let h=Df(t);b(!e.queryToTagMap.has(h),"View does not exist, but we have a tag");let f=YW();e.queryToTagMap.set(h,f),e.tagToQueryMap.set(f,h)}let u=bf(e.pendingWriteTree_,r),d=kW(a,t,n,u,o,l);if(!c&&!s&&!i){let h=PA(a,t);d=d.concat(KW(e,t,h))}return d}function Cf(e,t,n){let r=e.pendingWriteTree_,o=e.syncPointTree_.findOnPath(t,(s,a)=>{let l=Dt(s,t),c=hr(a,l);if(c)return c});return TA(r,t,o,n,!0)}function GW(e,t){let n=t._path,i=null;e.syncPointTree_.foreachOnPath(n,(c,u)=>{let d=Dt(c,n);i=i||hr(u,d)});let r=e.syncPointTree_.get(n);r?i=i||hr(r,le()):(r=new af,e.syncPointTree_=e.syncPointTree_.set(n,r));let o=i!=null,s=o?new ei(i,!0,!1):null,a=bf(e.pendingWriteTree_,t._path),l=OA(r,t,a,o?s.getNode():W.EMPTY_NODE,o);return AW(l)}function Ys(e,t){return LA(t,e.syncPointTree_,null,bf(e.pendingWriteTree_,le()))}function LA(e,t,n,i){if(J(e.path))return VA(e,t,n,i);{let r=t.get(le());n==null&&r!=null&&(n=hr(r,le()));let o=[],s=Z(e.path),a=e.operationForChild(s),l=t.children.get(s);if(l&&a){let c=n?n.getImmediateChild(s):null,u=SA(i,s);o=o.concat(LA(a,l,c,u))}return r&&(o=o.concat(S0(r,e,i,n))),o}}function VA(e,t,n,i){let r=t.get(le());n==null&&r!=null&&(n=hr(r,le()));let o=[];return t.children.inorderTraversal((s,a)=>{let l=n?n.getImmediateChild(s):null,c=SA(i,s),u=e.operationForChild(s);u&&(o=o.concat(VA(u,a,l,c)))}),r&&(o=o.concat(S0(r,e,i,n))),o}function BA(e,t){let n=t.query,i=Jl(e,n);return{hashFn:()=>(SW(t)||W.EMPTY_NODE).hash(),onComplete:r=>{if(r==="ok")return i?$W(e,n._path,i):HW(e,n._path);{let o=o$(r,n);return uf(e,n,null,o)}}}}function Jl(e,t){let n=Df(t);return e.queryToTagMap.get(n)}function Df(e){return e._path.toString()+"$"+e._queryIdentifier}function M0(e,t){return e.tagToQueryMap.get(t)}function N0(e){let t=e.indexOf("$");return b(t!==-1&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new ce(e.substr(0,t))}}function R0(e,t,n){let i=e.syncPointTree_.get(t);b(i,"Missing sync point for query tag that we're tracking");let r=bf(e.pendingWriteTree_,t);return S0(i,n,r,null)}function zW(e){return e.fold((t,n,i)=>{if(n&&gr(n))return[wf(n)];{let r=[];return n&&(r=xA(n)),Je(i,(o,s)=>{r=r.concat(s)}),r}})}function Hl(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(VW())(e._repo,e._path):e}function qW(e,t){for(let n=0;n<t.length;++n){let i=t[n];if(!i._queryParams.loadsAllData()){let r=Df(i),o=e.queryToTagMap.get(r);e.queryToTagMap.delete(r),e.tagToQueryMap.delete(o)}}}function YW(){return BW++}function KW(e,t,n){let i=t._path,r=Jl(e,t),o=BA(e,n),s=e.listenProvider_.startListening(Hl(t),r,o.hashFn,o.onComplete),a=e.syncPointTree_.subtree(i);if(r)b(!gr(a.value),"If we're adding a query, it shouldn't be shadowed");else{let l=a.fold((c,u,d)=>{if(!J(c)&&u&&gr(u))return[wf(u).query];{let h=[];return u&&(h=h.concat(xA(u).map(f=>f.query))),Je(d,(f,p)=>{h=h.concat(p)}),h}});for(let c=0;c<l.length;++c){let u=l[c];e.listenProvider_.stopListening(Hl(u),Jl(e,u))}}return s}var Yy=class e{constructor(t){this.node_=t}getImmediateChild(t){let n=this.node_.getImmediateChild(t);return new e(n)}node(){return this.node_}},Ky=class e{constructor(t,n){this.syncTree_=t,this.path_=n}getImmediateChild(t){let n=De(this.path_,t);return new e(this.syncTree_,n)}node(){return Cf(this.syncTree_,this.path_)}},QW=function(e){return e=e||{},e.timestamp=e.timestamp||new Date().getTime(),e},$1=function(e,t,n){if(!e||typeof e!="object")return e;if(b(".sv"in e,"Unexpected leaf node or priority contents"),typeof e[".sv"]=="string")return ZW(e[".sv"],t,n);if(typeof e[".sv"]=="object")return JW(e[".sv"],t);b(!1,"Unexpected server value: "+JSON.stringify(e,null,2))},ZW=function(e,t,n){switch(e){case"timestamp":return n.timestamp;default:b(!1,"Unexpected server value: "+e)}},JW=function(e,t,n){e.hasOwnProperty("increment")||b(!1,"Unexpected server value: "+JSON.stringify(e,null,2));let i=e.increment;typeof i!="number"&&b(!1,"Unexpected increment value: "+i);let r=t.node();if(b(r!==null&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;let s=r.getValue();return typeof s!="number"?i:s+i},jA=function(e,t,n,i){return x0(t,new Ky(n,e),i)},O0=function(e,t,n){return x0(e,new Yy(t),n)};function x0(e,t,n){let i=e.getPriority().val(),r=$1(i,t.getImmediateChild(".priority"),n),o;if(e.isLeafNode()){let s=e,a=$1(s.getValue(),t,n);return a!==s.getValue()||r!==s.getPriority().val()?new Bs(a,Ne(r)):e}else{let s=e;return o=s,r!==s.getPriority().val()&&(o=o.updatePriority(new Bs(r))),s.forEachChild(be,(a,l)=>{let c=x0(l,t.getImmediateChild(a),n);c!==l&&(o=o.updateImmediateChild(a,c))}),o}}var Xl=class{constructor(t="",n=null,i={children:{},childCount:0}){this.name=t,this.parent=n,this.node=i}};function Ef(e,t){let n=t instanceof ce?t:new ce(t),i=e,r=Z(n);for(;r!==null;){let o=Bi(i.node.children,r)||{children:{},childCount:0};i=new Xl(r,i,o),n=ye(n),r=Z(n)}return i}function uo(e){return e.node.value}function P0(e,t){e.node.value=t,Qy(e)}function UA(e){return e.node.childCount>0}function XW(e){return uo(e)===void 0&&!UA(e)}function If(e,t){Je(e.node.children,(n,i)=>{t(new Xl(n,e,i))})}function HA(e,t,n,i){n&&!i&&t(e),If(e,r=>{HA(r,t,!0,i)}),n&&i&&t(e)}function e3(e,t,n){let i=n?e:e.parent;for(;i!==null;){if(t(i))return!0;i=i.parent}return!1}function ac(e){return new ce(e.parent===null?e.name:ac(e.parent)+"/"+e.name)}function Qy(e){e.parent!==null&&t3(e.parent,e.name,e)}function t3(e,t,n){let i=XW(n),r=qt(e.node.children,t);i&&r?(delete e.node.children[t],e.node.childCount--,Qy(e)):!i&&!r&&(e.node.children[t]=n.node,e.node.childCount++,Qy(e))}var n3=/[\[\].#$\/\u0000-\u001F\u007F]/,i3=/[\[\].#$\u0000-\u001F\u007F]/,ay=10*1024*1024,Tf=function(e){return typeof e=="string"&&e.length!==0&&!n3.test(e)},$A=function(e){return typeof e=="string"&&e.length!==0&&!i3.test(e)},r3=function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),$A(e)},ec=function(e){return e===null||typeof e=="string"||typeof e=="number"&&!_f(e)||e&&typeof e=="object"&&qt(e,".sv")},ti=function(e,t,n,i){i&&t===void 0||lc(St(e,"value"),t,n)},lc=function(e,t,n){let i=n instanceof ce?new by(n,e):n;if(t===void 0)throw new Error(e+"contains undefined "+ro(i));if(typeof t=="function")throw new Error(e+"contains a function "+ro(i)+" with contents = "+t.toString());if(_f(t))throw new Error(e+"contains "+t.toString()+" "+ro(i));if(typeof t=="string"&&t.length>ay/3&&pa(t)>ay)throw new Error(e+"contains a string greater than "+ay+" utf8 bytes "+ro(i)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let r=!1,o=!1;if(Je(t,(s,a)=>{if(s===".value")r=!0;else if(s!==".priority"&&s!==".sv"&&(o=!0,!Tf(s)))throw new Error(e+" contains an invalid key ("+s+") "+ro(i)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);P$(i,s),lc(e,a,i),k$(i)}),r&&o)throw new Error(e+' contains ".value" child '+ro(i)+" in addition to actual children.")}},o3=function(e,t){let n,i;for(n=0;n<t.length;n++){i=t[n];let o=Wl(i);for(let s=0;s<o.length;s++)if(!(o[s]===".priority"&&s===o.length-1)){if(!Tf(o[s]))throw new Error(e+"contains an invalid key ("+o[s]+") in path "+i.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}t.sort(x$);let r=null;for(n=0;n<t.length;n++){if(i=t[n],r!==null&&tn(r,i))throw new Error(e+"contains a path "+r.toString()+" that is ancestor of another path "+i.toString());r=i}},WA=function(e,t,n,i){if(i&&t===void 0)return;let r=St(e,"values");if(!(t&&typeof t=="object")||Array.isArray(t))throw new Error(r+" must be an object containing the children to replace.");let o=[];Je(t,(s,a)=>{let l=new ce(s);if(lc(r,a,De(n,l)),_0(l)===".priority"&&!ec(a))throw new Error(r+"contains an invalid value for '"+l.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(l)}),o3(r,o)},k0=function(e,t,n){if(!(n&&t===void 0)){if(_f(t))throw new Error(St(e,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!ec(t))throw new Error(St(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},cc=function(e,t,n,i){if(!(i&&n===void 0)&&!Tf(n))throw new Error(St(e,t)+'was an invalid key = "'+n+`".  Firebase keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]").`)},Ks=function(e,t,n,i){if(!(i&&n===void 0)&&!$A(n))throw new Error(St(e,t)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},s3=function(e,t,n,i){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Ks(e,t,n,i)},Ht=function(e,t){if(Z(t)===".info")throw new Error(e+" failed = Can't modify data under /.info/")},GA=function(e,t){let n=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!Tf(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!r3(n))throw new Error(St(e,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};var Zy=class{constructor(){this.eventLists_=[],this.recursionDepth_=0}};function Sf(e,t){let n=null;for(let i=0;i<t.length;i++){let r=t[i],o=r.getPath();n!==null&&!v0(o,n.path)&&(e.eventLists_.push(n),n=null),n===null&&(n={events:[],path:o}),n.events.push(r)}n&&e.eventLists_.push(n)}function zA(e,t,n){Sf(e,n),qA(e,i=>v0(i,t))}function $t(e,t,n){Sf(e,n),qA(e,i=>tn(i,t)||tn(t,i))}function qA(e,t){e.recursionDepth_++;let n=!0;for(let i=0;i<e.eventLists_.length;i++){let r=e.eventLists_[i];if(r){let o=r.path;t(o)?(a3(e.eventLists_[i]),e.eventLists_[i]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function a3(e){for(let t=0;t<e.events.length;t++){let n=e.events[t];if(n!==null){e.events[t]=null;let i=n.getEventRunner();so&&Ze("event: "+n.toString()),zs(i)}}}var YA="repo_interrupt",l3=25,Jy=class{constructor(t,n,i,r){this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Zy,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Xh(),this.transactionQueueTree_=new Xl,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}};function c3(e,t,n){if(e.stats_=m0(e.repoInfo_),e.forceRestClient_||c$())e.server_=new Ry(e.repoInfo_,(i,r,o,s)=>{W1(e,i,r,o,s)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>G1(e,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Ve(n)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}e.persistentConnection_=new y0(e.repoInfo_,t,(i,r,o,s)=>{W1(e,i,r,o,s)},i=>{G1(e,i)},i=>{u3(e,i)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(i=>{e.server_.refreshAuthToken(i)}),e.appCheckProvider_.addTokenChangeListener(i=>{e.server_.refreshAppCheckToken(i.token)}),e.statsReporter_=d$(e.repoInfo_,()=>new Fy(e.stats_,e.server_)),e.infoData_=new Oy,e.infoSyncTree_=new cf({startListening:(i,r,o,s)=>{let a=[],l=e.infoData_.getNode(i._path);return l.isEmpty()||(a=sc(e.infoSyncTree_,i._path,l),setTimeout(()=>{s("ok")},0)),a},stopListening:()=>{}}),F0(e,"connected",!1),e.serverSyncTree_=new cf({startListening:(i,r,o,s)=>(e.server_.listen(i,o,r,(a,l)=>{let c=s(a,l);$t(e.eventQueue_,i._path,c)}),[]),stopListening:(i,r)=>{e.server_.unlisten(i,r)}})}function KA(e){let n=e.infoData_.getNode(new ce(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function uc(e){return QW({timestamp:KA(e)})}function W1(e,t,n,i,r){e.dataUpdateCount++;let o=new ce(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let s=[];if(r)if(i){let l=fa(n,c=>Ne(c));s=WW(e.serverSyncTree_,o,l,r)}else{let l=Ne(n);s=FA(e.serverSyncTree_,o,l,r)}else if(i){let l=fa(n,c=>Ne(c));s=UW(e.serverSyncTree_,o,l)}else{let l=Ne(n);s=sc(e.serverSyncTree_,o,l)}let a=o;s.length>0&&(a=Ws(e,o)),$t(e.eventQueue_,a,s)}function G1(e,t){F0(e,"connected",t),t===!1&&f3(e)}function u3(e,t){Je(t,(n,i)=>{F0(e,n,i)})}function F0(e,t,n){let i=new ce("/.info/"+t),r=Ne(n);e.infoData_.updateSnapshot(i,r);let o=sc(e.infoSyncTree_,i,r);$t(e.eventQueue_,i,o)}function Af(e){return e.nextWriteId_++}function d3(e,t,n){let i=GW(e.serverSyncTree_,t);return i!=null?Promise.resolve(i):e.server_.get(t).then(r=>{let o=Ne(r).withIndex(t._queryParams.getIndex());qy(e.serverSyncTree_,t,n,!0);let s;if(t._queryParams.loadsAllData())s=sc(e.serverSyncTree_,t._path,o);else{let a=Jl(e.serverSyncTree_,t);s=FA(e.serverSyncTree_,t._path,o,a)}return $t(e.eventQueue_,t._path,s),uf(e.serverSyncTree_,t,n,null,!0),o},r=>(Qs(e,"get for query "+Ve(t)+" failed: "+r),Promise.reject(new Error(r))))}function L0(e,t,n,i,r){Qs(e,"set",{path:t.toString(),value:n,priority:i});let o=uc(e),s=Ne(n,i),a=Cf(e.serverSyncTree_,t),l=O0(s,a,o),c=Af(e),u=A0(e.serverSyncTree_,t,l,c,!0);Sf(e.eventQueue_,u),e.server_.put(t.toString(),s.val(!0),(h,f)=>{let p=h==="ok";p||gt("set at "+t+" failed: "+h);let g=ur(e.serverSyncTree_,c,!p);$t(e.eventQueue_,t,g),mr(e,r,h,f)});let d=B0(e,t);Ws(e,d),$t(e.eventQueue_,d,[])}function h3(e,t,n,i){Qs(e,"update",{path:t.toString(),value:n});let r=!0,o=uc(e),s={};if(Je(n,(a,l)=>{r=!1,s[a]=jA(De(t,a),Ne(l),e.serverSyncTree_,o)}),r)Ze("update() called with empty data.  Don't do anything."),mr(e,i,"ok",void 0);else{let a=Af(e),l=jW(e.serverSyncTree_,t,s,a);Sf(e.eventQueue_,l),e.server_.merge(t.toString(),n,(c,u)=>{let d=c==="ok";d||gt("update at "+t+" failed: "+c);let h=ur(e.serverSyncTree_,a,!d),f=h.length>0?Ws(e,t):t;$t(e.eventQueue_,f,h),mr(e,i,c,u)}),Je(n,c=>{let u=B0(e,De(t,c));Ws(e,u)}),$t(e.eventQueue_,t,[])}}function f3(e){Qs(e,"onDisconnectEvents");let t=uc(e),n=Xh();Py(e.onDisconnect_,le(),(r,o)=>{let s=jA(r,o,e.serverSyncTree_,t);qs(n,r,s)});let i=[];Py(n,le(),(r,o)=>{i=i.concat(sc(e.serverSyncTree_,r,o));let s=B0(e,r);Ws(e,s)}),e.onDisconnect_=Xh(),$t(e.eventQueue_,le(),i)}function p3(e,t,n){e.server_.onDisconnectCancel(t.toString(),(i,r)=>{i==="ok"&&xy(e.onDisconnect_,t),mr(e,n,i,r)})}function z1(e,t,n,i){let r=Ne(n);e.server_.onDisconnectPut(t.toString(),r.val(!0),(o,s)=>{o==="ok"&&qs(e.onDisconnect_,t,r),mr(e,i,o,s)})}function g3(e,t,n,i,r){let o=Ne(n,i);e.server_.onDisconnectPut(t.toString(),o.val(!0),(s,a)=>{s==="ok"&&qs(e.onDisconnect_,t,o),mr(e,r,s,a)})}function m3(e,t,n,i){if($c(n)){Ze("onDisconnect().update() called with empty data.  Don't do anything."),mr(e,i,"ok",void 0);return}e.server_.onDisconnectMerge(t.toString(),n,(r,o)=>{r==="ok"&&Je(n,(s,a)=>{let l=Ne(a);qs(e.onDisconnect_,De(t,s),l)}),mr(e,i,r,o)})}function _3(e,t,n){let i;Z(t._path)===".info"?i=qy(e.infoSyncTree_,t,n):i=qy(e.serverSyncTree_,t,n),zA(e.eventQueue_,t._path,i)}function Xy(e,t,n){let i;Z(t._path)===".info"?i=uf(e.infoSyncTree_,t,n):i=uf(e.serverSyncTree_,t,n),zA(e.eventQueue_,t._path,i)}function QA(e){e.persistentConnection_&&e.persistentConnection_.interrupt(YA)}function v3(e){e.persistentConnection_&&e.persistentConnection_.resume(YA)}function Qs(e,...t){let n="";e.persistentConnection_&&(n=e.persistentConnection_.id+":"),Ze(n,...t)}function mr(e,t,n,i){t&&zs(()=>{if(n==="ok")t(null);else{let r=(n||"error").toUpperCase(),o=r;i&&(o+=": "+i);let s=new Error(o);s.code=r,t(s)}})}function y3(e,t,n,i,r,o){Qs(e,"transaction on "+t);let s={path:t,update:n,onComplete:i,status:null,order:K1(),applyLocally:o,retryCount:0,unwatcher:r,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},a=V0(e,t,void 0);s.currentInputSnapshot=a;let l=s.update(a.val());if(l===void 0)s.unwatcher(),s.currentOutputSnapshotRaw=null,s.currentOutputSnapshotResolved=null,s.onComplete&&s.onComplete(null,!1,s.currentInputSnapshot);else{lc("transaction failed: Data returned ",l,s.path),s.status=0;let c=Ef(e.transactionQueueTree_,t),u=uo(c)||[];u.push(s),P0(c,u);let d;typeof l=="object"&&l!==null&&qt(l,".priority")?(d=Bi(l,".priority"),b(ec(d),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):d=(Cf(e.serverSyncTree_,t)||W.EMPTY_NODE).getPriority().val();let h=uc(e),f=Ne(l,d),p=O0(f,a,h);s.currentOutputSnapshotRaw=f,s.currentOutputSnapshotResolved=p,s.currentWriteId=Af(e);let g=A0(e.serverSyncTree_,t,p,s.currentWriteId,s.applyLocally);$t(e.eventQueue_,t,g),Mf(e,e.transactionQueueTree_)}}function V0(e,t,n){return Cf(e.serverSyncTree_,t,n)||W.EMPTY_NODE}function Mf(e,t=e.transactionQueueTree_){if(t||Nf(e,t),uo(t)){let n=JA(e,t);b(n.length>0,"Sending zero length transaction queue"),n.every(r=>r.status===0)&&b3(e,ac(t),n)}else UA(t)&&If(t,n=>{Mf(e,n)})}function b3(e,t,n){let i=n.map(c=>c.currentWriteId),r=V0(e,t,i),o=r,s=r.hash();for(let c=0;c<n.length;c++){let u=n[c];b(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;let d=Dt(t,u.path);o=o.updateChild(d,u.currentOutputSnapshotRaw)}let a=o.val(!0),l=t;e.server_.put(l.toString(),a,c=>{Qs(e,"transaction put response",{path:l.toString(),status:c});let u=[];if(c==="ok"){let d=[];for(let h=0;h<n.length;h++)n[h].status=2,u=u.concat(ur(e.serverSyncTree_,n[h].currentWriteId)),n[h].onComplete&&d.push(()=>n[h].onComplete(null,!0,n[h].currentOutputSnapshotResolved)),n[h].unwatcher();Nf(e,Ef(e.transactionQueueTree_,t)),Mf(e,e.transactionQueueTree_),$t(e.eventQueue_,t,u);for(let h=0;h<d.length;h++)zs(d[h])}else{if(c==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{gt("transaction at "+l.toString()+" failed: "+c);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=c}Ws(e,t)}},s)}function Ws(e,t){let n=ZA(e,t),i=ac(n),r=JA(e,n);return w3(e,r,i),i}function w3(e,t,n){if(t.length===0)return;let i=[],r=[],s=t.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<t.length;a++){let l=t[a],c=Dt(n,l.path),u=!1,d;if(b(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)u=!0,d=l.abortReason,r=r.concat(ur(e.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=l3)u=!0,d="maxretry",r=r.concat(ur(e.serverSyncTree_,l.currentWriteId,!0));else{let h=V0(e,l.path,s);l.currentInputSnapshot=h;let f=t[a].update(h.val());if(f!==void 0){lc("transaction failed: Data returned ",f,l.path);let p=Ne(f);typeof f=="object"&&f!=null&&qt(f,".priority")||(p=p.updatePriority(h.getPriority()));let v=l.currentWriteId,w=uc(e),N=O0(p,h,w);l.currentOutputSnapshotRaw=p,l.currentOutputSnapshotResolved=N,l.currentWriteId=Af(e),s.splice(s.indexOf(v),1),r=r.concat(A0(e.serverSyncTree_,l.path,N,l.currentWriteId,l.applyLocally)),r=r.concat(ur(e.serverSyncTree_,v,!0))}else u=!0,d="nodata",r=r.concat(ur(e.serverSyncTree_,l.currentWriteId,!0))}$t(e.eventQueue_,n,r),r=[],u&&(t[a].status=2,function(h){setTimeout(h,Math.floor(0))}(t[a].unwatcher),t[a].onComplete&&(d==="nodata"?i.push(()=>t[a].onComplete(null,!1,t[a].currentInputSnapshot)):i.push(()=>t[a].onComplete(new Error(d),!1,null))))}Nf(e,e.transactionQueueTree_);for(let a=0;a<i.length;a++)zs(i[a]);Mf(e,e.transactionQueueTree_)}function ZA(e,t){let n,i=e.transactionQueueTree_;for(n=Z(t);n!==null&&uo(i)===void 0;)i=Ef(i,n),t=ye(t),n=Z(t);return i}function JA(e,t){let n=[];return XA(e,t,n),n.sort((i,r)=>i.order-r.order),n}function XA(e,t,n){let i=uo(t);if(i)for(let r=0;r<i.length;r++)n.push(i[r]);If(t,r=>{XA(e,r,n)})}function Nf(e,t){let n=uo(t);if(n){let i=0;for(let r=0;r<n.length;r++)n[r].status!==2&&(n[i]=n[r],i++);n.length=i,P0(t,n.length>0?n:void 0)}If(t,i=>{Nf(e,i)})}function B0(e,t){let n=ac(ZA(e,t)),i=Ef(e.transactionQueueTree_,t);return e3(i,r=>{ly(e,r)}),ly(e,i),HA(i,r=>{ly(e,r)}),n}function ly(e,t){let n=uo(t);if(n){let i=[],r=[],o=-1;for(let s=0;s<n.length;s++)n[s].status===3||(n[s].status===1?(b(o===s-1,"All SENT items should be at beginning of queue."),o=s,n[s].status=3,n[s].abortReason="set"):(b(n[s].status===0,"Unexpected transaction status in abort"),n[s].unwatcher(),r=r.concat(ur(e.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&i.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));o===-1?P0(t,void 0):n.length=o+1,$t(e.eventQueue_,ac(t),r);for(let s=0;s<i.length;s++)zs(i[s])}}function C3(e){let t="",n=e.split("/");for(let i=0;i<n.length;i++)if(n[i].length>0){let r=n[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}t+="/"+r}return t}function D3(e){let t={};e.charAt(0)==="?"&&(e=e.substring(1));for(let n of e.split("&")){if(n.length===0)continue;let i=n.split("=");i.length===2?t[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):gt(`Invalid query segment '${n}' in query '${e}'`)}return t}var e0=function(e,t){let n=E3(e),i=n.namespace;n.domain==="firebase.com"&&Xn(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||i==="undefined")&&n.domain!=="localhost"&&Xn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||e$();let r=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new Gh(n.host,n.secure,i,r,t,"",i!==n.subdomain),path:new ce(n.pathString)}},E3=function(e){let t="",n="",i="",r="",o="",s=!0,a="https",l=443;if(typeof e=="string"){let c=e.indexOf("//");c>=0&&(a=e.substring(0,c-1),e=e.substring(c+2));let u=e.indexOf("/");u===-1&&(u=e.length);let d=e.indexOf("?");d===-1&&(d=e.length),t=e.substring(0,Math.min(u,d)),u<d&&(r=C3(e.substring(u,d)));let h=D3(e.substring(Math.min(e.length,d)));c=t.indexOf(":"),c>=0?(s=a==="https"||a==="wss",l=parseInt(t.substring(c+1),10)):c=t.length;let f=t.slice(0,c);if(f.toLowerCase()==="localhost")n="localhost";else if(f.split(".").length<=2)n=f;else{let p=t.indexOf(".");i=t.substring(0,p).toLowerCase(),n=t.substring(p+1),o=i}"ns"in h&&(o=h.ns)}return{host:t,port:l,domain:n,subdomain:i,secure:s,scheme:a,pathString:r,namespace:o}};var q1="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",I3=function(){let e=0,t=[];return function(n){let i=n===e;e=n;let r,o=new Array(8);for(r=7;r>=0;r--)o[r]=q1.charAt(n%64),n=Math.floor(n/64);b(n===0,"Cannot push at time == 0");let s=o.join("");if(i){for(r=11;r>=0&&t[r]===63;r--)t[r]=0;t[r]++}else for(r=0;r<12;r++)t[r]=Math.floor(Math.random()*64);for(r=0;r<12;r++)s+=q1.charAt(t[r]);return b(s.length===20,"nextPushId: Length should be 20."),s}}();var df=class{constructor(t,n,i,r){this.eventType=t,this.eventRegistration=n,this.snapshot=i,this.prevName=r}getPath(){let t=this.snapshot.ref;return this.eventType==="value"?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Ve(this.snapshot.exportVal())}},hf=class{constructor(t,n,i){this.eventRegistration=t,this.error=n,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}};var tc=class{constructor(t,n){this.snapshotCallback=t,this.cancelCallback=n}onValue(t,n){this.snapshotCallback.call(null,t,n)}onCancel(t){return b(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}};var ff=class{constructor(t,n){this._repo=t,this._path=n}cancel(){let t=new Ye;return p3(this._repo,this._path,t.wrapCallback(()=>{})),t.promise}remove(){Ht("OnDisconnect.remove",this._path);let t=new Ye;return z1(this._repo,this._path,null,t.wrapCallback(()=>{})),t.promise}set(t){Ht("OnDisconnect.set",this._path),ti("OnDisconnect.set",t,this._path,!1);let n=new Ye;return z1(this._repo,this._path,t,n.wrapCallback(()=>{})),n.promise}setWithPriority(t,n){Ht("OnDisconnect.setWithPriority",this._path),ti("OnDisconnect.setWithPriority",t,this._path,!1),k0("OnDisconnect.setWithPriority",n,!1);let i=new Ye;return g3(this._repo,this._path,t,n,i.wrapCallback(()=>{})),i.promise}update(t){Ht("OnDisconnect.update",this._path),WA("OnDisconnect.update",t,this._path,!1);let n=new Ye;return m3(this._repo,this._path,t,n.wrapCallback(()=>{})),n.promise}};var It=class e{constructor(t,n,i,r){this._repo=t,this._path=n,this._queryParams=i,this._orderByCalled=r}get key(){return J(this._path)?null:_0(this._path)}get ref(){return new Wt(this._repo,this._path)}get _queryIdentifier(){let t=x1(this._queryParams),n=g0(t);return n==="{}"?"default":n}get _queryObject(){return x1(this._queryParams)}isEqual(t){if(t=_t(t),!(t instanceof e))return!1;let n=this._repo===t._repo,i=v0(this._path,t._path),r=this._queryIdentifier===t._queryIdentifier;return n&&i&&r}toJSON(){return this.toString()}toString(){return this._repo.toString()+O$(this._path)}};function Rf(e,t){if(e._orderByCalled===!0)throw new Error(t+": You can't combine multiple orderBy calls.")}function _r(e){let t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===Jn){let i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",r="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!==fr)throw new Error(i);if(typeof t!="string")throw new Error(r)}if(e.hasEnd()){if(e.getIndexEndName()!==Ri)throw new Error(i);if(typeof n!="string")throw new Error(r)}}else if(e.getIndex()===be){if(t!=null&&!ec(t)||n!=null&&!ec(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(b(e.getIndex()instanceof Gl||e.getIndex()===w0,"unknown index type."),t!=null&&typeof t=="object"||n!=null&&typeof n=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Of(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var Wt=class e extends It{constructor(t,n){super(t,n,new Kl,!1)}get parent(){let t=mA(this._path);return t===null?null:new e(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}},Gs=class e{constructor(t,n,i){this._node=t,this.ref=n,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){let n=new ce(t),i=Oi(this.ref,t);return new e(this._node.getChild(n),i,be)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(i,r)=>t(new e(r,Oi(this.ref,i),be)))}hasChild(t){let n=new ce(t);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}};function dc(e,t){return e=_t(e),e._checkNotDeleted("ref"),t!==void 0?Oi(e._root,t):e._root}function xf(e,t){e=_t(e),e._checkNotDeleted("refFromURL");let n=e0(t,e._repo.repoInfo_.nodeAdmin);GA("refFromURL",n);let i=n.repoInfo;return!e._repo.repoInfo_.isCustomHost()&&i.host!==e._repo.repoInfo_.host&&Xn("refFromURL: Host name does not match the current database: (found "+i.host+" but expected "+e._repo.repoInfo_.host+")"),dc(e,n.path.toString())}function Oi(e,t){return e=_t(e),Z(e._path)===null?s3("child","path",t,!1):Ks("child","path",t,!1),new Wt(e._repo,De(e._path,t))}function j0(e,t){e=_t(e),Ht("push",e._path),ti("push",t,e._path,!0);let n=KA(e._repo),i=I3(n),r=Oi(e,i),o=Oi(e,i),s;return t!=null?s=Zs(o,t).then(()=>o):s=Promise.resolve(o),r.then=s.then.bind(s),r.catch=s.then.bind(s,void 0),r}function U0(e){return Ht("remove",e._path),Zs(e,null)}function Zs(e,t){e=_t(e),Ht("set",e._path),ti("set",t,e._path,!1);let n=new Ye;return L0(e._repo,e._path,t,null,n.wrapCallback(()=>{})),n.promise}function H0(e,t){e=_t(e),Ht("setPriority",e._path),k0("setPriority",t,!1);let n=new Ye;return L0(e._repo,De(e._path,".priority"),t,null,n.wrapCallback(()=>{})),n.promise}function $0(e,t,n){if(Ht("setWithPriority",e._path),ti("setWithPriority",t,e._path,!1),k0("setWithPriority",n,!1),e.key===".length"||e.key===".keys")throw"setWithPriority failed: "+e.key+" is a read-only object.";let i=new Ye;return L0(e._repo,e._path,t,n,i.wrapCallback(()=>{})),i.promise}function W0(e,t){WA("update",t,e._path,!1);let n=new Ye;return h3(e._repo,e._path,t,n.wrapCallback(()=>{})),n.promise}function Pf(e){e=_t(e);let t=new tc(()=>{}),n=new nc(t);return d3(e._repo,e,n).then(i=>new Gs(i,new Wt(e._repo,e._path),e._queryParams.getIndex()))}var nc=class e{constructor(t){this.callbackContext=t}respondsTo(t){return t==="value"}createEvent(t,n){let i=n._queryParams.getIndex();return new df("value",this,new Gs(t.snapshotNode,new Wt(n._repo,n._path),i))}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,n){return this.callbackContext.hasCancelCallback?new hf(this,t,n):null}matches(t){return t instanceof e?!t.callbackContext||!this.callbackContext?!0:t.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}},pf=class e{constructor(t,n){this.eventType=t,this.callbackContext=n}respondsTo(t){let n=t==="children_added"?"child_added":t;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(t,n){return this.callbackContext.hasCancelCallback?new hf(this,t,n):null}createEvent(t,n){b(t.childName!=null,"Child events should have a childName.");let i=Oi(new Wt(n._repo,n._path),t.childName),r=n._queryParams.getIndex();return new df(t.type,this,new Gs(t.snapshotNode,i,r),t.prevName)}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof e?this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}};function hc(e,t,n,i,r){let o;if(typeof i=="object"&&(o=void 0,r=i),typeof i=="function"&&(o=i),r&&r.onlyOnce){let l=n,c=(u,d)=>{Xy(e._repo,e,a),l(u,d)};c.userCallback=n.userCallback,c.context=n.context,n=c}let s=new tc(n,o||void 0),a=t==="value"?new nc(s):new pf(t,s);return _3(e._repo,e,a),()=>Xy(e._repo,e,a)}function fc(e,t,n,i){return hc(e,"value",t,n,i)}function kf(e,t,n,i){return hc(e,"child_added",t,n,i)}function Ff(e,t,n,i){return hc(e,"child_changed",t,n,i)}function Lf(e,t,n,i){return hc(e,"child_moved",t,n,i)}function Vf(e,t,n,i){return hc(e,"child_removed",t,n,i)}function Bf(e,t,n){let i=null,r=n?new tc(n):null;t==="value"?i=new nc(r):t&&(i=new pf(t,r)),Xy(e._repo,e,i)}var Gt=class{},gf=class extends Gt{constructor(t,n){super(),this._value=t,this._key=n,this.type="endAt"}_apply(t){ti("endAt",this._value,t._path,!0);let n=Ny(t._queryParams,this._value,this._key);if(Of(n),_r(n),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new It(t._repo,t._path,n,t._orderByCalled)}};function G0(e,t){return cc("endAt","key",t,!0),new gf(e,t)}var t0=class extends Gt{constructor(t,n){super(),this._value=t,this._key=n,this.type="endBefore"}_apply(t){ti("endBefore",this._value,t._path,!1);let n=Z$(t._queryParams,this._value,this._key);if(Of(n),_r(n),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new It(t._repo,t._path,n,t._orderByCalled)}};function z0(e,t){return cc("endBefore","key",t,!0),new t0(e,t)}var mf=class extends Gt{constructor(t,n){super(),this._value=t,this._key=n,this.type="startAt"}_apply(t){ti("startAt",this._value,t._path,!0);let n=My(t._queryParams,this._value,this._key);if(Of(n),_r(n),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new It(t._repo,t._path,n,t._orderByCalled)}};function q0(e=null,t){return cc("startAt","key",t,!0),new mf(e,t)}var n0=class extends Gt{constructor(t,n){super(),this._value=t,this._key=n,this.type="startAfter"}_apply(t){ti("startAfter",this._value,t._path,!1);let n=Q$(t._queryParams,this._value,this._key);if(Of(n),_r(n),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new It(t._repo,t._path,n,t._orderByCalled)}};function Y0(e,t){return cc("startAfter","key",t,!0),new n0(e,t)}var i0=class extends Gt{constructor(t){super(),this._limit=t,this.type="limitToFirst"}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new It(t._repo,t._path,Y$(t._queryParams,this._limit),t._orderByCalled)}};function K0(e){if(typeof e!="number"||Math.floor(e)!==e||e<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new i0(e)}var r0=class extends Gt{constructor(t){super(),this._limit=t,this.type="limitToLast"}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new It(t._repo,t._path,K$(t._queryParams,this._limit),t._orderByCalled)}};function Q0(e){if(typeof e!="number"||Math.floor(e)!==e||e<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new r0(e)}var o0=class extends Gt{constructor(t){super(),this._path=t,this.type="orderByChild"}_apply(t){Rf(t,"orderByChild");let n=new ce(this._path);if(J(n))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");let i=new Gl(n),r=vf(t._queryParams,i);return _r(r),new It(t._repo,t._path,r,!0)}};function Z0(e){if(e==="$key")throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if(e==="$priority")throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if(e==="$value")throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Ks("orderByChild","path",e,!1),new o0(e)}var s0=class extends Gt{constructor(){super(...arguments),this.type="orderByKey"}_apply(t){Rf(t,"orderByKey");let n=vf(t._queryParams,Jn);return _r(n),new It(t._repo,t._path,n,!0)}};function J0(){return new s0}var a0=class extends Gt{constructor(){super(...arguments),this.type="orderByPriority"}_apply(t){Rf(t,"orderByPriority");let n=vf(t._queryParams,be);return _r(n),new It(t._repo,t._path,n,!0)}};function X0(){return new a0}var l0=class extends Gt{constructor(){super(...arguments),this.type="orderByValue"}_apply(t){Rf(t,"orderByValue");let n=vf(t._queryParams,w0);return _r(n),new It(t._repo,t._path,n,!0)}};function eb(){return new l0}var c0=class extends Gt{constructor(t,n){super(),this._value=t,this._key=n,this.type="equalTo"}_apply(t){if(ti("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new gf(this._value,this._key)._apply(new mf(this._value,this._key)._apply(t))}};function tb(e,t){return cc("equalTo","key",t,!0),new c0(e,t)}function zt(e,...t){let n=_t(e);for(let i of t)n=i._apply(n);return n}OW(Wt);LW(Wt);var T3="FIREBASE_DATABASE_EMULATOR_HOST",u0={},S3=!1;function A3(e,t,n,i){e.repoInfo_=new Gh(`${t}:${n}`,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0),i&&(e.authTokenProvider_=i)}function nb(e,t,n,i,r){let o=i||e.options.databaseURL;o===void 0&&(e.options.projectId||Xn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ze("Using default host for project ",e.options.projectId),o=`${e.options.projectId}-default-rtdb.firebaseio.com`);let s=e0(o,r),a=s.repoInfo,l,c;typeof process<"u"&&process.env&&(c=process.env[T3]),c?(l=!0,o=`http://${c}?ns=${a.namespace}`,s=e0(o,r),a=s.repoInfo):l=!s.repoInfo.secure;let u=r&&l?new Bl(Bl.OWNER):new py(e.name,e.options,t);GA("Invalid Firebase Database URL",s),J(s.path)||Xn("Database URL must point to the root of a Firebase Database (not including a child path).");let d=N3(a,e,u,new fy(e.name,n));return new d0(d,e)}function M3(e,t){let n=u0[t];(!n||n[e.key]!==e)&&Xn(`Database ${t}(${e.repoInfo_}) has already been deleted.`),QA(e),delete n[e.key]}function N3(e,t,n,i){let r=u0[t.name];r||(r={},u0[t.name]=r);let o=r[e.toURLString()];return o&&Xn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new Jy(e,S3,n,i),r[e.toURLString()]=o,o}var d0=class{constructor(t,n){this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(c3(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Wt(this._repo,le())),this._rootInternal}_delete(){return this._rootInternal!==null&&(M3(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&Xn("Cannot call "+t+" on a deleted database.")}};function eM(){gA.IS_TRANSPORT_INITIALIZED&&gt("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function ib(){eM(),$l.forceDisallow()}function rb(){eM(),ks.forceDisallow(),$l.forceAllow()}function tM(e=Io(),t){let n=Op(e,"database").getImmediate({identifier:t});if(!n._instanceStarted){let i=Mw("database");i&&jf(n,...i)}return n}function jf(e,t,n,i={}){e=_t(e),e._checkNotDeleted("useEmulator"),e._instanceStarted&&Xn("Cannot call useEmulator() after instance has already been initialized.");let r=e._repoInternal,o;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&Xn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new Bl(Bl.OWNER);else if(i.mockUserToken){let s=typeof i.mockUserToken=="string"?i.mockUserToken:Nw(i.mockUserToken,e.app.options.projectId);o=new Bl(s)}A3(r,t,n,o)}function ob(e){e=_t(e),e._checkNotDeleted("goOffline"),QA(e._repo)}function sb(e){e=_t(e),e._checkNotDeleted("goOnline"),v3(e._repo)}function ab(e,t){Z1(e,t)}function R3(e){p0(jw),ga(new ii("database",(t,{instanceIdentifier:n})=>{let i=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),o=t.getProvider("app-check-internal");return nb(i,r,o,n)},"PUBLIC").setMultipleInstances(!0)),nt(m1,_1,e),nt(m1,_1,"esm2017")}var O3={".sv":"timestamp"};function lb(){return O3}function cb(e){return{".sv":{increment:e}}}var h0=class{constructor(t,n){this.committed=t,this.snapshot=n}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}};function ub(e,t,n){var i;if(e=_t(e),Ht("Reference.transaction",e._path),e.key===".length"||e.key===".keys")throw"Reference.transaction failed: "+e.key+" is a read-only object.";let r=(i=n?.applyLocally)!==null&&i!==void 0?i:!0,o=new Ye,s=(l,c,u)=>{let d=null;l?o.reject(l):(d=new Gs(u,new Wt(e._repo,e._path),be),o.resolve(new h0(c,d)))},a=fc(e,()=>{});return y3(e._repo,e._path,t,s,a,r),o.promise}y0.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)};y0.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};R3();var pc=class{constructor(e){return e}},nM="database",P3=class{constructor(){return Rl(nM)}};var db=new E("angularfire2.database-instances");function k3(e,t){let n=Uh(nM,e,t);return n&&new pc(n)}function F3(e){return(t,n)=>{let i=t.runOutsideAngular(()=>e(n));return new pc(i)}}var L3={provide:P3,deps:[[new ot,db]]},V3={provide:pc,useFactory:k3,deps:[[new ot,db],io]};function iM(e,...t){return nt("angularfire",no.full,"rtdb"),Xi([V3,L3,{provide:db,useFactory:F3(e),multi:!0,deps:[H,Ae,Qn,Ol,[new ot,ey],[new ot,Mi],...t]}])}var hb=Ni(Pf,!0),rM=Ni(tM,!0);var fb=Ni(dc,!0);var oM=Ni(Zs,!0);var ni=class e{constructor(t){this.db=t}save(t){return _(this,null,function*(){let n=fb(this.db,`/users/${t.uid}`),i=yield hb(n),r=!1;return i.exists()&&(r=i.val().isAdmin),ue(oM(n,{name:t.displayName,email:t.email,isAdmin:r}))})}get(t){if(!t)return R({name:"",email:"",isAdmin:!1});let n=fb(this.db,`/users/${t}`);return ue(hb(n)).pipe(S(i=>i.exists()?i.val():{name:"",email:"",isAdmin:!1}))}static \u0275fac=function(n){return new(n||e)(y(pc))};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})};var Pt=class e{constructor(t,n,i,r){this.userService=t;this.auth=n;this.router=i;this.route=r;this.user$=new F(o=>this.auth.onAuthStateChanged(o))}user$;loginWithGoogle(){return _(this,null,function*(){let t=this.route.snapshot.queryParamMap.get("returnUrl")||"/";return localStorage.setItem("returnUrl",t),yield Zv(this.auth,new Qv,Jv)})}logout(){return _(this,null,function*(){yield this.auth.signOut()})}get appUser(){return this.user$.pipe(he(t=>t?this.userService.get(t.uid):(this.router.navigate(["/login"]),R({name:"",email:"",isAdmin:!1}))))}static \u0275fac=function(n){return new(n||e)(y(ni),y(xl),y(ke),y(wn))};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})};var Uf=class e{constructor(t,n){this.auth=t;this.router=n}loginWithGoogle(){this.auth.loginWithGoogle()}static \u0275fac=function(n){return new(n||e)(O(Pt),O(ke))};static \u0275cmp=fe({type:e,selectors:[["app-login"]],decls:7,vars:0,consts:[[1,"container","mt-5"],[1,"row","justify-content-center"],[1,"col-md-6","text-center"],[1,"btn","btn-primary","mt-3",3,"click"]],template:function(n,i){n&1&&(M(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2"),k(4,"Login"),I(),M(5,"button",3),Ge("click",function(){return i.loginWithGoogle()}),k(6," Login with Google "),I()()()())},encapsulation:2})};var Hf=class e{static \u0275fac=function(n){return new(n||e)};static \u0275cmp=fe({type:e,selectors:[["app-check-out"]],decls:2,vars:0,template:function(n,i){n&1&&(M(0,"p"),k(1,"check-out works!"),I())}})};var j3=new Map,U3={activated:!1,tokenObservers:[]},H3={initialized:!1,enabled:!1};function Sn(e){return j3.get(e)||Object.assign({},U3)}function uM(){return H3}var $3="https://content-firebaseappcheck.googleapis.com/v1";var W3="exchangeDebugToken",sM={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},Pte=24*60*60*1e3;var mb=class{constructor(t,n,i,r,o){if(this.operation=t,this.retryPolicy=n,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=r,r>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){return _(this,null,function*(){this.stop();try{this.pending=new Ye,this.pending.promise.catch(n=>{}),yield G3(this.getNextRun(t)),this.pending.resolve(),yield this.pending.promise,this.pending=new Ye,this.pending.promise.catch(n=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}};function G3(e){return new Promise(t=>{setTimeout(t,e)})}var z3={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"},vr=new xw("appCheck","AppCheck",z3);function dM(e){if(!Sn(e).activated)throw vr.create("use-before-activation",{appName:e.name})}function hM(i,r){return _(this,arguments,function*({url:e,body:t},n){let o={"Content-Type":"application/json"},s=n.getImmediate({optional:!0});if(s){let f=yield s.getHeartbeatsHeader();f&&(o["X-Firebase-Client"]=f)}let a={method:"POST",body:JSON.stringify(t),headers:o},l;try{l=yield fetch(e,a)}catch(f){throw vr.create("fetch-network-error",{originalErrorMessage:f?.message})}if(l.status!==200)throw vr.create("fetch-status-error",{httpStatus:l.status});let c;try{c=yield l.json()}catch(f){throw vr.create("fetch-parse-error",{originalErrorMessage:f?.message})}let u=c.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw vr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${c.ttl}`});let d=Number(u[1])*1e3,h=Date.now();return{token:c.token,expireTimeMillis:h+d,issuedAtTimeMillis:h}})}function fM(e,t){let{projectId:n,appId:i,apiKey:r}=e.options;return{url:`${$3}/projects/${n}/apps/${i}:${W3}?key=${r}`,body:{debug_token:t}}}var q3="firebase-app-check-database",Y3=1,_b="firebase-app-check-store";var $f=null;function K3(){return $f||($f=new Promise((e,t)=>{try{let n=indexedDB.open(q3,Y3);n.onsuccess=i=>{e(i.target.result)},n.onerror=i=>{var r;t(vr.create("storage-open",{originalErrorMessage:(r=i.target.error)===null||r===void 0?void 0:r.message}))},n.onupgradeneeded=i=>{let r=i.target.result;switch(i.oldVersion){case 0:r.createObjectStore(_b,{keyPath:"compositeKey"})}}}catch(n){t(vr.create("storage-open",{originalErrorMessage:n?.message}))}}),$f)}function Q3(e,t){return Z3(J3(e),t)}function Z3(e,t){return _(this,null,function*(){let i=(yield K3()).transaction(_b,"readwrite"),o=i.objectStore(_b).put({compositeKey:e,value:t});return new Promise((s,a)=>{o.onsuccess=l=>{s()},i.onerror=l=>{var c;a(vr.create("storage-set",{originalErrorMessage:(c=l.target.error)===null||c===void 0?void 0:c.message}))}})})}function J3(e){return`${e.options.appId}-${e.name}`}var vb=new Eo("@firebase/app-check");function gb(e,t){return Ow()?Q3(e,t).catch(n=>{vb.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function pM(){return uM().enabled}function gM(){return _(this,null,function*(){let e=uM();if(e.enabled&&e.token)return e.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var X3={error:"UNKNOWN_ERROR"};function eG(e){return Uc.encodeString(JSON.stringify(e),!1)}function yb(e,t=!1){return _(this,null,function*(){let n=e.app;dM(n);let i=Sn(n),r=i.token,o;if(r&&!mc(r)&&(i.token=void 0,r=void 0),!r){let l=yield i.cachedTokenPromise;l&&(mc(l)?r=l:yield gb(n,void 0))}if(!t&&r&&mc(r))return{token:r.token};let s=!1;if(pM()){i.exchangeTokenPromise||(i.exchangeTokenPromise=hM(fM(n,yield gM()),e.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),s=!0);let l=yield i.exchangeTokenPromise;return yield gb(n,l),i.token=l,{token:l.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),s=!0),r=yield Sn(n).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"?vb.warn(l.message):vb.error(l),o=l}let a;return r?o?mc(r)?a={token:r.token,internalError:o}:a=lM(o):(a={token:r.token},i.token=r,yield gb(n,r)):a=lM(o),s&&rG(n,a),a})}function tG(e){return _(this,null,function*(){let t=e.app;dM(t);let{provider:n}=Sn(t);if(pM()){let i=yield gM(),{token:r}=yield hM(fM(t,i),e.heartbeatServiceProvider);return{token:r}}else{let{token:i}=yield n.getToken();return{token:i}}})}function nG(e,t,n,i){let{app:r}=e,o=Sn(r),s={next:n,error:i,type:t};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&mc(o.token)){let a=o.token;Promise.resolve().then(()=>{n({token:a.token}),aM(e)}).catch(()=>{})}o.cachedTokenPromise.then(()=>aM(e))}function mM(e,t){let n=Sn(e),i=n.tokenObservers.filter(r=>r.next!==t);i.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=i}function aM(e){let{app:t}=e,n=Sn(t),i=n.tokenRefresher;i||(i=iG(e),n.tokenRefresher=i),!i.isRunning()&&n.isTokenAutoRefreshEnabled&&i.start()}function iG(e){let{app:t}=e;return new mb(()=>_(this,null,function*(){let n=Sn(t),i;if(n.token?i=yield yb(e,!0):i=yield yb(e),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{let n=Sn(t);if(n.token){let i=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5,r=n.token.expireTimeMillis-5*60*1e3;return i=Math.min(i,r),Math.max(0,i-Date.now())}else return 0},sM.RETRIAL_MIN_WAIT,sM.RETRIAL_MAX_WAIT)}function rG(e,t){let n=Sn(e).tokenObservers;for(let i of n)try{i.type==="EXTERNAL"&&t.error!=null?i.error(t.error):i.next(t)}catch{}}function mc(e){return e.expireTimeMillis-Date.now()>0}function lM(e){return{token:eG(X3),error:e}}var bb=class{constructor(t,n){this.app=t,this.heartbeatServiceProvider=n}_delete(){let{tokenObservers:t}=Sn(this.app);for(let n of t)mM(this.app,n.next);return Promise.resolve()}};function oG(e,t){return new bb(e,t)}function sG(e){return{getToken:t=>yb(e,t),getLimitedUseToken:()=>tG(e),addTokenListener:t=>nG(e,"INTERNAL",t),removeTokenListener:t=>mM(e.app,t)}}var aG="@firebase/app-check",lG="0.8.8";var cG="app-check",cM="app-check-internal";function uG(){ga(new ii(cG,e=>{let t=e.getProvider("app").getImmediate(),n=e.getProvider("heartbeat");return oG(t,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider(cM).initialize()})),ga(new ii(cM,e=>{let t=e.getProvider("app-check").getImmediate();return sG(t)},"PUBLIC").setInstantiationMode("EXPLICIT")),nt(aG,lG)}uG();var hG=["localhost","0.0.0.0","127.0.0.1"],Wte=typeof window<"u"&&hG.includes(window.location.hostname);var fG="firebase",pG="10.14.1";Rn.registerVersion(fG,pG,"app-compat");var gG=["ngOnDestroy"],yM=(e,t,n,i={})=>new Proxy(e,{get:(r,o)=>n.runOutsideAngular(()=>{if(e[o])return i?.spy?.get&&i.spy.get(o,e[o]),e[o];if(gG.indexOf(o)>-1)return()=>{};let s=t.toPromise().then(a=>{let l=a?.[o];return typeof l=="function"?l.bind(a):l?.then?l.then(c=>n.run(()=>c)):n.run(()=>l)});return new Proxy(()=>{},{get:(a,l)=>s[l],apply:(a,l,c)=>s.then(u=>{let d=u?.(...c);return i?.spy?.apply&&i.spy.apply(o,c,d),d})})})});var mG=class{constructor(e){return e}},Js=new E("angularfire2.app.options"),Wf=new E("angularfire2.app.name");function Gf(e,t,n){let i=typeof n=="string"&&n||"[DEFAULT]",r=typeof n=="object"&&n||{};r.name=r.name||i;let s=Rn.apps.filter(a=>a&&a.name===r.name)[0]||t.runOutsideAngular(()=>Rn.initializeApp(e,r));try{if(JSON.stringify(e)!==JSON.stringify(s.options)){let a=!!module.hot;_G("error",`${s.name} Firebase App already initialized with different options${a?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new mG(s)}var _G=(e,...t)=>{Hd()&&typeof console<"u"&&console[e](...t)};function zf(e,t,n,i,r){let[,o,s]=globalThis.\u0275AngularfireInstanceCache.find(a=>a[0]===e)||[];if(o)return vG(r,s)||(vM("error",`${t} was already initialized on the ${n} Firebase App with different settings.${yG?" You may need to reload as Firebase is not HMR aware.":""}`),vM("warn",{is:r,was:s})),o;{let a=i();return globalThis.\u0275AngularfireInstanceCache.push([e,a,r]),a}}function vG(e,t){try{return e.toString()===t.toString()}catch{return e===t}}var yG=typeof module<"u"&&!!module.hot,vM=(e,...t)=>{Hd()&&typeof console<"u"&&console[e](...t)};globalThis.\u0275AngularfireInstanceCache||=[];var wb=new E("angularfire2.auth.use-emulator"),Cb=new E("angularfire2.auth.settings"),Db=new E("angularfire2.auth.tenant-id"),Eb=new E("angularfire2.auth.langugage-code"),Ib=new E("angularfire2.auth.use-device-language"),Tb=new E("angularfire.auth.persistence"),Sb=(e,t,n,i,r,o,s,a)=>zf(`${e.name}.auth`,"AngularFireAuth",e.name,()=>{let l=t.runOutsideAngular(()=>e.auth());if(n&&l.useEmulator(...n),i&&(l.tenantId=i),l.languageCode=r,o&&l.useDeviceLanguage(),s)for(let[c,u]of Object.entries(s))l.settings[c]=u;return a&&l.setPersistence(a),l},[n,i,r,o,s,a]),bM=class qf{authState;idToken;user;idTokenResult;credential;constructor(n,i,r,o,s,a,l,c,u,d,h,f){let p=new re,g=R(void 0).pipe(Ft(s.outsideAngular),he(()=>o.runOutsideAngular(()=>import("./chunk-PLSDS36Y.js"))),S(()=>Gf(n,o,i)),S(v=>Sb(v,o,a,c,u,d,l,h)),Du({bufferSize:1,refCount:!1}));if(Ja(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=R(null);else{g.pipe(Kt()).subscribe();let v=g.pipe(he(T=>T.getRedirectResult().then(A=>A,()=>null)),En,Du({bufferSize:1,refCount:!1})),w=g.pipe(he(T=>new F(A=>({unsubscribe:o.runOutsideAngular(()=>T.onAuthStateChanged(V=>A.next(V),V=>A.error(V),()=>A.complete()))})))),N=g.pipe(he(T=>new F(A=>({unsubscribe:o.runOutsideAngular(()=>T.onIdTokenChanged(V=>A.next(V),V=>A.error(V),()=>A.complete()))}))));this.authState=v.pipe(Iu(w),Yt(s.outsideAngular),Ft(s.insideAngular)),this.user=v.pipe(Iu(N),Yt(s.outsideAngular),Ft(s.insideAngular)),this.idToken=this.user.pipe(he(T=>T?ue(T.getIdToken()):R(null))),this.idTokenResult=this.user.pipe(he(T=>T?ue(T.getIdTokenResult()):R(null))),this.credential=$i(v,p,this.authState.pipe(Le(T=>!T))).pipe(S(T=>T?.user?T:null),Yt(s.outsideAngular),Ft(s.insideAngular))}return yM(this,g,o,{spy:{apply:(v,w,N)=>{(v.startsWith("signIn")||v.startsWith("createUser"))&&N.then(T=>p.next(T))}}})}static \u0275fac=function(i){return new(i||qf)(y(Js),y(Wf,8),y(ft),y(H),y(Qn),y(wb,8),y(Cb,8),y(Db,8),y(Eb,8),y(Ib,8),y(Tb,8),y(Mi,8))};static \u0275prov=D({token:qf,factory:qf.\u0275fac,providedIn:"any"})};var wG="@firebase/database-compat",CG="1.0.8";var DG=new Eo("@firebase/database-compat"),wM=function(e){let t="FIREBASE WARNING: "+e;DG.warn(t)};var EG=function(e,t,n,i){if(!(i&&n===void 0)&&typeof n!="boolean")throw new Error(St(e,t)+"must be a boolean.")},IG=function(e,t,n){if(!(n&&t===void 0))switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(St(e,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}};var Ab=class{constructor(t){this._delegate=t}cancel(t){L("OnDisconnect.cancel",0,1,arguments.length),Ue("OnDisconnect.cancel","onComplete",t,!0);let n=this._delegate.cancel();return t&&n.then(()=>t(null),i=>t(i)),n}remove(t){L("OnDisconnect.remove",0,1,arguments.length),Ue("OnDisconnect.remove","onComplete",t,!0);let n=this._delegate.remove();return t&&n.then(()=>t(null),i=>t(i)),n}set(t,n){L("OnDisconnect.set",1,2,arguments.length),Ue("OnDisconnect.set","onComplete",n,!0);let i=this._delegate.set(t);return n&&i.then(()=>n(null),r=>n(r)),i}setWithPriority(t,n,i){L("OnDisconnect.setWithPriority",2,3,arguments.length),Ue("OnDisconnect.setWithPriority","onComplete",i,!0);let r=this._delegate.setWithPriority(t,n);return i&&r.then(()=>i(null),o=>i(o)),r}update(t,n){if(L("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){let r={};for(let o=0;o<t.length;++o)r[""+o]=t[o];t=r,wM("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Ue("OnDisconnect.update","onComplete",n,!0);let i=this._delegate.update(t);return n&&i.then(()=>n(null),r=>n(r)),i}};var Mb=class{constructor(t,n){this.committed=t,this.snapshot=n}toJSON(){return L("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}};var ho=class e{constructor(t,n){this._database=t,this._delegate=n}val(){return L("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return L("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return L("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return L("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(t){return L("DataSnapshot.child",0,1,arguments.length),t=String(t),Ks("DataSnapshot.child","path",t,!1),new e(this._database,this._delegate.child(t))}hasChild(t){return L("DataSnapshot.hasChild",1,1,arguments.length),Ks("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)}getPriority(){return L("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(t){return L("DataSnapshot.forEach",1,1,arguments.length),Ue("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(n=>t(new e(this._database,n)))}hasChildren(){return L("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return L("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return L("DataSnapshot.ref",0,0,arguments.length),new xi(this._database,this._delegate.ref)}get ref(){return this.getRef()}},Yf=class e{constructor(t,n){this.database=t,this._delegate=n}on(t,n,i,r){var o;L("Query.on",2,4,arguments.length),Ue("Query.on","callback",n,!1);let s=e.getCancelAndContextArgs_("Query.on",i,r),a=(c,u)=>{n.call(s.context,new ho(this.database,c),u)};a.userCallback=n,a.context=s.context;let l=(o=s.cancel)===null||o===void 0?void 0:o.bind(s.context);switch(t){case"value":return fc(this._delegate,a,l),n;case"child_added":return kf(this._delegate,a,l),n;case"child_removed":return Vf(this._delegate,a,l),n;case"child_changed":return Ff(this._delegate,a,l),n;case"child_moved":return Lf(this._delegate,a,l),n;default:throw new Error(St("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(t,n,i){if(L("Query.off",0,3,arguments.length),IG("Query.off",t,!0),Ue("Query.off","callback",n,!0),Np("Query.off","context",i,!0),n){let r=()=>{};r.userCallback=n,r.context=i,Bf(this._delegate,t,r)}else Bf(this._delegate,t)}get(){return Pf(this._delegate).then(t=>new ho(this.database,t))}once(t,n,i,r){L("Query.once",1,4,arguments.length),Ue("Query.once","callback",n,!0);let o=e.getCancelAndContextArgs_("Query.once",i,r),s=new Ye,a=(c,u)=>{let d=new ho(this.database,c);n&&n.call(o.context,d,u),s.resolve(d)};a.userCallback=n,a.context=o.context;let l=c=>{o.cancel&&o.cancel.call(o.context,c),s.reject(c)};switch(t){case"value":fc(this._delegate,a,l,{onlyOnce:!0});break;case"child_added":kf(this._delegate,a,l,{onlyOnce:!0});break;case"child_removed":Vf(this._delegate,a,l,{onlyOnce:!0});break;case"child_changed":Ff(this._delegate,a,l,{onlyOnce:!0});break;case"child_moved":Lf(this._delegate,a,l,{onlyOnce:!0});break;default:throw new Error(St("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return s.promise}limitToFirst(t){return L("Query.limitToFirst",1,1,arguments.length),new e(this.database,zt(this._delegate,K0(t)))}limitToLast(t){return L("Query.limitToLast",1,1,arguments.length),new e(this.database,zt(this._delegate,Q0(t)))}orderByChild(t){return L("Query.orderByChild",1,1,arguments.length),new e(this.database,zt(this._delegate,Z0(t)))}orderByKey(){return L("Query.orderByKey",0,0,arguments.length),new e(this.database,zt(this._delegate,J0()))}orderByPriority(){return L("Query.orderByPriority",0,0,arguments.length),new e(this.database,zt(this._delegate,X0()))}orderByValue(){return L("Query.orderByValue",0,0,arguments.length),new e(this.database,zt(this._delegate,eb()))}startAt(t=null,n){return L("Query.startAt",0,2,arguments.length),new e(this.database,zt(this._delegate,q0(t,n)))}startAfter(t=null,n){return L("Query.startAfter",0,2,arguments.length),new e(this.database,zt(this._delegate,Y0(t,n)))}endAt(t=null,n){return L("Query.endAt",0,2,arguments.length),new e(this.database,zt(this._delegate,G0(t,n)))}endBefore(t=null,n){return L("Query.endBefore",0,2,arguments.length),new e(this.database,zt(this._delegate,z0(t,n)))}equalTo(t,n){return L("Query.equalTo",1,2,arguments.length),new e(this.database,zt(this._delegate,tb(t,n)))}toString(){return L("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return L("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(t){if(L("Query.isEqual",1,1,arguments.length),!(t instanceof e)){let n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}return this._delegate.isEqual(t._delegate)}static getCancelAndContextArgs_(t,n,i){let r={cancel:void 0,context:void 0};if(n&&i)r.cancel=n,Ue(t,"cancel",r.cancel,!0),r.context=i,Np(t,"context",r.context,!0);else if(n)if(typeof n=="object"&&n!==null)r.context=n;else if(typeof n=="function")r.cancel=n;else throw new Error(St(t,"cancelOrContext")+" must either be a cancel callback or a context object.");return r}get ref(){return new xi(this.database,new Wt(this._delegate._repo,this._delegate._path))}},xi=class e extends Yf{constructor(t,n){super(t,new It(n._repo,n._path,new Kl,!1)),this.database=t,this._delegate=n}getKey(){return L("Reference.key",0,0,arguments.length),this._delegate.key}child(t){return L("Reference.child",1,1,arguments.length),typeof t=="number"&&(t=String(t)),new e(this.database,Oi(this._delegate,t))}getParent(){L("Reference.parent",0,0,arguments.length);let t=this._delegate.parent;return t?new e(this.database,t):null}getRoot(){return L("Reference.root",0,0,arguments.length),new e(this.database,this._delegate.root)}set(t,n){L("Reference.set",1,2,arguments.length),Ue("Reference.set","onComplete",n,!0);let i=Zs(this._delegate,t);return n&&i.then(()=>n(null),r=>n(r)),i}update(t,n){if(L("Reference.update",1,2,arguments.length),Array.isArray(t)){let r={};for(let o=0;o<t.length;++o)r[""+o]=t[o];t=r,wM("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Ht("Reference.update",this._delegate._path),Ue("Reference.update","onComplete",n,!0);let i=W0(this._delegate,t);return n&&i.then(()=>n(null),r=>n(r)),i}setWithPriority(t,n,i){L("Reference.setWithPriority",2,3,arguments.length),Ue("Reference.setWithPriority","onComplete",i,!0);let r=$0(this._delegate,t,n);return i&&r.then(()=>i(null),o=>i(o)),r}remove(t){L("Reference.remove",0,1,arguments.length),Ue("Reference.remove","onComplete",t,!0);let n=U0(this._delegate);return t&&n.then(()=>t(null),i=>t(i)),n}transaction(t,n,i){L("Reference.transaction",1,3,arguments.length),Ue("Reference.transaction","transactionUpdate",t,!1),Ue("Reference.transaction","onComplete",n,!0),EG("Reference.transaction","applyLocally",i,!0);let r=ub(this._delegate,t,{applyLocally:i}).then(o=>new Mb(o.committed,new ho(this.database,o.snapshot)));return n&&r.then(o=>n(null,o.committed,o.snapshot),o=>n(o,!1,null)),r}setPriority(t,n){L("Reference.setPriority",1,2,arguments.length),Ue("Reference.setPriority","onComplete",n,!0);let i=H0(this._delegate,t);return n&&i.then(()=>n(null),r=>n(r)),i}push(t,n){L("Reference.push",0,2,arguments.length),Ue("Reference.push","onComplete",n,!0);let i=j0(this._delegate,t),r=i.then(s=>new e(this.database,s));n&&r.then(()=>n(null),s=>n(s));let o=new e(this.database,i);return o.then=r.then.bind(r),o.catch=r.catch.bind(r,void 0),o}onDisconnect(){return Ht("Reference.onDisconnect",this._delegate._path),new Ab(new ff(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}};var fo=class{constructor(t,n){this._delegate=t,this.app=n,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:ib,forceLongPolling:rb}}useEmulator(t,n,i={}){jf(this._delegate,t,n,i)}ref(t){if(L("database.ref",0,1,arguments.length),t instanceof xi){let n=xf(this._delegate,t.toString());return new xi(this,n)}else{let n=dc(this._delegate,t);return new xi(this,n)}}refFromURL(t){L("database.refFromURL",1,1,arguments.length);let i=xf(this._delegate,t);return new xi(this,i)}goOffline(){return L("database.goOffline",0,0,arguments.length),ob(this._delegate)}goOnline(){return L("database.goOnline",0,0,arguments.length),sb(this._delegate)}};fo.ServerValue={TIMESTAMP:lb(),increment:e=>cb(e)};function TG({app:e,url:t,version:n,customAuthImpl:i,customAppCheckImpl:r,namespace:o,nodeAdmin:s=!1}){p0(n);let a=new Rp("database-standalone"),l=new Wc("auth-internal",a);l.setComponent(new ii("auth-internal",()=>i,"PRIVATE"));let c;return r&&(c=new Wc("app-check-internal",a),c.setComponent(new ii("app-check-internal",()=>r,"PRIVATE"))),{instance:new fo(nb(e,l,c,t,s),e),namespace:o}}var SG=Object.freeze({__proto__:null,initStandalone:TG});var AG=fo.ServerValue;function MG(e){e.INTERNAL.registerComponent(new ii("database-compat",(t,{instanceIdentifier:n})=>{let i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("database").getImmediate({identifier:n});return new fo(r,i)},"PUBLIC").setServiceProps({Reference:xi,Query:Yf,Database:fo,DataSnapshot:ho,enableLogging:ab,INTERNAL:SG,ServerValue:AG}).setMultipleInstances(!0)),e.registerVersion(wG,CG)}MG(Rn);function _c(e,t,n="on",i=ji){return new F(r=>{let o=null;return o=e[n](t,(s,a)=>{i.schedule(()=>{r.next({snapshot:s,prevKey:a})}),n==="once"&&i.schedule(()=>r.complete())},s=>{i.schedule(()=>r.error(s))}),n==="on"?{unsubscribe(){o!=null&&e.off(t,o)}}:{unsubscribe(){}}}).pipe(S(r=>{let{snapshot:o,prevKey:s}=r,a=null;return o.exists()&&(a=o.key),{type:t,payload:o,prevKey:s,key:a}}),Ea())}function NG(e){return typeof e=="string"}function RG(e){return typeof e.exportVal=="function"}function TM(e){return e==null}function SM(e){return typeof e.set=="function"}function CM(e,t){return SM(t)?t:e.ref(t)}function AM(e,t){if(NG(e))return t.stringCase();if(SM(e))return t.firebaseCase();if(RG(e))return t.snapshotCase();throw new Error(`Expects a string, snapshot, or reference. Got: ${typeof e}`)}function MM(e){return(TM(e)||e.length===0)&&(e=["child_added","child_removed","child_changed","child_moved"]),e}function NM(e,t,n){t=MM(t);let i=t.map(r=>_c(e,r,"on",n));return $i(...i)}function OG(e,t,n){let i=NM(e,t).pipe(Or((r,o)=>[...r,o],[]));return PG(e,i,n)}function xG(e,t){return _c(e,"value","on",t).pipe(S(n=>{let i;return n.payload.forEach(r=>(i=r.key,!1)),{data:n,lastKeyToLoad:i}}))}function PG(e,t,n){return xG(e,n).pipe(xr(t),S(([r,o])=>{let s=r.lastKeyToLoad,a=o.map(l=>l.key);return{actions:o,lastKeyToLoad:s,loadedKeys:a}}),sg(r=>r.loadedKeys.indexOf(r.lastKeyToLoad)===-1),S(r=>r.actions))}function DM(e,t){return function(i,r){return AM(i,{stringCase:()=>e.child(i)[t](r),firebaseCase:()=>i[t](r),snapshotCase:()=>i.ref[t](r)})}}function kG(e){return function(n){return n?AM(n,{stringCase:()=>e.child(n).remove(),firebaseCase:()=>n.remove(),snapshotCase:()=>n.ref.remove()}):e.remove()}}function FG(e,t,n){return _c(e,"value","once",n).pipe(he(i=>{let r=[R(i)];return t.forEach(o=>r.push(_c(e,o,"on",n))),$i(...r).pipe(Or(VG,[]))}),wu())}function RM(e,t){let n=e.length;for(let i=0;i<n;i++)if(e[i].payload.key===t)return i;return-1}function LG(e,t){if(TM(t))return 0;{let n=RM(e,t);return n===-1?e.length:n+1}}function VG(e,t){let{payload:n,prevKey:i,key:r}=t,o=RM(e,r),s=LG(e,i);switch(t.type){case"value":if(t.payload?.exists()){let a=null;t.payload.forEach(l=>{let c={payload:l,type:"value",prevKey:a,key:l.key};return a=l.key,e=[...e,c],!1})}return e;case"child_added":if(o>-1)(e[o-1]?.key||null)!==i&&(e=e.filter(l=>l.payload.key!==n.key),e.splice(s,0,t));else{if(i==null)return[t,...e];e=e.slice(),e.splice(s,0,t)}return e;case"child_removed":return e.filter(a=>a.payload.key!==n.key);case"child_changed":return e.map(a=>a.payload.key===r?t:a);case"child_moved":if(o>-1){let a=e.splice(o,1)[0];return e=e.slice(),e.splice(s,0,a),e}return e;default:return e}}function EM(e,t,n){return t=MM(t),FG(e,t,n)}function BG(e,t){let n=t.schedulers.outsideAngular,i=t.schedulers.ngZone.run(()=>e.ref);return{query:e,update:DM(i,"update"),set:DM(i,"set"),push:r=>i.push(r),remove:kG(i),snapshotChanges(r){return EM(e,r,n).pipe(En)},stateChanges(r){return NM(e,r,n).pipe(En)},auditTrail(r){return OG(e,r,n).pipe(En)},valueChanges(r,o){return EM(e,r,n).pipe(S(a=>a.map(l=>o&&o.idField?Y(C({},l.payload.val()),{[o.idField]:l.key}):l.payload.val())),En)}}}function IM(e,t){return function(){return _c(e,"value","on",t)}}function jG(e,t){return{query:e,snapshotChanges(){return IM(e,t.schedulers.outsideAngular)().pipe(En)},update(n){return e.ref.update(n)},set(n){return e.ref.set(n)},remove(){return e.ref.remove()},valueChanges(){return IM(e,t.schedulers.outsideAngular)().pipe(En,S(i=>i.payload.exists()?i.payload.val():null))}}}var UG=new E("angularfire2.realtimeDatabaseURL"),HG=new E("angularfire2.database.use-emulator"),Qf=class Kf{schedulers;database;constructor(n,i,r,o,s,a,l,c,u,d,h,f,p,g,v){this.schedulers=a;let w=l,N=Gf(n,s,i);c&&Sb(N,s,u,h,f,p,d,g),this.database=zf(`${N.name}.database.${r}`,"AngularFireDatabase",N.name,()=>{let T=s.runOutsideAngular(()=>N.database(r||void 0));return w&&T.useEmulator(...w),T},[w])}list(n,i){let r=this.schedulers.ngZone.runOutsideAngular(()=>CM(this.database,n)),o=r;return i&&(o=i(r)),BG(o,this)}object(n){let i=this.schedulers.ngZone.runOutsideAngular(()=>CM(this.database,n));return jG(i,this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}static \u0275fac=function(i){return new(i||Kf)(y(Js),y(Wf,8),y(UG,8),y(ft),y(H),y(Qn),y(HG,8),y(bM,8),y(wb,8),y(Cb,8),y(Db,8),y(Eb,8),y(Ib,8),y(Tb,8),y(Mi,8))};static \u0275prov=D({token:Kf,factory:Kf.\u0275fac,providedIn:"any"})};var Xs=class e{constructor(t){this.db=t}create(t){return this.db.list("/products").push(t)}getAll(){return this.db.list("/products").snapshotChanges().pipe(S(t=>t.map(n=>({$key:n.payload.key||"",title:n.payload.val()?.title||"",price:n.payload.val()?.price||0,category:n.payload.val()?.category||"",imageUrl:n.payload.val()?.imageUrl||""}))))}get(t){return this.db.object("/products/"+t).snapshotChanges().pipe(S(n=>{let i=n.payload.val();return{$key:n.payload.key||"",title:i?.title||"",price:i?.price||0,category:i?.category||"",imageUrl:i?.imageUrl||""}}))}static \u0275fac=function(n){return new(n||e)(y(Qf))};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})};var $G=e=>["/admin/products/",e];function WG(e,t){if(e&1&&(M(0,"tr")(1,"td"),k(2),I(),M(3,"td"),k(4),I(),M(5,"td")(6,"a",3),k(7,"Edit"),I()()()),e&2){let n=t.$implicit;pe(2),Wn(" ",n.title," "),pe(2),Wn(" ",n.price," "),pe(2),Me("routerLink",za(3,$G,n.$key))}}var Zf=class e{constructor(t){this.productService=t;this.products$=this.productService.getAll()}products$;static \u0275fac=function(n){return new(n||e)(O(Xs))};static \u0275cmp=fe({type:e,selectors:[["app-admin-products"]],decls:14,vars:3,consts:[["routerLink","/admin/products/new",1,"btn","btn-primary"],[1,"table"],[4,"ngFor","ngForOf"],[3,"routerLink"]],template:function(n,i){n&1&&(M(0,"p")(1,"a",0),k(2,"New Product"),I()(),M(3,"table",1)(4,"thead")(5,"tr")(6,"th"),k(7,"Title"),I(),M(8,"th"),k(9,"Price"),I(),xt(10,"th"),I()(),M(11,"tbody"),at(12,WG,8,5,"tr",2),nr(13,"async"),I()()),n&2&&(pe(12),Me("ngForOf",Kr(13,1,i.products$)))},dependencies:[qd,vh,ps]})};var Jf=class e{static \u0275fac=function(n){return new(n||e)};static \u0275cmp=fe({type:e,selectors:[["app-admin-orders"]],decls:2,vars:0,template:function(n,i){n&1&&(M(0,"p"),k(1,"admin-orders works! yea"),I())}})};var rn=class e{constructor(t,n){this.auth=t;this.router=n}canActivate(t,n){return this.auth.user$.pipe(S(i=>i?!0:(this.router.navigate(["/login"],{queryParams:{returnUrl:n.url}}),!1)))}static \u0275fac=function(n){return new(n||e)(y(Pt),y(ke))};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})};var Pi=class e{constructor(t,n,i){this.auth=t;this.userService=n;this.router=i}canActivate(){return this.auth.appUser.pipe(S(t=>t?.isAdmin?!0:(this.router.navigate(["/"]),!1)))}static \u0275fac=function(n){return new(n||e)(y(Pt),y(ni),y(ke))};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})};var ea=class e{constructor(t){this.db=t}getCategories(){let t=n=>n.orderByChild("name");return this.db.list("/categories",t).snapshotChanges().pipe(S(n=>n.map(i=>({$key:i.payload.key||"",name:i.payload.val()?.name||""}))))}static \u0275fac=function(n){return new(n||e)(y(Qf))};static \u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})};var HM=(()=>{class e{constructor(n,i){this._renderer=n,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(n,i){this._renderer.setProperty(this._elementRef.nativeElement,n,i)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static{this.\u0275fac=function(i){return new(i||e)(O($n),O(Pe))}}static{this.\u0275dir=ae({type:e})}}return e})(),ap=(()=>{class e extends HM{static{this.\u0275fac=(()=>{let n;return function(r){return(n||(n=Vt(e)))(r||e)}})()}static{this.\u0275dir=ae({type:e,features:[pt]})}}return e})(),Ec=new E("");var zG={provide:Ec,useExisting:Rt(()=>lp),multi:!0};function qG(){let e=zn()?zn().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}var YG=new E(""),lp=(()=>{class e extends HM{constructor(n,i,r){super(n,i),this._compositionMode=r,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!qG())}writeValue(n){let i=n??"";this.setProperty("value",i)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static{this.\u0275fac=function(i){return new(i||e)(O($n),O(Pe),O(YG,8))}}static{this.\u0275dir=ae({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){i&1&&Ge("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[Xt([zG]),pt]})}}return e})();function ep(e){return e==null||(typeof e=="string"||Array.isArray(e))&&e.length===0}var Ic=new E(""),$M=new E("");function KG(e){return t=>{if(ep(t.value)||ep(e))return null;let n=parseFloat(t.value);return!isNaN(n)&&n<e?{min:{min:e,actual:t.value}}:null}}function QG(e){return ep(e.value)?{required:!0}:null}function ZG(e){if(!e)return Nb;let t,n;return typeof e=="string"?(n="",e.charAt(0)!=="^"&&(n+="^"),n+=e,e.charAt(e.length-1)!=="$"&&(n+="$"),t=new RegExp(n)):(n=e.toString(),t=e),i=>{if(ep(i.value))return null;let r=i.value;return t.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}function Nb(e){return null}function WM(e){return e!=null}function GM(e){return ir(e)?ue(e):e}function zM(e){let t={};return e.forEach(n=>{t=n!=null?C(C({},t),n):t}),Object.keys(t).length===0?null:t}function qM(e,t){return t.map(n=>n(e))}function JG(e){return!e.validate}function YM(e){return e.map(t=>JG(t)?t:n=>t.validate(n))}function XG(e){if(!e)return null;let t=e.filter(WM);return t.length==0?null:function(n){return zM(qM(n,t))}}function Ob(e){return e!=null?XG(YM(e)):null}function ez(e){if(!e)return null;let t=e.filter(WM);return t.length==0?null:function(n){let i=qM(n,t).map(GM);return eg(i).pipe(S(zM))}}function xb(e){return e!=null?ez(YM(e)):null}function PM(e,t){return e===null?[t]:Array.isArray(e)?[...e,t]:[e,t]}function tz(e){return e._rawValidators}function nz(e){return e._rawAsyncValidators}function Rb(e){return e?Array.isArray(e)?e:[e]:[]}function tp(e,t){return Array.isArray(e)?e.includes(t):e===t}function kM(e,t){let n=Rb(t);return Rb(e).forEach(r=>{tp(n,r)||n.push(r)}),n}function FM(e,t){return Rb(t).filter(n=>!tp(e,n))}var np=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Ob(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=xb(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,n){return this.control?this.control.hasError(t,n):!1}getError(t,n){return this.control?this.control.getError(t,n):null}},ia=class extends np{get formDirective(){return null}get path(){return null}},Dc=class extends np{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},ip=class{constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},iz={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},wie=Y(C({},iz),{"[class.ng-submitted]":"isSubmitted"}),KM=(()=>{class e extends ip{constructor(n){super(n)}static{this.\u0275fac=function(i){return new(i||e)(O(Dc,2))}}static{this.\u0275dir=ae({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){i&2&&Bt("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[pt]})}}return e})(),QM=(()=>{class e extends ip{constructor(n){super(n)}static{this.\u0275fac=function(i){return new(i||e)(O(ia,10))}}static{this.\u0275dir=ae({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,r){i&2&&Bt("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[pt]})}}return e})();var vc="VALID",Xf="INVALID",ta="PENDING",yc="DISABLED",ra=class{},rp=class extends ra{constructor(t,n){super(),this.value=t,this.source=n}},wc=class extends ra{constructor(t,n){super(),this.pristine=t,this.source=n}},Cc=class extends ra{constructor(t,n){super(),this.touched=t,this.source=n}},na=class extends ra{constructor(t,n){super(),this.status=t,this.source=n}};function ZM(e){return(cp(e)?e.validators:e)||null}function rz(e){return Array.isArray(e)?Ob(e):e||null}function JM(e,t){return(cp(t)?t.asyncValidators:e)||null}function oz(e){return Array.isArray(e)?xb(e):e||null}function cp(e){return e!=null&&!Array.isArray(e)&&typeof e=="object"}function sz(e,t,n){let i=e.controls;if(!(t?Object.keys(i):i).length)throw new x(1e3,"");if(!i[n])throw new x(1001,"")}function az(e,t,n){e._forEachChild((i,r)=>{if(n[r]===void 0)throw new x(1002,"")})}var op=class{constructor(t,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=Ka(()=>this.statusReactive()),this.statusReactive=Ba(void 0),this._pristine=Ka(()=>this.pristineReactive()),this.pristineReactive=Ba(!0),this._touched=Ka(()=>this.touchedReactive()),this.touchedReactive=Ba(!1),this._events=new re,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return yn(this.statusReactive)}set status(t){yn(()=>this.statusReactive.set(t))}get valid(){return this.status===vc}get invalid(){return this.status===Xf}get pending(){return this.status==ta}get disabled(){return this.status===yc}get enabled(){return this.status!==yc}get pristine(){return yn(this.pristineReactive)}set pristine(t){yn(()=>this.pristineReactive.set(t))}get dirty(){return!this.pristine}get touched(){return yn(this.touchedReactive)}set touched(t){yn(()=>this.touchedReactive.set(t))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(kM(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(kM(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(FM(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(FM(t,this._rawAsyncValidators))}hasValidator(t){return tp(this._rawValidators,t)}hasAsyncValidator(t){return tp(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){let n=this.touched===!1;this.touched=!0;let i=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched(Y(C({},t),{sourceControl:i})),n&&t.emitEvent!==!1&&this._events.next(new Cc(!0,i))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(t))}markAsUntouched(t={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let i=t.sourceControl??this;this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:i})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,i),n&&t.emitEvent!==!1&&this._events.next(new Cc(!1,i))}markAsDirty(t={}){let n=this.pristine===!0;this.pristine=!1;let i=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty(Y(C({},t),{sourceControl:i})),n&&t.emitEvent!==!1&&this._events.next(new wc(!1,i))}markAsPristine(t={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let i=t.sourceControl??this;this._forEachChild(r=>{r.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,i),n&&t.emitEvent!==!1&&this._events.next(new wc(!0,i))}markAsPending(t={}){this.status=ta;let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new na(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending(Y(C({},t),{sourceControl:n}))}disable(t={}){let n=this._parentMarkedDirty(t.onlySelf);this.status=yc,this.errors=null,this._forEachChild(r=>{r.disable(Y(C({},t),{onlySelf:!0}))}),this._updateValue();let i=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new rp(this.value,i)),this._events.next(new na(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Y(C({},t),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!0))}enable(t={}){let n=this._parentMarkedDirty(t.onlySelf);this.status=vc,this._forEachChild(i=>{i.enable(Y(C({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Y(C({},t),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t,n){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let i=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===vc||this.status===ta)&&this._runAsyncValidator(i,t.emitEvent)}let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new rp(this.value,n)),this._events.next(new na(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(Y(C({},t),{sourceControl:n}))}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?yc:vc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,n){if(this.asyncValidator){this.status=ta,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let i=GM(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(r=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(r,{emitEvent:n,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let t=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,n={}){this.errors=t,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(t){let n=t;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((i,r)=>i&&i._find(r),this)}getError(t,n){let i=n?this.get(n):this;return i&&i.errors?i.errors[t]:null}hasError(t,n){return!!this.getError(t,n)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,n,i){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||i)&&this._events.next(new na(this.status,n)),this._parent&&this._parent._updateControlsErrors(t,n,i)}_initObservables(){this.valueChanges=new ge,this.statusChanges=new ge}_calculateStatus(){return this._allControlsDisabled()?yc:this.errors?Xf:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ta)?ta:this._anyControlsHaveStatus(Xf)?Xf:vc}_anyControlsHaveStatus(t){return this._anyControls(n=>n.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,n){let i=!this._anyControlsDirty(),r=this.pristine!==i;this.pristine=i,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,n),r&&this._events.next(new wc(this.pristine,n))}_updateTouched(t={},n){this.touched=this._anyControlsTouched(),this._events.next(new Cc(this.touched,n)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,n)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){cp(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let n=this._parent&&this._parent.dirty;return!t&&!!n&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=rz(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=oz(this._rawAsyncValidators)}},sp=class extends op{constructor(t,n,i){super(ZM(n),JM(i,n)),this.controls=t,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,n){return this.controls[t]?this.controls[t]:(this.controls[t]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(t,n,i={}){this.registerControl(t,n),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(t,n,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],n&&this.registerControl(t,n),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,n={}){az(this,!0,t),Object.keys(t).forEach(i=>{sz(this,!0,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(t,n={}){t!=null&&(Object.keys(t).forEach(i=>{let r=this.controls[i];r&&r.patchValue(t[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(t={},n={}){this._forEachChild((i,r)=>{i.reset(t?t[r]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(t,n,i)=>(t[i]=n.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(n,i)=>i._syncPendingControls()?!0:n);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(n=>{let i=this.controls[n];i&&t(i,n)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(let[n,i]of Object.entries(this.controls))if(this.contains(n)&&t(i))return!0;return!1}_reduceValue(){let t={};return this._reduceChildren(t,(n,i,r)=>((i.enabled||this.disabled)&&(n[r]=i.value),n))}_reduceChildren(t,n){let i=t;return this._forEachChild((r,o)=>{i=n(i,r,o)}),i}_allControlsDisabled(){for(let t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}};var Pb=new E("CallSetDisabledState",{providedIn:"root",factory:()=>kb}),kb="always";function lz(e,t){return[...t.path,e]}function XM(e,t,n=kb){eN(e,t),t.valueAccessor.writeValue(e.value),(e.disabled||n==="always")&&t.valueAccessor.setDisabledState?.(e.disabled),uz(e,t),hz(e,t),dz(e,t),cz(e,t)}function LM(e,t){e.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(t)})}function cz(e,t){if(t.valueAccessor.setDisabledState){let n=i=>{t.valueAccessor.setDisabledState(i)};e.registerOnDisabledChange(n),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(n)})}}function eN(e,t){let n=tz(e);t.validator!==null?e.setValidators(PM(n,t.validator)):typeof n=="function"&&e.setValidators([n]);let i=nz(e);t.asyncValidator!==null?e.setAsyncValidators(PM(i,t.asyncValidator)):typeof i=="function"&&e.setAsyncValidators([i]);let r=()=>e.updateValueAndValidity();LM(t._rawValidators,r),LM(t._rawAsyncValidators,r)}function uz(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,e.updateOn==="change"&&tN(e,t)})}function dz(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,e.updateOn==="blur"&&e._pendingChange&&tN(e,t),e.updateOn!=="submit"&&e.markAsTouched()})}function tN(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function hz(e,t){let n=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};e.registerOnChange(n),t._registerOnDestroy(()=>{e._unregisterOnChange(n)})}function fz(e,t){e==null,eN(e,t)}function pz(e,t){if(!e.hasOwnProperty("model"))return!1;let n=e.model;return n.isFirstChange()?!0:!Object.is(t,n.currentValue)}function gz(e){return Object.getPrototypeOf(e.constructor)===ap}function mz(e,t){e._syncPendingControls(),t.forEach(n=>{let i=n.control;i.updateOn==="submit"&&i._pendingChange&&(n.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function _z(e,t){if(!t)return null;Array.isArray(t);let n,i,r;return t.forEach(o=>{o.constructor===lp?n=o:gz(o)?i=o:r=o}),r||i||n||null}var vz={provide:ia,useExisting:Rt(()=>Fb)},bc=Promise.resolve(),Fb=(()=>{class e extends ia{get submitted(){return yn(this.submittedReactive)}constructor(n,i,r){super(),this.callSetDisabledState=r,this._submitted=Ka(()=>this.submittedReactive()),this.submittedReactive=Ba(!1),this._directives=new Set,this.ngSubmit=new ge,this.form=new sp({},Ob(n),xb(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){bc.then(()=>{let i=this._findContainer(n.path);n.control=i.registerControl(n.name,n.control),XM(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){bc.then(()=>{let i=this._findContainer(n.path);i&&i.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){bc.then(()=>{let i=this._findContainer(n.path),r=new sp({});fz(r,n),i.registerControl(n.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){bc.then(()=>{let i=this._findContainer(n.path);i&&i.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,i){bc.then(()=>{this.form.get(n.path).setValue(i)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submittedReactive.set(!0),mz(this.form,this._directives),this.ngSubmit.emit(n),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}static{this.\u0275fac=function(i){return new(i||e)(O(Ic,10),O($M,10),O(Pb,8))}}static{this.\u0275dir=ae({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,r){i&1&&Ge("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Xt([vz]),pt]})}}return e})();function VM(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function BM(e){return typeof e=="object"&&e!==null&&Object.keys(e).length===2&&"value"in e&&"disabled"in e}var yz=class extends op{constructor(t=null,n,i){super(ZM(n),JM(i,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),cp(n)&&(n.nonNullable||n.initialValueIsDefault)&&(BM(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,n={}){this.value=this._pendingValue=t,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(t,n={}){this.setValue(t,n)}reset(t=this.defaultValue,n={}){this._applyFormState(t),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){VM(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){VM(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){BM(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var bz={provide:Dc,useExisting:Rt(()=>Lb)},jM=Promise.resolve(),Lb=(()=>{class e extends Dc{constructor(n,i,r,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new yz,this._registered=!1,this.name="",this.update=new ge,this._parent=n,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=_z(this,o)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let i=n.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),pz(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){XM(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){jM.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let i=n.isDisabled.currentValue,r=i!==0&&rr(i);jM.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?lz(n,this._parent):[n]}static{this.\u0275fac=function(i){return new(i||e)(O(ia,9),O(Ic,10),O($M,10),O(Ec,10),O(vn,8),O(Pb,8))}}static{this.\u0275dir=ae({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Xt([bz]),pt,jn]})}}return e})(),nN=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275dir=ae({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return e})(),wz={provide:Ec,useExisting:Rt(()=>Vb),multi:!0},Vb=(()=>{class e extends ap{writeValue(n){let i=n??"";this.setProperty("value",i)}registerOnChange(n){this.onChange=i=>{n(i==""?null:parseFloat(i))}}static{this.\u0275fac=(()=>{let n;return function(r){return(n||(n=Vt(e)))(r||e)}})()}static{this.\u0275dir=ae({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(i,r){i&1&&Ge("input",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},features:[Xt([wz]),pt]})}}return e})();var Cz={provide:Ec,useExisting:Rt(()=>up),multi:!0};function iN(e,t){return e==null?`${t}`:(t&&typeof t=="object"&&(t="Object"),`${e}: ${t}`.slice(0,50))}function Dz(e){return e.split(":")[0]}var up=(()=>{class e extends ap{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;let i=this._getOptionId(n),r=iN(i,n);this.setProperty("value",r)}registerOnChange(n){this.onChange=i=>{this.value=this._getOptionValue(i),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),n))return i;return null}_getOptionValue(n){let i=Dz(n);return this._optionMap.has(i)?this._optionMap.get(i):n}static{this.\u0275fac=(()=>{let n;return function(r){return(n||(n=Vt(e)))(r||e)}})()}static{this.\u0275dir=ae({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,r){i&1&&Ge("change",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[Xt([Cz]),pt]})}}return e})(),rN=(()=>{class e{constructor(n,i,r){this._element=n,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption())}set ngValue(n){this._select!=null&&(this._select._optionMap.set(this.id,n),this._setElementValue(iN(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._setElementValue(n),this._select&&this._select.writeValue(this._select.value)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(i){return new(i||e)(O(Pe),O($n),O(up,9))}}static{this.\u0275dir=ae({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return e})(),Ez={provide:Ec,useExisting:Rt(()=>oN),multi:!0};function UM(e,t){return e==null?`${t}`:(typeof t=="string"&&(t=`'${t}'`),t&&typeof t=="object"&&(t="Object"),`${e}: ${t}`.slice(0,50))}function Iz(e){return e.split(":")[0]}var oN=(()=>{class e extends ap{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;let i;if(Array.isArray(n)){let r=n.map(o=>this._getOptionId(o));i=(o,s)=>{o._setSelected(r.indexOf(s.toString())>-1)}}else i=(r,o)=>{r._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(n){this.onChange=i=>{let r=[],o=i.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let l=s[a],c=this._getOptionValue(l.value);r.push(c)}}else{let s=i.options;for(let a=0;a<s.length;a++){let l=s[a];if(l.selected){let c=this._getOptionValue(l.value);r.push(c)}}}this.value=r,n(r)}}_registerOption(n){let i=(this._idCounter++).toString();return this._optionMap.set(i,n),i}_getOptionId(n){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,n))return i;return null}_getOptionValue(n){let i=Iz(n);return this._optionMap.has(i)?this._optionMap.get(i)._value:n}static{this.\u0275fac=(()=>{let n;return function(r){return(n||(n=Vt(e)))(r||e)}})()}static{this.\u0275dir=ae({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,r){i&1&&Ge("change",function(s){return r.onChange(s.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[Xt([Ez]),pt]})}}return e})(),sN=(()=>{class e{constructor(n,i,r){this._element=n,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){this._select!=null&&(this._value=n,this._setElementValue(UM(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(UM(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(i){return new(i||e)(O(Pe),O($n),O(oN,9))}}static{this.\u0275dir=ae({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return e})();function Tz(e){return typeof e=="number"?e:parseFloat(e)}var Bb=(()=>{class e{constructor(){this._validator=Nb}ngOnChanges(n){if(this.inputName in n){let i=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):Nb,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return n!=null}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275dir=ae({type:e,features:[jn]})}}return e})();var Sz={provide:Ic,useExisting:Rt(()=>jb),multi:!0},jb=(()=>{class e extends Bb{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=n=>Tz(n),this.createValidator=n=>KG(n)}static{this.\u0275fac=(()=>{let n;return function(r){return(n||(n=Vt(e)))(r||e)}})()}static{this.\u0275dir=ae({type:e,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(i,r){i&2&&mn("min",r._enabled?r.min:null)},inputs:{min:"min"},features:[Xt([Sz]),pt]})}}return e})(),Az={provide:Ic,useExisting:Rt(()=>Ub),multi:!0};var Ub=(()=>{class e extends Bb{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=rr,this.createValidator=n=>QG}enabled(n){return n}static{this.\u0275fac=(()=>{let n;return function(r){return(n||(n=Vt(e)))(r||e)}})()}static{this.\u0275dir=ae({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,r){i&2&&mn("required",r._enabled?"":null)},inputs:{required:"required"},features:[Xt([Az]),pt]})}}return e})();var Mz={provide:Ic,useExisting:Rt(()=>Hb),multi:!0},Hb=(()=>{class e extends Bb{constructor(){super(...arguments),this.inputName="pattern",this.normalizeInput=n=>n,this.createValidator=n=>ZG(n)}static{this.\u0275fac=(()=>{let n;return function(r){return(n||(n=Vt(e)))(r||e)}})()}static{this.\u0275dir=ae({type:e,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(i,r){i&2&&mn("pattern",r._enabled?r.pattern:null)},inputs:{pattern:"pattern"},features:[Xt([Mz]),pt]})}}return e})();var Nz=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=ie({type:e})}static{this.\u0275inj=ne({})}}return e})();var aN=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:Pb,useValue:n.callSetDisabledState??kb}]}}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=ie({type:e})}static{this.\u0275inj=ne({imports:[Nz]})}}return e})();var Oz=e=>({"is-invalid":e});function xz(e,t){e&1&&(M(0,"div",29),k(1," Title is required "),I())}function Pz(e,t){e&1&&(M(0,"div"),k(1,"Price is required"),I())}function kz(e,t){e&1&&(M(0,"div"),k(1,"Price should be 0 or higher"),I())}function Fz(e,t){if(e&1&&(M(0,"div",29),at(1,Pz,2,0,"div",30)(2,kz,2,0,"div",30),I()),e&2){tr();let n=_n(18);pe(),Me("ngIf",n.errors==null?null:n.errors.required),pe(),Me("ngIf",n.errors==null?null:n.errors.min)}}function Lz(e,t){if(e&1&&(M(0,"option",31),k(1),I()),e&2){let n=t.$implicit;Me("value",n.$key),pe(),Wn(" ",n.name," ")}}function Vz(e,t){e&1&&(M(0,"div",29),k(1," Category is required. "),I())}function Bz(e,t){e&1&&(M(0,"div"),k(1,"Image URL is required"),I())}function jz(e,t){e&1&&(M(0,"div"),k(1,"Please enter a valid URL (must start with http:// or https://)"),I())}function Uz(e,t){if(e&1&&(M(0,"div",29),at(1,Bz,2,0,"div",30)(2,jz,2,0,"div",30),I()),e&2){tr();let n=_n(33);pe(),Me("ngIf",n.errors==null?null:n.errors.required),pe(),Me("ngIf",n.errors==null?null:n.errors.pattern)}}function Hz(e,t){if(e&1&&xt(0,"img",32),e&2){let n=tr();Me("src",n.product.imageUrl,Um)}}var Tc=class e{constructor(t,n,i,r){this.router=t;this.route=n;this.categoryService=i;this.productService=r;this.categories$=i.getCategories();let o=this.route.snapshot.paramMap.get("id");o&&this.productService.get(o).pipe(Te(1)).subscribe(s=>this.product=s)}categories$;product={title:"",price:0,category:"",imageUrl:"",$key:""};save(t){t.category&&(this.productService.create(t),this.router.navigate(["/admin/products"]))}static \u0275fac=function(n){return new(n||e)(O(ke),O(wn),O(ea),O(Xs))};static \u0275cmp=fe({type:e,selectors:[["app-product-form"]],decls:46,vars:21,consts:[["f","ngForm"],["title","ngModel"],["price","ngModel"],["category","ngModel"],["imageUrl","ngModel"],[1,"row"],[1,"col-md-6"],[3,"ngSubmit"],[1,"form-group"],["for","title"],["name","title","id","title","type","text","required","",1,"form-control",3,"ngModelChange","ngModel"],["class","alert alert-danger",4,"ngIf"],["for","price"],[1,"input-group","mb-3"],[1,"input-group-prepend"],[1,"input-group-text"],["name","price","id","number","type","number","required","","min","0",1,"form-control",3,"ngModelChange","ngModel","ngClass"],["for","category"],["name","category","id","category","required","",1,"form-control",3,"ngModelChange","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],["for","imageUrl"],["name","imageUrl","id","imageUrl","type","url","required","","pattern","https?://.+",1,"form-control",3,"ngModelChange","ngModel"],[1,"btn","btn-primary"],[1,"card",2,"width","18rem"],["class","card-img-top",3,"src",4,"ngIf"],[1,"card-body"],[1,"card-title"],[1,"card-text"],[1,"alert","alert-danger"],[4,"ngIf"],[3,"value"],[1,"card-img-top",3,"src"]],template:function(n,i){if(n&1){let r=ls();M(0,"div",5)(1,"div",6)(2,"form",7,0),Ge("ngSubmit",function(){Un(r);let s=_n(3);return Hn(i.save(s.value))}),M(4,"div",8)(5,"label",9),k(6,"Title"),I(),M(7,"input",10,1),hs("ngModelChange",function(s){return Un(r),Wa(i.product.title,s)||(i.product.title=s),Hn(s)}),I(),at(9,xz,2,0,"div",11),I(),M(10,"div",8)(11,"label",12),k(12,"Price"),I(),M(13,"div",13)(14,"div",14)(15,"span",15),k(16,"$"),I()(),M(17,"input",16,2),hs("ngModelChange",function(s){return Un(r),Wa(i.product.price,s)||(i.product.price=s),Hn(s)}),I()(),at(19,Fz,3,2,"div",11),I(),M(20,"div",8)(21,"label",17),k(22,"Category"),I(),M(23,"select",18,3),hs("ngModelChange",function(s){return Un(r),Wa(i.product.category,s)||(i.product.category=s),Hn(s)}),xt(25,"option",19),at(26,Lz,2,2,"option",20),nr(27,"async"),I(),at(28,Vz,2,0,"div",11),I(),M(29,"div",8)(30,"label",21),k(31,"Image Url"),I(),M(32,"input",22,4),hs("ngModelChange",function(s){return Un(r),Wa(i.product.imageUrl,s)||(i.product.imageUrl=s),Hn(s)}),I(),at(34,Uz,3,2,"div",11),I(),M(35,"button",23),k(36,"Save"),I()()(),M(37,"div",6)(38,"div",24),at(39,Hz,1,1,"img",25),M(40,"div",26)(41,"h5",27),k(42),I(),M(43,"p",28),k(44),nr(45,"currency"),I()()()()()}if(n&2){let r=_n(8),o=_n(18),s=_n(24),a=_n(33);pe(7),ds("ngModel",i.product.title),pe(2),Me("ngIf",r.touched&&r.invalid),pe(8),ds("ngModel",i.product.price),Me("ngClass",za(19,Oz,o.touched&&o.invalid)),pe(2),Me("ngIf",o.touched&&o.invalid),pe(4),ds("ngModel",i.product.category),pe(3),Me("ngForOf",Kr(27,13,i.categories$)),pe(2),Me("ngIf",s.touched&&s.invalid),pe(4),ds("ngModel",i.product.imageUrl),pe(2),Me("ngIf",a.touched&&a.invalid),pe(5),Me("ngIf",i.product.imageUrl),pe(3),$a(i.product.title),pe(2),$a(PI(45,15,i.product.price,"USD",!0))}},dependencies:[aT,qd,Yd,nN,rN,sN,lp,Vb,up,KM,QM,Ub,Hb,jb,Lb,Fb,ps,cT]})};var dp=class e{static \u0275fac=function(n){return new(n||e)};static \u0275mod=ie({type:e});static \u0275inj=ne({imports:[_v.forRoot([{path:"",component:yh},{path:"products",component:wh},{path:"shopping-cart",component:bh},{path:"login",component:Uf},{path:"check-out",component:Hf,canActivate:[rn]},{path:"order-success",component:Ch,canActivate:[rn]},{path:"my/orders",component:Dh,canActivate:[rn]},{path:"admin/products/new",component:Tc,canActivate:[rn,Pi]},{path:"admin/products/:id",component:Tc,canActivate:[rn,Pi]},{path:"admin/products",component:Zf,canActivate:[rn,Pi]},{path:"admin/orders",component:Jf,canActivate:[rn,Pi]}]),_v]})};var je="top",lt="bottom",Xe="right",ze="left",hp="auto",yr=[je,lt,Xe,ze],ki="start",po="end",lN="clippingParents",fp="viewport",oa="popper",cN="reference",$b=yr.reduce(function(e,t){return e.concat([t+"-"+ki,t+"-"+po])},[]),pp=[].concat(yr,[hp]).reduce(function(e,t){return e.concat([t,t+"-"+ki,t+"-"+po])},[]),$z="beforeRead",Wz="read",Gz="afterRead",zz="beforeMain",qz="main",Yz="afterMain",Kz="beforeWrite",Qz="write",Zz="afterWrite",uN=[$z,Wz,Gz,zz,qz,Yz,Kz,Qz,Zz];function et(e){return e?(e.nodeName||"").toLowerCase():null}function Ee(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function on(e){var t=Ee(e).Element;return e instanceof t||e instanceof Element}function qe(e){var t=Ee(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function sa(e){if(typeof ShadowRoot>"u")return!1;var t=Ee(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function Jz(e){var t=e.state;Object.keys(t.elements).forEach(function(n){var i=t.styles[n]||{},r=t.attributes[n]||{},o=t.elements[n];!qe(o)||!et(o)||(Object.assign(o.style,i),Object.keys(r).forEach(function(s){var a=r[s];a===!1?o.removeAttribute(s):o.setAttribute(s,a===!0?"":a)}))})}function Xz(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(i){var r=t.elements[i],o=t.attributes[i]||{},s=Object.keys(t.styles.hasOwnProperty(i)?t.styles[i]:n[i]),a=s.reduce(function(l,c){return l[c]="",l},{});!qe(r)||!et(r)||(Object.assign(r.style,a),Object.keys(o).forEach(function(l){r.removeAttribute(l)}))})}}var dN={name:"applyStyles",enabled:!0,phase:"write",fn:Jz,effect:Xz,requires:["computeStyles"]};function tt(e){return e.split("-")[0]}var An=Math.max,go=Math.min,Fi=Math.round;function aa(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function Sc(){return!/^((?!chrome|android).)*safari/i.test(aa())}function sn(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!1);var i=e.getBoundingClientRect(),r=1,o=1;t&&qe(e)&&(r=e.offsetWidth>0&&Fi(i.width)/e.offsetWidth||1,o=e.offsetHeight>0&&Fi(i.height)/e.offsetHeight||1);var s=on(e)?Ee(e):window,a=s.visualViewport,l=!Sc()&&n,c=(i.left+(l&&a?a.offsetLeft:0))/r,u=(i.top+(l&&a?a.offsetTop:0))/o,d=i.width/r,h=i.height/o;return{width:d,height:h,top:u,right:c+d,bottom:u+h,left:c,x:c,y:u}}function mo(e){var t=sn(e),n=e.offsetWidth,i=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-i)<=1&&(i=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:i}}function Ac(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&sa(n)){var i=t;do{if(i&&e.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function Tt(e){return Ee(e).getComputedStyle(e)}function Wb(e){return["table","td","th"].indexOf(et(e))>=0}function ct(e){return((on(e)?e.ownerDocument:e.document)||window.document).documentElement}function Li(e){return et(e)==="html"?e:e.assignedSlot||e.parentNode||(sa(e)?e.host:null)||ct(e)}function hN(e){return!qe(e)||Tt(e).position==="fixed"?null:e.offsetParent}function e8(e){var t=/firefox/i.test(aa()),n=/Trident/i.test(aa());if(n&&qe(e)){var i=Tt(e);if(i.position==="fixed")return null}var r=Li(e);for(sa(r)&&(r=r.host);qe(r)&&["html","body"].indexOf(et(r))<0;){var o=Tt(r);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||t&&o.willChange==="filter"||t&&o.filter&&o.filter!=="none")return r;r=r.parentNode}return null}function Mn(e){for(var t=Ee(e),n=hN(e);n&&Wb(n)&&Tt(n).position==="static";)n=hN(n);return n&&(et(n)==="html"||et(n)==="body"&&Tt(n).position==="static")?t:n||e8(e)||t}function _o(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function vo(e,t,n){return An(e,go(t,n))}function fN(e,t,n){var i=vo(e,t,n);return i>n?n:i}function Mc(){return{top:0,right:0,bottom:0,left:0}}function Nc(e){return Object.assign({},Mc(),e)}function Rc(e,t){return t.reduce(function(n,i){return n[i]=e,n},{})}var t8=function(t,n){return t=typeof t=="function"?t(Object.assign({},n.rects,{placement:n.placement})):t,Nc(typeof t!="number"?t:Rc(t,yr))};function n8(e){var t,n=e.state,i=e.name,r=e.options,o=n.elements.arrow,s=n.modifiersData.popperOffsets,a=tt(n.placement),l=_o(a),c=[ze,Xe].indexOf(a)>=0,u=c?"height":"width";if(!(!o||!s)){var d=t8(r.padding,n),h=mo(o),f=l==="y"?je:ze,p=l==="y"?lt:Xe,g=n.rects.reference[u]+n.rects.reference[l]-s[l]-n.rects.popper[u],v=s[l]-n.rects.reference[l],w=Mn(o),N=w?l==="y"?w.clientHeight||0:w.clientWidth||0:0,T=g/2-v/2,A=d[f],V=N-h[u]-d[p],j=N/2-h[u]/2+T,se=vo(A,j,V),Ie=l;n.modifiersData[i]=(t={},t[Ie]=se,t.centerOffset=se-j,t)}}function i8(e){var t=e.state,n=e.options,i=n.element,r=i===void 0?"[data-popper-arrow]":i;r!=null&&(typeof r=="string"&&(r=t.elements.popper.querySelector(r),!r)||Ac(t.elements.popper,r)&&(t.elements.arrow=r))}var Gb={name:"arrow",enabled:!0,phase:"main",fn:n8,effect:i8,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function an(e){return e.split("-")[1]}var r8={top:"auto",right:"auto",bottom:"auto",left:"auto"};function o8(e,t){var n=e.x,i=e.y,r=t.devicePixelRatio||1;return{x:Fi(n*r)/r||0,y:Fi(i*r)/r||0}}function pN(e){var t,n=e.popper,i=e.popperRect,r=e.placement,o=e.variation,s=e.offsets,a=e.position,l=e.gpuAcceleration,c=e.adaptive,u=e.roundOffsets,d=e.isFixed,h=s.x,f=h===void 0?0:h,p=s.y,g=p===void 0?0:p,v=typeof u=="function"?u({x:f,y:g}):{x:f,y:g};f=v.x,g=v.y;var w=s.hasOwnProperty("x"),N=s.hasOwnProperty("y"),T=ze,A=je,V=window;if(c){var j=Mn(n),se="clientHeight",Ie="clientWidth";if(j===Ee(n)&&(j=ct(n),Tt(j).position!=="static"&&a==="absolute"&&(se="scrollHeight",Ie="scrollWidth")),j=j,r===je||(r===ze||r===Xe)&&o===po){A=lt;var Ce=d&&j===V&&V.visualViewport?V.visualViewport.height:j[se];g-=Ce-i.height,g*=l?1:-1}if(r===ze||(r===je||r===lt)&&o===po){T=Xe;var Fe=d&&j===V&&V.visualViewport?V.visualViewport.width:j[Ie];f-=Fe-i.width,f*=l?1:-1}}var ut=Object.assign({position:a},c&&r8),ln=u===!0?o8({x:f,y:g},Ee(n)):{x:f,y:g};if(f=ln.x,g=ln.y,l){var mt;return Object.assign({},ut,(mt={},mt[A]=N?"0":"",mt[T]=w?"0":"",mt.transform=(V.devicePixelRatio||1)<=1?"translate("+f+"px, "+g+"px)":"translate3d("+f+"px, "+g+"px, 0)",mt))}return Object.assign({},ut,(t={},t[A]=N?g+"px":"",t[T]=w?f+"px":"",t.transform="",t))}function s8(e){var t=e.state,n=e.options,i=n.gpuAcceleration,r=i===void 0?!0:i,o=n.adaptive,s=o===void 0?!0:o,a=n.roundOffsets,l=a===void 0?!0:a,c={placement:tt(t.placement),variation:an(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:r,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,pN(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:s,roundOffsets:l})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,pN(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}var gN={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:s8,data:{}};var gp={passive:!0};function a8(e){var t=e.state,n=e.instance,i=e.options,r=i.scroll,o=r===void 0?!0:r,s=i.resize,a=s===void 0?!0:s,l=Ee(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&c.forEach(function(u){u.addEventListener("scroll",n.update,gp)}),a&&l.addEventListener("resize",n.update,gp),function(){o&&c.forEach(function(u){u.removeEventListener("scroll",n.update,gp)}),a&&l.removeEventListener("resize",n.update,gp)}}var mN={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:a8,data:{}};var l8={left:"right",right:"left",bottom:"top",top:"bottom"};function la(e){return e.replace(/left|right|bottom|top/g,function(t){return l8[t]})}var c8={start:"end",end:"start"};function mp(e){return e.replace(/start|end/g,function(t){return c8[t]})}function yo(e){var t=Ee(e),n=t.pageXOffset,i=t.pageYOffset;return{scrollLeft:n,scrollTop:i}}function bo(e){return sn(ct(e)).left+yo(e).scrollLeft}function zb(e,t){var n=Ee(e),i=ct(e),r=n.visualViewport,o=i.clientWidth,s=i.clientHeight,a=0,l=0;if(r){o=r.width,s=r.height;var c=Sc();(c||!c&&t==="fixed")&&(a=r.offsetLeft,l=r.offsetTop)}return{width:o,height:s,x:a+bo(e),y:l}}function qb(e){var t,n=ct(e),i=yo(e),r=(t=e.ownerDocument)==null?void 0:t.body,o=An(n.scrollWidth,n.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),s=An(n.scrollHeight,n.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),a=-i.scrollLeft+bo(e),l=-i.scrollTop;return Tt(r||n).direction==="rtl"&&(a+=An(n.clientWidth,r?r.clientWidth:0)-o),{width:o,height:s,x:a,y:l}}function wo(e){var t=Tt(e),n=t.overflow,i=t.overflowX,r=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+r+i)}function _p(e){return["html","body","#document"].indexOf(et(e))>=0?e.ownerDocument.body:qe(e)&&wo(e)?e:_p(Li(e))}function br(e,t){var n;t===void 0&&(t=[]);var i=_p(e),r=i===((n=e.ownerDocument)==null?void 0:n.body),o=Ee(i),s=r?[o].concat(o.visualViewport||[],wo(i)?i:[]):i,a=t.concat(s);return r?a:a.concat(br(Li(s)))}function ca(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function u8(e,t){var n=sn(e,!1,t==="fixed");return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}function _N(e,t,n){return t===fp?ca(zb(e,n)):on(t)?u8(t,n):ca(qb(ct(e)))}function d8(e){var t=br(Li(e)),n=["absolute","fixed"].indexOf(Tt(e).position)>=0,i=n&&qe(e)?Mn(e):e;return on(i)?t.filter(function(r){return on(r)&&Ac(r,i)&&et(r)!=="body"}):[]}function Yb(e,t,n,i){var r=t==="clippingParents"?d8(e):[].concat(t),o=[].concat(r,[n]),s=o[0],a=o.reduce(function(l,c){var u=_N(e,c,i);return l.top=An(u.top,l.top),l.right=go(u.right,l.right),l.bottom=go(u.bottom,l.bottom),l.left=An(u.left,l.left),l},_N(e,s,i));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function Oc(e){var t=e.reference,n=e.element,i=e.placement,r=i?tt(i):null,o=i?an(i):null,s=t.x+t.width/2-n.width/2,a=t.y+t.height/2-n.height/2,l;switch(r){case je:l={x:s,y:t.y-n.height};break;case lt:l={x:s,y:t.y+t.height};break;case Xe:l={x:t.x+t.width,y:a};break;case ze:l={x:t.x-n.width,y:a};break;default:l={x:t.x,y:t.y}}var c=r?_o(r):null;if(c!=null){var u=c==="y"?"height":"width";switch(o){case ki:l[c]=l[c]-(t[u]/2-n[u]/2);break;case po:l[c]=l[c]+(t[u]/2-n[u]/2);break;default:}}return l}function wr(e,t){t===void 0&&(t={});var n=t,i=n.placement,r=i===void 0?e.placement:i,o=n.strategy,s=o===void 0?e.strategy:o,a=n.boundary,l=a===void 0?lN:a,c=n.rootBoundary,u=c===void 0?fp:c,d=n.elementContext,h=d===void 0?oa:d,f=n.altBoundary,p=f===void 0?!1:f,g=n.padding,v=g===void 0?0:g,w=Nc(typeof v!="number"?v:Rc(v,yr)),N=h===oa?cN:oa,T=e.rects.popper,A=e.elements[p?N:h],V=Yb(on(A)?A:A.contextElement||ct(e.elements.popper),l,u,s),j=sn(e.elements.reference),se=Oc({reference:j,element:T,strategy:"absolute",placement:r}),Ie=ca(Object.assign({},T,se)),Ce=h===oa?Ie:j,Fe={top:V.top-Ce.top+w.top,bottom:Ce.bottom-V.bottom+w.bottom,left:V.left-Ce.left+w.left,right:Ce.right-V.right+w.right},ut=e.modifiersData.offset;if(h===oa&&ut){var ln=ut[r];Object.keys(Fe).forEach(function(mt){var Dr=[Xe,lt].indexOf(mt)>=0?1:-1,Er=[je,lt].indexOf(mt)>=0?"y":"x";Fe[mt]+=ln[Er]*Dr})}return Fe}function Kb(e,t){t===void 0&&(t={});var n=t,i=n.placement,r=n.boundary,o=n.rootBoundary,s=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,c=l===void 0?pp:l,u=an(i),d=u?a?$b:$b.filter(function(p){return an(p)===u}):yr,h=d.filter(function(p){return c.indexOf(p)>=0});h.length===0&&(h=d);var f=h.reduce(function(p,g){return p[g]=wr(e,{placement:g,boundary:r,rootBoundary:o,padding:s})[tt(g)],p},{});return Object.keys(f).sort(function(p,g){return f[p]-f[g]})}function h8(e){if(tt(e)===hp)return[];var t=la(e);return[mp(e),t,mp(t)]}function f8(e){var t=e.state,n=e.options,i=e.name;if(!t.modifiersData[i]._skip){for(var r=n.mainAxis,o=r===void 0?!0:r,s=n.altAxis,a=s===void 0?!0:s,l=n.fallbackPlacements,c=n.padding,u=n.boundary,d=n.rootBoundary,h=n.altBoundary,f=n.flipVariations,p=f===void 0?!0:f,g=n.allowedAutoPlacements,v=t.options.placement,w=tt(v),N=w===v,T=l||(N||!p?[la(v)]:h8(v)),A=[v].concat(T).reduce(function(Co,Vi){return Co.concat(tt(Vi)===hp?Kb(t,{placement:Vi,boundary:u,rootBoundary:d,padding:c,flipVariations:p,allowedAutoPlacements:g}):Vi)},[]),V=t.rects.reference,j=t.rects.popper,se=new Map,Ie=!0,Ce=A[0],Fe=0;Fe<A.length;Fe++){var ut=A[Fe],ln=tt(ut),mt=an(ut)===ki,Dr=[je,lt].indexOf(ln)>=0,Er=Dr?"width":"height",kt=wr(t,{placement:ut,boundary:u,rootBoundary:d,altBoundary:h,padding:c}),cn=Dr?mt?Xe:ze:mt?lt:je;V[Er]>j[Er]&&(cn=la(cn));var xc=la(cn),Ir=[];if(o&&Ir.push(kt[ln]<=0),a&&Ir.push(kt[cn]<=0,kt[xc]<=0),Ir.every(function(Co){return Co})){Ce=ut,Ie=!1;break}se.set(ut,Ir)}if(Ie)for(var Pc=p?3:1,Ip=function(Vi){var ha=A.find(function(Fc){var Tr=se.get(Fc);if(Tr)return Tr.slice(0,Vi).every(function(Tp){return Tp})});if(ha)return Ce=ha,"break"},da=Pc;da>0;da--){var kc=Ip(da);if(kc==="break")break}t.placement!==Ce&&(t.modifiersData[i]._skip=!0,t.placement=Ce,t.reset=!0)}}var Qb={name:"flip",enabled:!0,phase:"main",fn:f8,requiresIfExists:["offset"],data:{_skip:!1}};function p8(e,t,n){var i=tt(e),r=[ze,je].indexOf(i)>=0?-1:1,o=typeof n=="function"?n(Object.assign({},t,{placement:e})):n,s=o[0],a=o[1];return s=s||0,a=(a||0)*r,[ze,Xe].indexOf(i)>=0?{x:a,y:s}:{x:s,y:a}}function g8(e){var t=e.state,n=e.options,i=e.name,r=n.offset,o=r===void 0?[0,0]:r,s=pp.reduce(function(u,d){return u[d]=p8(d,t.rects,o),u},{}),a=s[t.placement],l=a.x,c=a.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[i]=s}var Zb={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:g8};function m8(e){var t=e.state,n=e.name;t.modifiersData[n]=Oc({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}var vN={name:"popperOffsets",enabled:!0,phase:"read",fn:m8,data:{}};function Jb(e){return e==="x"?"y":"x"}function _8(e){var t=e.state,n=e.options,i=e.name,r=n.mainAxis,o=r===void 0?!0:r,s=n.altAxis,a=s===void 0?!1:s,l=n.boundary,c=n.rootBoundary,u=n.altBoundary,d=n.padding,h=n.tether,f=h===void 0?!0:h,p=n.tetherOffset,g=p===void 0?0:p,v=wr(t,{boundary:l,rootBoundary:c,padding:d,altBoundary:u}),w=tt(t.placement),N=an(t.placement),T=!N,A=_o(w),V=Jb(A),j=t.modifiersData.popperOffsets,se=t.rects.reference,Ie=t.rects.popper,Ce=typeof g=="function"?g(Object.assign({},t.rects,{placement:t.placement})):g,Fe=typeof Ce=="number"?{mainAxis:Ce,altAxis:Ce}:Object.assign({mainAxis:0,altAxis:0},Ce),ut=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,ln={x:0,y:0};if(j){if(o){var mt,Dr=A==="y"?je:ze,Er=A==="y"?lt:Xe,kt=A==="y"?"height":"width",cn=j[A],xc=cn+v[Dr],Ir=cn-v[Er],Pc=f?-Ie[kt]/2:0,Ip=N===ki?se[kt]:Ie[kt],da=N===ki?-Ie[kt]:-se[kt],kc=t.elements.arrow,Co=f&&kc?mo(kc):{width:0,height:0},Vi=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:Mc(),ha=Vi[Dr],Fc=Vi[Er],Tr=vo(0,se[kt],Co[kt]),Tp=T?se[kt]/2-Pc-Tr-ha-Fe.mainAxis:Ip-Tr-ha-Fe.mainAxis,XN=T?-se[kt]/2+Pc+Tr+Fc+Fe.mainAxis:da+Tr+Fc+Fe.mainAxis,Sp=t.elements.arrow&&Mn(t.elements.arrow),eR=Sp?A==="y"?Sp.clientTop||0:Sp.clientLeft||0:0,pw=(mt=ut?.[A])!=null?mt:0,tR=cn+Tp-pw-eR,nR=cn+XN-pw,gw=vo(f?go(xc,tR):xc,cn,f?An(Ir,nR):Ir);j[A]=gw,ln[A]=gw-cn}if(a){var mw,iR=A==="x"?je:ze,rR=A==="x"?lt:Xe,Sr=j[V],Lc=V==="y"?"height":"width",_w=Sr+v[iR],vw=Sr-v[rR],Ap=[je,ze].indexOf(w)!==-1,yw=(mw=ut?.[V])!=null?mw:0,bw=Ap?_w:Sr-se[Lc]-Ie[Lc]-yw+Fe.altAxis,ww=Ap?Sr+se[Lc]+Ie[Lc]-yw-Fe.altAxis:vw,Cw=f&&Ap?fN(bw,Sr,ww):vo(f?bw:_w,Sr,f?ww:vw);j[V]=Cw,ln[V]=Cw-Sr}t.modifiersData[i]=ln}}var Xb={name:"preventOverflow",enabled:!0,phase:"main",fn:_8,requiresIfExists:["offset"]};function ew(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function tw(e){return e===Ee(e)||!qe(e)?yo(e):ew(e)}function v8(e){var t=e.getBoundingClientRect(),n=Fi(t.width)/e.offsetWidth||1,i=Fi(t.height)/e.offsetHeight||1;return n!==1||i!==1}function nw(e,t,n){n===void 0&&(n=!1);var i=qe(t),r=qe(t)&&v8(t),o=ct(t),s=sn(e,r,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(i||!i&&!n)&&((et(t)!=="body"||wo(o))&&(a=tw(t)),qe(t)?(l=sn(t,!0),l.x+=t.clientLeft,l.y+=t.clientTop):o&&(l.x=bo(o))),{x:s.left+a.scrollLeft-l.x,y:s.top+a.scrollTop-l.y,width:s.width,height:s.height}}function y8(e){var t=new Map,n=new Set,i=[];e.forEach(function(o){t.set(o.name,o)});function r(o){n.add(o.name);var s=[].concat(o.requires||[],o.requiresIfExists||[]);s.forEach(function(a){if(!n.has(a)){var l=t.get(a);l&&r(l)}}),i.push(o)}return e.forEach(function(o){n.has(o.name)||r(o)}),i}function iw(e){var t=y8(e);return uN.reduce(function(n,i){return n.concat(t.filter(function(r){return r.phase===i}))},[])}function rw(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}function ow(e){var t=e.reduce(function(n,i){var r=n[i.name];return n[i.name]=r?Object.assign({},r,i,{options:Object.assign({},r.options,i.options),data:Object.assign({},r.data,i.data)}):i,n},{});return Object.keys(t).map(function(n){return t[n]})}var yN={placement:"bottom",modifiers:[],strategy:"absolute"};function bN(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(i){return!(i&&typeof i.getBoundingClientRect=="function")})}function wN(e){e===void 0&&(e={});var t=e,n=t.defaultModifiers,i=n===void 0?[]:n,r=t.defaultOptions,o=r===void 0?yN:r;return function(a,l,c){c===void 0&&(c=o);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},yN,o),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},d=[],h=!1,f={state:u,setOptions:function(w){var N=typeof w=="function"?w(u.options):w;g(),u.options=Object.assign({},o,u.options,N),u.scrollParents={reference:on(a)?br(a):a.contextElement?br(a.contextElement):[],popper:br(l)};var T=iw(ow([].concat(i,u.options.modifiers)));return u.orderedModifiers=T.filter(function(A){return A.enabled}),p(),f.update()},forceUpdate:function(){if(!h){var w=u.elements,N=w.reference,T=w.popper;if(bN(N,T)){u.rects={reference:nw(N,Mn(T),u.options.strategy==="fixed"),popper:mo(T)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(Fe){return u.modifiersData[Fe.name]=Object.assign({},Fe.data)});for(var A=0;A<u.orderedModifiers.length;A++){if(u.reset===!0){u.reset=!1,A=-1;continue}var V=u.orderedModifiers[A],j=V.fn,se=V.options,Ie=se===void 0?{}:se,Ce=V.name;typeof j=="function"&&(u=j({state:u,options:Ie,name:Ce,instance:f})||u)}}}},update:rw(function(){return new Promise(function(v){f.forceUpdate(),v(u)})}),destroy:function(){g(),h=!0}};if(!bN(a,l))return f;f.setOptions(c).then(function(v){!h&&c.onFirstUpdate&&c.onFirstUpdate(v)});function p(){u.orderedModifiers.forEach(function(v){var w=v.name,N=v.options,T=N===void 0?{}:N,A=v.effect;if(typeof A=="function"){var V=A({state:u,name:w,instance:f,options:T}),j=function(){};d.push(V||j)}})}function g(){d.forEach(function(v){return v()}),d=[]}return f}}var b8=[mN,vN,gN,dN],sw=wN({defaultModifiers:b8});var w8=["*"];var C8=["dialog"];var IN={animation:!0,transitionTimerDelayMs:5},TN=(()=>{class e{constructor(){this.animation=IN.animation}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function D8(e){let{transitionDelay:t,transitionDuration:n}=window.getComputedStyle(e),i=parseFloat(t),r=parseFloat(n);return(i+r)*1e3}function SN(e){return typeof e=="string"}function aw(e){return e!=null}function E8(e){return e&&e.then}function I8(e,t){return!t||typeof e.closest>"u"?null:e.closest(t)}function dw(e){return(e||document.body).getBoundingClientRect()}function T8(e){return t=>new F(n=>{let i=s=>e.run(()=>n.next(s)),r=s=>e.run(()=>n.error(s)),o=()=>e.run(()=>n.complete());return t.subscribe({next:i,error:r,complete:o})})}function AN(e=document){let t=e?.activeElement;return t?t.shadowRoot?AN(t.shadowRoot):t:null}var S8=()=>{},{transitionTimerDelayMs:A8}=IN,vp=new Map,Cr=(e,t,n,i)=>{let r=i.context||{},o=vp.get(t);if(o)switch(i.runningTransition){case"continue":return $e;case"stop":e.run(()=>o.transition$.complete()),r=Object.assign(o.context,r),vp.delete(t)}let s=n(t,i.animation,r)||S8;if(!i.animation||window.getComputedStyle(t).transitionProperty==="none")return e.run(()=>s()),R(void 0).pipe(T8(e));let a=new re,l=new re,c=a.pipe(ig(!0));vp.set(t,{transition$:a,complete:()=>{l.next(),l.complete()},context:r});let u=D8(t);return e.runOutsideAngular(()=>{let d=rt(t,"transitionend").pipe(We(c),Le(({target:f})=>f===t)),h=wa(u+A8).pipe(We(c));bu(h,d,l).pipe(We(c)).subscribe(()=>{vp.delete(t),e.run(()=>{s(),a.next(),a.complete()})})}),a.asObservable()};function M8(e,t){if(typeof navigator>"u")return"0px";let{classList:n}=e,i=n.contains("show");i||n.add("show"),e.style[t]="";let r=e.getBoundingClientRect()[t]+"px";return i||n.remove("show"),r}var N8=(e,t,n)=>{let{direction:i,maxSize:r,dimension:o}=n,{classList:s}=e;function a(){s.add("collapse"),i==="show"?s.add("show"):s.remove("show")}if(!t){a();return}return r||(r=M8(e,o),n.maxSize=r,e.style[o]=i!=="show"?r:"0px",s.remove("collapse","collapsing","show"),dw(e),s.add("collapsing")),e.style[o]=i==="show"?r:"0px",()=>{a(),s.remove("collapsing"),e.style[o]=""}},R8=(()=>{class e{constructor(){this._ngbConfig=m(TN),this.horizontal=!1}get animation(){return this._animation??this._ngbConfig.animation}set animation(n){this._animation=n}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),MN=(()=>{class e{constructor(){this._config=m(R8),this._element=m(Pe),this._zone=m(H),this.animation=this._config.animation,this._afterInit=!1,this._isCollapsed=!1,this.ngbCollapseChange=new ge,this.horizontal=this._config.horizontal,this.shown=new ge,this.hidden=new ge}set collapsed(n){this._isCollapsed!==n&&(this._isCollapsed=n,this._afterInit&&this._runTransitionWithEvents(n,this.animation))}ngOnInit(){this._runTransition(this._isCollapsed,!1),this._afterInit=!0}toggle(n=this._isCollapsed){this.collapsed=!n,this.ngbCollapseChange.next(this._isCollapsed)}_runTransition(n,i){return Cr(this._zone,this._element.nativeElement,N8,{animation:i,runningTransition:"stop",context:{direction:n?"hide":"show",dimension:this.horizontal?"width":"height"}})}_runTransitionWithEvents(n,i){this._runTransition(n,i).subscribe(()=>{n?this.hidden.emit():this.shown.emit()})}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275dir=ae({type:e,selectors:[["","ngbCollapse",""]],hostVars:2,hostBindings:function(i,r){i&2&&Bt("collapse-horizontal",r.horizontal)},inputs:{animation:"animation",collapsed:[0,"ngbCollapse","collapsed"],horizontal:"horizontal"},outputs:{ngbCollapseChange:"ngbCollapseChange",shown:"shown",hidden:"hidden"},exportAs:["ngbCollapse"],standalone:!0})}}return e})();var NN=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=ie({type:e})}static{this.\u0275inj=ne({})}}return e})();var RN=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=ie({type:e})}static{this.\u0275inj=ne({})}}return e})();var ON=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=ie({type:e})}static{this.\u0275inj=ne({})}}return e})(),xN=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=ie({type:e})}static{this.\u0275inj=ne({})}}return e})();var yp=(e,t)=>t?t.some(n=>n.contains(e)):!1,CN=(e,t)=>!t||I8(e,t)!=null,O8=(()=>{let e=()=>/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2,t=()=>/Android/.test(navigator.userAgent);return typeof navigator<"u"?!!navigator.userAgent&&(e()||t()):!1})(),x8=e=>O8?()=>setTimeout(()=>e(),100):e;function P8(e,t,n,i,r,o,s,a){n&&e.runOutsideAngular(x8(()=>{let l=h=>{let f=h.target;return h.button===2||yp(f,s)?!1:n==="inside"?yp(f,o)&&CN(f,a):n==="outside"?!yp(f,o):CN(f,a)||!yp(f,o)},c=rt(t,"keydown").pipe(We(r),Le(h=>h.key==="Escape"),Oe(h=>h.preventDefault())),u=rt(t,"mousedown").pipe(S(l),We(r)),d=rt(t,"mouseup").pipe(xr(u),Le(([h,f])=>f),ng(0),We(r));bu([c.pipe(S(h=>0)),d.pipe(S(h=>1))]).subscribe(h=>e.run(()=>i(h)))}))}var PN=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function kN(e){let t=Array.from(e.querySelectorAll(PN)).filter(n=>n.tabIndex!==-1);return[t[0],t[t.length-1]]}var k8=(e,t,n,i=!1)=>{e.runOutsideAngular(()=>{let r=rt(t,"focusin").pipe(We(n),S(o=>o.target));rt(t,"keydown").pipe(We(n),Le(o=>o.key==="Tab"),xr(r)).subscribe(([o,s])=>{let[a,l]=kN(t);(s===a||s===t)&&o.shiftKey&&(l.focus(),o.preventDefault()),s===l&&!o.shiftKey&&(a.focus(),o.preventDefault())}),i&&rt(t,"click").pipe(We(n),xr(r),S(o=>o[1])).subscribe(o=>o.focus())})},F8=(()=>{class e{constructor(){this._element=m(Be).documentElement}isRTL(){return(this._element.getAttribute("dir")||"").toLowerCase()==="rtl"}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),L8=/\s+/,V8=/  +/gi,B8={top:["top"],bottom:["bottom"],start:["left","right"],left:["left"],end:["right","left"],right:["right"],"top-start":["top-start","top-end"],"top-left":["top-start"],"top-end":["top-end","top-start"],"top-right":["top-end"],"bottom-start":["bottom-start","bottom-end"],"bottom-left":["bottom-start"],"bottom-end":["bottom-end","bottom-start"],"bottom-right":["bottom-end"],"start-top":["left-start","right-start"],"left-top":["left-start"],"start-bottom":["left-end","right-end"],"left-bottom":["left-end"],"end-top":["right-start","left-start"],"right-top":["right-start"],"end-bottom":["right-end","left-end"],"right-bottom":["right-end"]};function j8(e,t){let[n,i]=B8[e];return t&&i||n}var U8=/^left/,H8=/^right/,$8=/^start/,W8=/^end/;function G8(e,t){let[n,i]=t.split("-"),r=n.replace(U8,"start").replace(H8,"end"),o=[r];if(i){let s=i;(n==="left"||n==="right")&&(s=s.replace($8,"top").replace(W8,"bottom")),o.push(`${r}-${s}`)}return e&&(o=o.map(s=>`${e}-${s}`)),o.join(" ")}function DN({placement:e,baseClass:t},n){let i=Array.isArray(e)?e:e.split(L8),r=["top","bottom","start","end","top-start","top-end","bottom-start","bottom-end","start-top","start-bottom","end-top","end-bottom"],o=i.findIndex(c=>c==="auto");o>=0&&r.forEach(function(c){i.find(u=>u.search("^"+c)!==-1)==null&&i.splice(o++,1,c)});let s=i.map(c=>j8(c,n.isRTL()));return{placement:s.shift(),modifiers:[{name:"bootstrapClasses",enabled:!!t,phase:"write",fn({state:c}){let u=new RegExp(t+"(-[a-z]+)*","gi"),d=c.elements.popper,h=c.placement,f=d.className;f=f.replace(u,""),f+=` ${G8(t,h)}`,f=f.trim().replace(V8," "),d.className=f}},Qb,Xb,Gb,{enabled:!0,name:"flip",options:{fallbackPlacements:s}},{enabled:!0,name:"preventOverflow",phase:"main",fn:function(){}}]}}function EN(e){return e}function z8(){let e=m(F8),t=null;return{createPopper(n){if(!t){let r=(n.updatePopperOptions||EN)(DN(n,e));t=sw(n.hostElement,n.targetElement,r)}},update(){t&&t.update()},setOptions(n){if(t){let r=(n.updatePopperOptions||EN)(DN(n,e));t.setOptions(r)}},destroy(){t&&(t.destroy(),t=null)}}}function q8(e){return t=>(t.modifiers.push(Zb,{name:"offset",options:{offset:()=>e}}),t)}var hle=new Date(1882,10,12),fle=new Date(2174,10,25);var ple=1e3*60*60*24;var hw=1080,Y8=24*hw,K8=12*hw+793,gle=29*Y8+K8,mle=11*hw+204;var FN=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=ie({type:e})}static{this.\u0275inj=ne({})}}return e})(),Q8=(()=>{class e{constructor(){this.autoClose=!0,this.placement=["bottom-start","bottom-end","top-start","top-end"],this.popperOptions=n=>n,this.container=null}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Z8=(()=>{class e{constructor(){this._disabled=!1,this.nativeElement=m(Pe).nativeElement,this.tabindex=0}set disabled(n){this._disabled=n===""||n===!0}get disabled(){return this._disabled}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275dir=ae({type:e,selectors:[["","ngbDropdownItem",""]],hostAttrs:[1,"dropdown-item"],hostVars:3,hostBindings:function(i,r){i&2&&(r_("tabIndex",r.disabled?-1:r.tabindex),Bt("disabled",r.disabled))},inputs:{tabindex:"tabindex",disabled:"disabled"},standalone:!0})}}return e})();var fw=(()=>{class e{constructor(){this.dropdown=m(wp),this.nativeElement=m(Pe).nativeElement}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275dir=ae({type:e,selectors:[["","ngbDropdownMenu",""]],contentQueries:function(i,r,o){if(i&1&&Ha(o,Z8,4),i&2){let s;cs(s=us())&&(r.menuItems=s)}},hostAttrs:[1,"dropdown-menu"],hostVars:2,hostBindings:function(i,r){i&1&&Ge("keydown.ArrowUp",function(s){return r.dropdown.onKeyDown(s)})("keydown.ArrowDown",function(s){return r.dropdown.onKeyDown(s)})("keydown.Home",function(s){return r.dropdown.onKeyDown(s)})("keydown.End",function(s){return r.dropdown.onKeyDown(s)})("keydown.Enter",function(s){return r.dropdown.onKeyDown(s)})("keydown.Space",function(s){return r.dropdown.onKeyDown(s)})("keydown.Tab",function(s){return r.dropdown.onKeyDown(s)})("keydown.Shift.Tab",function(s){return r.dropdown.onKeyDown(s)}),i&2&&Bt("show",r.dropdown.isOpen())},standalone:!0})}}return e})(),lw=(()=>{class e{constructor(){this.dropdown=m(wp),this.nativeElement=m(Pe).nativeElement}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275dir=ae({type:e,selectors:[["","ngbDropdownAnchor",""]],hostAttrs:[1,"dropdown-toggle"],hostVars:3,hostBindings:function(i,r){i&2&&(mn("aria-expanded",r.dropdown.isOpen()),Bt("show",r.dropdown.isOpen()))},standalone:!0})}}return e})(),LN=(()=>{class e extends lw{static{this.\u0275fac=(()=>{let n;return function(r){return(n||(n=Vt(e)))(r||e)}})()}static{this.\u0275dir=ae({type:e,selectors:[["","ngbDropdownToggle",""]],hostAttrs:[1,"dropdown-toggle"],hostVars:3,hostBindings:function(i,r){i&1&&Ge("click",function(){return r.dropdown.toggle()})("keydown.ArrowUp",function(s){return r.dropdown.onKeyDown(s)})("keydown.ArrowDown",function(s){return r.dropdown.onKeyDown(s)})("keydown.Home",function(s){return r.dropdown.onKeyDown(s)})("keydown.End",function(s){return r.dropdown.onKeyDown(s)})("keydown.Tab",function(s){return r.dropdown.onKeyDown(s)})("keydown.Shift.Tab",function(s){return r.dropdown.onKeyDown(s)}),i&2&&(mn("aria-expanded",r.dropdown.isOpen()),Bt("show",r.dropdown.isOpen()))},standalone:!0,features:[Xt([{provide:lw,useExisting:Rt(()=>e)}]),pt]})}}return e})(),wp=(()=>{class e{constructor(){this._changeDetector=m(vn),this._config=m(Q8),this._document=m(Be),this._ngZone=m(H),this._nativeElement=m(Pe).nativeElement,this._destroyCloseHandlers$=new re,this._bodyContainer=null,this._positioning=z8(),this.autoClose=this._config.autoClose,this._open=!1,this.placement=this._config.placement,this.popperOptions=this._config.popperOptions,this.container=this._config.container,this.openChange=new ge}ngOnInit(){this.display||(this.display=this._nativeElement.closest(".navbar")?"static":"dynamic")}ngAfterContentInit(){this._ngZone.onStable.pipe(Te(1)).subscribe(()=>{this._applyPlacementClasses(),this._open&&this._setCloseHandlers()})}ngOnChanges(n){if(n.container&&this._open&&this._applyContainer(this.container),n.placement&&!n.placement.firstChange&&(this._positioning.setOptions({hostElement:this._anchor.nativeElement,targetElement:this._bodyContainer||this._menu.nativeElement,placement:this.placement}),this._applyPlacementClasses()),n.dropdownClass){let{currentValue:i,previousValue:r}=n.dropdownClass;this._applyCustomDropdownClass(i,r)}n.autoClose&&this._open&&(this.autoClose=n.autoClose.currentValue,this._setCloseHandlers())}isOpen(){return this._open}open(){this._open||(this._open=!0,this._applyContainer(this.container),this.openChange.emit(!0),this._setCloseHandlers(),this._anchor&&(this._anchor.nativeElement.focus(),this.display==="dynamic"&&this._ngZone.runOutsideAngular(()=>{this._positioning.createPopper({hostElement:this._anchor.nativeElement,targetElement:this._bodyContainer||this._menu.nativeElement,placement:this.placement,updatePopperOptions:n=>this.popperOptions(q8([0,2])(n))}),this._applyPlacementClasses(),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>this._positionMenu())})))}_setCloseHandlers(){this._destroyCloseHandlers$.next(),P8(this._ngZone,this._document,this.autoClose,n=>{this.close(),n===0&&this._anchor.nativeElement.focus()},this._destroyCloseHandlers$,this._menu?[this._menu.nativeElement]:[],this._anchor?[this._anchor.nativeElement]:[],".dropdown-item,.dropdown-divider")}close(){this._open&&(this._open=!1,this._resetContainer(),this._positioning.destroy(),this._zoneSubscription?.unsubscribe(),this._destroyCloseHandlers$.next(),this.openChange.emit(!1),this._changeDetector.markForCheck())}toggle(){this.isOpen()?this.close():this.open()}ngOnDestroy(){this.close()}onKeyDown(n){let{key:i}=n,r=this._getMenuElements(),o=-1,s=null,a=this._isEventFromToggle(n);if(!a&&r.length&&r.forEach((l,c)=>{l.contains(n.target)&&(s=l),l===AN(this._document)&&(o=c)}),i===" "||i==="Enter"){s&&(this.autoClose===!0||this.autoClose==="inside")&&rt(s,"click").pipe(Te(1)).subscribe(()=>this.close());return}if(i==="Tab"){if(n.target&&this.isOpen()&&this.autoClose)if(this._anchor.nativeElement===n.target){this.container==="body"&&!n.shiftKey?(this._menu.nativeElement.setAttribute("tabindex","0"),this._menu.nativeElement.focus(),this._menu.nativeElement.removeAttribute("tabindex")):n.shiftKey&&this.close();return}else if(this.container==="body"){let l=this._menu.nativeElement.querySelectorAll(PN);n.shiftKey&&n.target===l[0]?(this._anchor.nativeElement.focus(),n.preventDefault()):!n.shiftKey&&n.target===l[l.length-1]&&(this._anchor.nativeElement.focus(),this.close())}else rt(n.target,"focusout").pipe(Te(1)).subscribe(({relatedTarget:l})=>{this._nativeElement.contains(l)||this.close()});return}if(a||s){if(this.open(),r.length){switch(i){case"ArrowDown":o=Math.min(o+1,r.length-1);break;case"ArrowUp":if(this._isDropup()&&o===-1){o=r.length-1;break}o=Math.max(o-1,0);break;case"Home":o=0;break;case"End":o=r.length-1;break}r[o].focus()}n.preventDefault()}}_isDropup(){return this._nativeElement.classList.contains("dropup")}_isEventFromToggle(n){return this._anchor.nativeElement.contains(n.target)}_getMenuElements(){return this._menu?this._menu.menuItems.filter(({disabled:n})=>!n).map(({nativeElement:n})=>n):[]}_positionMenu(){let n=this._menu;this.isOpen()&&n&&(this.display==="dynamic"?(this._positioning.update(),this._applyPlacementClasses()):this._applyPlacementClasses(this._getFirstPlacement(this.placement)))}_getFirstPlacement(n){return Array.isArray(n)?n[0]:n.split(" ")[0]}_resetContainer(){this._menu&&this._nativeElement.appendChild(this._menu.nativeElement),this._bodyContainer&&(this._document.body.removeChild(this._bodyContainer),this._bodyContainer=null)}_applyContainer(n=null){if(this._resetContainer(),n==="body"){let i=this._menu.nativeElement,r=this._bodyContainer=this._bodyContainer||this._document.createElement("div");r.style.position="absolute",i.style.position="static",r.style.zIndex="1055",r.appendChild(i),this._document.body.appendChild(r)}this._applyCustomDropdownClass(this.dropdownClass)}_applyCustomDropdownClass(n,i){let r=this.container==="body"?this._bodyContainer:this._nativeElement;r&&(i&&r.classList.remove(i),n&&r.classList.add(n))}_applyPlacementClasses(n){if(this._menu){n||(n=this._getFirstPlacement(this.placement)),this._nativeElement.classList.remove("dropup","dropdown"),this.display==="static"?this._menu.nativeElement.setAttribute("data-bs-popper","static"):this._menu.nativeElement.removeAttribute("data-bs-popper");let i=n.search("^top")!==-1?"dropup":"dropdown";this._nativeElement.classList.add(i),this._bodyContainer&&(this._bodyContainer.classList.remove("dropup","dropdown"),this._bodyContainer.classList.add(i))}}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275dir=ae({type:e,selectors:[["","ngbDropdown",""]],contentQueries:function(i,r,o){if(i&1&&(Ha(o,fw,5),Ha(o,lw,5)),i&2){let s;cs(s=us())&&(r._menu=s.first),cs(s=us())&&(r._anchor=s.first)}},hostVars:2,hostBindings:function(i,r){i&2&&Bt("show",r.isOpen())},inputs:{autoClose:"autoClose",dropdownClass:"dropdownClass",_open:[0,"open","_open"],placement:"placement",popperOptions:"popperOptions",container:"container",display:"display"},outputs:{openChange:"openChange"},exportAs:["ngbDropdown"],standalone:!0,features:[jn]})}}return e})();var VN=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=ie({type:e})}static{this.\u0275inj=ne({})}}return e})(),J8=(()=>{class e{constructor(){this._ngbConfig=m(TN),this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return this._animation??this._ngbConfig.animation}set animation(n){this._animation=n}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),ua=class{constructor(t,n,i){this.nodes=t,this.viewRef=n,this.componentRef=i}};var X8=(()=>{class e{constructor(){this._document=m(Be)}hide(){let n=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),i=this._document.body,r=i.style,{overflow:o,paddingRight:s}=r;if(n>0){let a=parseFloat(window.getComputedStyle(i).paddingRight);r.paddingRight=`${a+n}px`}return r.overflow="hidden",()=>{n>0&&(r.paddingRight=s),r.overflow=o}}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),e4=(()=>{class e{constructor(){this._nativeElement=m(Pe).nativeElement,this._zone=m(H)}ngOnInit(){this._zone.onStable.asObservable().pipe(Te(1)).subscribe(()=>{Cr(this._zone,this._nativeElement,(n,i)=>{i&&dw(n),n.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return Cr(this._zone,this._nativeElement,({classList:n})=>n.remove("show"),{animation:this.animation,runningTransition:"stop"})}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=fe({type:e,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(i,r){i&2&&(kd("modal-backdrop"+(r.backdropClass?" "+r.backdropClass:"")),Bt("show",!r.animation)("fade",r.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[Ga],decls:0,vars:0,template:function(i,r){},encapsulation:2})}}return e})(),bp=class{update(t){}close(t){}dismiss(t){}},t4=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],n4=["animation","backdropClass"],cw=class{_applyWindowOptions(t,n){t4.forEach(i=>{aw(n[i])&&(t[i]=n[i])})}_applyBackdropOptions(t,n){n4.forEach(i=>{aw(n[i])&&(t[i]=n[i])})}update(t){this._applyWindowOptions(this._windowCmptRef.instance,t),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,t)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(We(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(We(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}constructor(t,n,i,r){this._windowCmptRef=t,this._contentRef=n,this._backdropCmptRef=i,this._beforeDismiss=r,this._closed=new re,this._dismissed=new re,this._hidden=new re,t.instance.dismissEvent.subscribe(o=>{this.dismiss(o)}),this.result=new Promise((o,s)=>{this._resolve=o,this._reject=s}),this.result.then(null,()=>{})}close(t){this._windowCmptRef&&(this._closed.next(t),this._resolve(t),this._removeModalElements())}_dismiss(t){this._dismissed.next(t),this._reject(t),this._removeModalElements()}dismiss(t){if(this._windowCmptRef)if(!this._beforeDismiss)this._dismiss(t);else{let n=this._beforeDismiss();E8(n)?n.then(i=>{i!==!1&&this._dismiss(t)},()=>{}):n!==!1&&this._dismiss(t)}}_removeModalElements(){let t=this._windowCmptRef.instance.hide(),n=this._backdropCmptRef?this._backdropCmptRef.instance.hide():R(void 0);t.subscribe(()=>{let{nativeElement:i}=this._windowCmptRef.location;i.parentNode.removeChild(i),this._windowCmptRef.destroy(),this._contentRef?.viewRef?.destroy(),this._windowCmptRef=null,this._contentRef=null}),n.subscribe(()=>{if(this._backdropCmptRef){let{nativeElement:i}=this._backdropCmptRef.location;i.parentNode.removeChild(i),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),Ca(t,n).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}},uw=function(e){return e[e.BACKDROP_CLICK=0]="BACKDROP_CLICK",e[e.ESC=1]="ESC",e}(uw||{}),i4=(()=>{class e{constructor(){this._document=m(Be),this._elRef=m(Pe),this._zone=m(H),this._closed$=new re,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new ge,this.shown=new re,this.hidden=new re}get fullscreenClass(){return this.fullscreen===!0?" modal-fullscreen":SN(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(n){this.dismissEvent.emit(n)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(Te(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){let{nativeElement:n}=this._elRef,i={animation:this.animation,runningTransition:"stop"},r=Cr(this._zone,n,()=>n.classList.remove("show"),i),o=Cr(this._zone,this._dialogEl.nativeElement,()=>{},i),s=Ca(r,o);return s.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),s}_show(){let n={animation:this.animation,runningTransition:"continue"},i=Cr(this._zone,this._elRef.nativeElement,(o,s)=>{s&&dw(o),o.classList.add("show")},n),r=Cr(this._zone,this._dialogEl.nativeElement,()=>{},n);Ca(i,r).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){let{nativeElement:n}=this._elRef;this._zone.runOutsideAngular(()=>{rt(n,"keydown").pipe(We(this._closed$),Le(r=>r.key==="Escape")).subscribe(r=>{this.keyboard?requestAnimationFrame(()=>{r.defaultPrevented||this._zone.run(()=>this.dismiss(uw.ESC))}):this.backdrop==="static"&&this._bumpBackdrop()});let i=!1;rt(this._dialogEl.nativeElement,"mousedown").pipe(We(this._closed$),Oe(()=>i=!1),he(()=>rt(n,"mouseup").pipe(We(this._closed$),Te(1))),Le(({target:r})=>n===r)).subscribe(()=>{i=!0}),rt(n,"click").pipe(We(this._closed$)).subscribe(({target:r})=>{n===r&&(this.backdrop==="static"?this._bumpBackdrop():this.backdrop===!0&&!i&&this._zone.run(()=>this.dismiss(uw.BACKDROP_CLICK))),i=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){let{nativeElement:n}=this._elRef;if(!n.contains(document.activeElement)){let i=n.querySelector("[ngbAutofocus]"),r=kN(n)[0];(i||r||n).focus()}}_restoreFocus(){let n=this._document.body,i=this._elWithFocus,r;i&&i.focus&&n.contains(i)?r=i:r=n,this._zone.runOutsideAngular(()=>{setTimeout(()=>r.focus()),this._elWithFocus=null})}_bumpBackdrop(){this.backdrop==="static"&&Cr(this._zone,this._elRef.nativeElement,({classList:n})=>(n.add("modal-static"),()=>n.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275cmp=fe({type:e,selectors:[["ngb-modal-window"]],viewQuery:function(i,r){if(i&1&&NI(C8,7),i&2){let o;cs(o=us())&&(r._dialogEl=o.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(i,r){i&2&&(mn("aria-modal",!0)("aria-labelledby",r.ariaLabelledBy)("aria-describedby",r.ariaDescribedBy),kd("modal d-block"+(r.windowClass?" "+r.windowClass:"")),Bt("fade",r.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[Ga],ngContentSelectors:w8,decls:4,vars:2,consts:[["dialog",""],["role","document"],[1,"modal-content"]],template:function(i,r){i&1&&(AI(),M(0,"div",1,0)(2,"div",2),MI(3),I()()),i&2&&kd("modal-dialog"+(r.size?" modal-"+r.size:"")+(r.centered?" modal-dialog-centered":"")+r.fullscreenClass+(r.scrollable?" modal-dialog-scrollable":"")+(r.modalDialogClass?" "+r.modalDialogClass:""))},styles:[`ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}
`],encapsulation:2})}}return e})(),r4=(()=>{class e{constructor(){this._applicationRef=m(Gn),this._injector=m(Ae),this._environmentInjector=m(dt),this._document=m(Be),this._scrollBar=m(X8),this._activeWindowCmptHasChanged=new re,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new ge;let n=m(H);this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){let i=this._windowCmpts[this._windowCmpts.length-1];k8(n,i.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(i.location.nativeElement)}})}_restoreScrollBar(){let n=this._scrollBarRestoreFn;n&&(this._scrollBarRestoreFn=null,n())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(n,i,r){let o=r.container instanceof HTMLElement?r.container:aw(r.container)?this._document.querySelector(r.container):this._document.body;if(!o)throw new Error(`The specified modal container "${r.container||"body"}" was not found in the DOM.`);this._hideScrollBar();let s=new bp;n=r.injector||n;let a=n.get(dt,null)||this._environmentInjector,l=this._getContentRef(n,a,i,s,r),c=r.backdrop!==!1?this._attachBackdrop(o):void 0,u=this._attachWindowComponent(o,l.nodes),d=new cw(u,l,c,r.beforeDismiss);return this._registerModalRef(d),this._registerWindowCmpt(u),d.hidden.pipe(Te(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(this._document.body.classList.remove("modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),s.close=h=>{d.close(h)},s.dismiss=h=>{d.dismiss(h)},s.update=h=>{d.update(h)},d.update(r),this._modalRefs.length===1&&this._document.body.classList.add("modal-open"),c&&c.instance&&c.changeDetectorRef.detectChanges(),u.changeDetectorRef.detectChanges(),d}get activeInstances(){return this._activeInstances}dismissAll(n){this._modalRefs.forEach(i=>i.dismiss(n))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(n){let i=$d(e4,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(i.hostView),n.appendChild(i.location.nativeElement),i}_attachWindowComponent(n,i){let r=$d(i4,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:i});return this._applicationRef.attachView(r.hostView),n.appendChild(r.location.nativeElement),r}_getContentRef(n,i,r,o,s){return r?r instanceof hi?this._createFromTemplateRef(r,o):SN(r)?this._createFromString(r):this._createFromComponent(n,i,r,o,s):new ua([])}_createFromTemplateRef(n,i){let r={$implicit:i,close(s){i.close(s)},dismiss(s){i.dismiss(s)}},o=n.createEmbeddedView(r);return this._applicationRef.attachView(o),new ua([o.rootNodes],o)}_createFromString(n){let i=this._document.createTextNode(`${n}`);return new ua([[i]])}_createFromComponent(n,i,r,o,s){let a=Ae.create({providers:[{provide:bp,useValue:o}],parent:n}),l=$d(r,{environmentInjector:i,elementInjector:a}),c=l.location.nativeElement;return s.scrollable&&c.classList.add("component-host-scrollable"),this._applicationRef.attachView(l.hostView),new ua([[c]],l.hostView,l)}_setAriaHidden(n){let i=n.parentElement;i&&n!==this._document.body&&(Array.from(i.children).forEach(r=>{r!==n&&r.nodeName!=="SCRIPT"&&(this._ariaHiddenValues.set(r,r.getAttribute("aria-hidden")),r.setAttribute("aria-hidden","true"))}),this._setAriaHidden(i))}_revertAriaHidden(){this._ariaHiddenValues.forEach((n,i)=>{n?i.setAttribute("aria-hidden",n):i.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(n){let i=()=>{let r=this._modalRefs.indexOf(n);r>-1&&(this._modalRefs.splice(r,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(n),this._activeInstances.emit(this._modalRefs),n.result.then(i,i)}_registerWindowCmpt(n){this._windowCmpts.push(n),this._activeWindowCmptHasChanged.next(),n.onDestroy(()=>{let i=this._windowCmpts.indexOf(n);i>-1&&(this._windowCmpts.splice(i,1),this._activeWindowCmptHasChanged.next())})}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),o4=(()=>{class e{constructor(){this._injector=m(Ae),this._modalStack=m(r4),this._config=m(J8)}open(n,i={}){let r=C(Y(C({},this._config),{animation:this._config.animation}),i);return this._modalStack.open(this._injector,n,r)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(n){this._modalStack.dismissAll(n)}hasOpenModals(){return this._modalStack.hasOpenModals()}static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=D({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),BN=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=ie({type:e})}static{this.\u0275inj=ne({providers:[o4]})}}return e})();var jN=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=ie({type:e})}static{this.\u0275inj=ne({})}}return e})();var UN=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=ie({type:e})}static{this.\u0275inj=ne({})}}return e})();var HN=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=ie({type:e})}static{this.\u0275inj=ne({})}}return e})();var $N=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=ie({type:e})}static{this.\u0275inj=ne({})}}return e})();var WN=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=ie({type:e})}static{this.\u0275inj=ne({})}}return e})();var GN=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=ie({type:e})}static{this.\u0275inj=ne({})}}return e})();var zN=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=ie({type:e})}static{this.\u0275inj=ne({})}}return e})();var qN=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=ie({type:e})}static{this.\u0275inj=ne({})}}return e})();var YN=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=ie({type:e})}static{this.\u0275inj=ne({})}}return e})();var _le=new E("live announcer delay",{providedIn:"root",factory:()=>100});var KN=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=ie({type:e})}static{this.\u0275inj=ne({})}}return e})();var QN=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=ie({type:e})}static{this.\u0275inj=ne({})}}return e})(),s4=[NN,RN,ON,xN,FN,VN,BN,jN,QN,UN,HN,$N,WN,GN,zN,qN,YN,KN],ZN=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=ie({type:e})}static{this.\u0275inj=ne({imports:[s4,NN,RN,ON,xN,FN,VN,BN,jN,QN,UN,HN,$N,WN,GN,zN,qN,YN,KN]})}}return e})();function l4(e,t){e&1&&(ja(0),M(1,"a",16),k(2,"Manage Orders"),I(),M(3,"a",17),k(4,"Manage Products"),I(),Ua())}function c4(e,t){if(e&1){let n=ls();ja(0),M(1,"li",10)(2,"a",11),k(3),I(),M(4,"div",12)(5,"a",13),k(6,"My Orders"),I(),at(7,l4,5,0,"ng-container",14),M(8,"a",15),Ge("click",function(){Un(n);let r=tr();return Hn(r.logout())}),k(9,"Log Out"),I()()(),Ua()}if(e&2){let n=tr();pe(3),Wn(" ",n.appUser==null?null:n.appUser.name," "),pe(4),Me("ngIf",n.appUser==null?null:n.appUser.isAdmin)}}function u4(e,t){e&1&&(M(0,"li",7)(1,"a",18),k(2,"Login"),I()())}var Cp=class e{constructor(t,n){this.auth=t;this.router=n}appUser=null;isMenuCollapsed=!0;subscription;ngOnInit(){this.subscription=this.auth.appUser.subscribe(t=>{this.appUser=t})}ngOnDestroy(){this.subscription?.unsubscribe()}logout(){return _(this,null,function*(){try{yield this.auth.logout(),yield this.router.navigate(["/"])}catch(t){console.error("Logout error:",t)}})}static \u0275fac=function(n){return new(n||e)(O(Pt),O(ke))};static \u0275cmp=fe({type:e,selectors:[["navbar"]],decls:14,vars:5,consts:[["anonymousUser",""],[1,"navbar","navbar-expand-md","navbar-light","bg-light","fixed-top"],["routerLink","/",1,"navbar-brand"],["type","button",1,"navbar-toggler",3,"click"],[1,"navbar-toggler-icon"],[1,"collapse","navbar-collapse",3,"ngbCollapse"],[1,"navbar-nav","mr-auto"],[1,"nav-item"],["routerLink","/shopping-cart",1,"nav-link"],[4,"ngIf","ngIfElse"],["ngbDropdown","",1,"nav-item","dropdown"],["ngbDropdownToggle","","role","button",1,"nav-link","dropdown-toggle",2,"cursor","pointer"],["ngbDropdownMenu","",1,"dropdown-menu"],["routerLink","/my/orders",1,"dropdown-item"],[4,"ngIf"],[1,"dropdown-item",3,"click"],["routerLink","/admin/orders",1,"dropdown-item"],["routerLink","/admin/products",1,"dropdown-item"],["routerLink","/login",1,"nav-link"]],template:function(n,i){if(n&1){let r=ls();M(0,"nav",1)(1,"a",2),k(2,"O"),I(),M(3,"button",3),Ge("click",function(){return Un(r),Hn(i.isMenuCollapsed=!i.isMenuCollapsed)}),xt(4,"span",4),I(),M(5,"div",5)(6,"ul",6)(7,"li",7)(8,"a",8),k(9,"Shopping Cart"),I()(),at(10,c4,10,2,"ng-container",9),nr(11,"async"),at(12,u4,3,0,"ng-template",null,0,o_),I()()()}if(n&2){let r=_n(13);pe(5),Me("ngbCollapse",i.isMenuCollapsed),pe(5),Me("ngIf",Kr(11,3,i.auth.user$))("ngIfElse",r)}},dependencies:[Yd,vh,MN,wp,LN,fw,ps],encapsulation:2})};var Dp=class e{constructor(t,n,i){this.userService=t;this.auth=n;n.user$.subscribe(r=>{if(r){t.save(r);let o=localStorage.getItem("returnUrl");i.navigateByUrl(o)}})}static \u0275fac=function(n){return new(n||e)(O(ni),O(Pt),O(ke))};static \u0275cmp=fe({type:e,selectors:[["app-root"]],decls:3,vars:0,consts:[["role","main",1,"container"]],template:function(n,i){n&1&&(xt(0,"navbar"),M(1,"main",0),xt(2,"router-outlet"),I())},dependencies:[dv,Cp]})};var JN={production:!1,firebase:{apiKey:"AIzaSyBRzkoUiy8JoIqUB6UbilTRatu9egQoMQY",authDomain:"oshop-713a0.firebaseapp.com",projectId:"oshop-713a0",storageBucket:"oshop-713a0.firebasestorage.app",messagingSenderId:"141112207523",appId:"1:141112207523:web:c99ec43229b230776fb716",measurementId:"G-QDY1198C0Q"}};var Ep=class e{static \u0275fac=function(n){return new(n||e)};static \u0275mod=ie({type:e,bootstrap:[Dp]});static \u0275inj=ne({providers:[d1(()=>h1({projectId:"oshop-713a0",appId:"1:141112207523:web:c99ec43229b230776fb716",storageBucket:"oshop-713a0.firebasestorage.app",apiKey:"AIzaSyBRzkoUiy8JoIqUB6UbilTRatu9egQoMQY",authDomain:"oshop-713a0.firebaseapp.com",messagingSenderId:"141112207523",measurementId:"G-QDY1198C0Q"})),p1(()=>g1()),Pt,rn,ni,{provide:Js,useValue:JN.firebase},Pi,iM(()=>rM()),ea],imports:[wT,dp,ZN,aN]})};bT().bootstrapModule(Ep,{ngZoneEventCoalescing:!0}).catch(e=>console.error(e));
